**********************
Windows PowerShell transcript start
Start time: 20250803173706
Username: NETID\jafrank
RunAs User: NETID\jafrank
Configuration Name: 
Machine: HAUMEA (Microsoft Windows NT 10.0.20348.0)
Host Application: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe -noexit -command try { . "c:\Users\jafrank\AppData\Local\Programs\cursor\resources\app\out\vs\workbench\contrib\terminal\common\scripts\shellIntegration.ps1" } catch {}
Process ID: 13124
PSVersion: 5.1.20348.3932
PSEdition: Desktop
PSCompatibleVersions: 1.0, 2.0, 3.0, 4.0, 5.0, 5.1.20348.3932
BuildVersion: 10.0.20348.3932
CLRVersion: 4.0.30319.42000
WSManStackVersion: 3.0
PSRemotingProtocolVersion: 2.3
SerializationVersion: 1.1.0.1
**********************
Transcript started, output file is D:\dev\casestrainer\logs\script_20250803_173706.log

=== Checking Docker Availability ===
[OK] Docker CLI is available: Docker version 28.3.2, build 578ccf6
[INFO] Docker is running in Linux containers mode
[OK] Docker Compose is available: Docker Compose version v2.38.2-desktop.1
[cslaunch] Starting interactive menu...

========================================
 Enhanced CaseStrainer Docker Launcher
                v1.3 (ENHANCED)
========================================

 1.  Quick Production Start (FASTEST)
    - Minimal checks, maximum speed

 2.  Fast Production Start (RECOMMENDED) - Restart with latest code
    - Fast restart with volume mounts, no rebuild needed

 3.  Force Full Rebuild
    - Complete rebuild, use when needed

 4.   Advanced Diagnostics
 5.   Cache Management
 6.   Stop All Services
 7.  Quick Status Check
 8.  Run Production Server Test
 0.  Exit

TIP: Use option 1 for fastest startup!

ðŸš€ FAST START: Restarting containers with latest code (volume mounts enabled)...
Cleaning Python cache...
Restarting containers with existing images...

[INFO] Fast production start complete!
[INFO] Latest code is available via volume mounts (no rebuild needed).
[INFO] If you are testing the frontend, please hard-refresh your browser (Ctrl+F5).

Press any key to return to menu...

========================================
 Enhanced CaseStrainer Docker Launcher
                v1.3 (ENHANCED)
========================================

 1.  Quick Production Start (FASTEST)
    - Minimal checks, maximum speed

 2.  Fast Production Start (RECOMMENDED) - Restart with latest code
    - Fast restart with volume mounts, no rebuild needed

 3.  Force Full Rebuild
    - Complete rebuild, use when needed

 4.   Advanced Diagnostics
 5.   Cache Management
 6.   Stop All Services
 7.  Quick Status Check
 8.  Run Production Server Test
 0.  Exit

TIP: Use option 1 for fastest startup!

Invalid selection. Please enter a number between 0 and 8.
PS>TerminatingError(): "The pipeline has been stopped."
>> TerminatingError(): "The pipeline has been stopped."
PS>TerminatingError(): "The pipeline has been stopped."
>> TerminatingError(): "The pipeline has been stopped."
]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>0
0
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
]633;D]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python -c "import requests; files = {'file': open('test_document.html', 'rb')}; response = requests.post('http://localhost:5000/casestrainer/api/analyze', files=files); print(f'Status Code: {response.status_code}'); print(f'Response: {response.text}')"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>Start-Sleep -Seconds 8; $taskId = "1cdc886b-5688-4982-9389-425f0a0ddca8"; $response = Invoke-WebRequest -Uri "http://localhost:5000/casestrainer/api/task_status/$taskId" -UseBasicParsing; $response.Content
{"citations":[{"canonical_date":null,"canonical_name":null,"case_history":[],"case_name":"Smith v. Jones","citation":"200 Wash. 2d 72, 514 P.3d 643","cluster_members":[],"confidence":1.0,"context":"\ufeff<!DOCTYPE html><html><head><title>Legal Document Test</title></head><body><h1>Legal Document Test</h1><p>The court in Smith v. Jones, 200 Wash. 2d 72, 514 P.3d 643 (2022)","court":null,"docket_numbers":[],"end_index":164,"error":null,"extracted_case_name":"Smith v. Jones","extracted_date":"2022","extraction_method":null,"is_cluster":false,"is_parallel":true,"metadata":{"cluster_canonical_date":null,"cluster_canonical_name":null,"cluster_extracted_case_name":null,"cluster_extracted_date":null,"cluster_id":"extracted_Smith_v._Jones_2022","cluster_members":[],"cluster_size":0,"cluster_url":null,"is_in_cluster":true},"method":"regex","parallel_citations":["514 P.3d 643"],"pattern":"parallel_citation_cluster","pinpoint_pages":[],"publication_status":null,"source":"fallback","start_index":135,"url":null,"verified":false},{"canonical_date":null,"canonical_name":null,"case_history":[],"case_name":"Smith v. Jones","citation":"514 P.3d 643","cluster_members":[],"confidence":0.9,"context":"d 72, 514 P.3d 643 (2022)","court":null,"docket_numbers":[],"end_index":164,"error":null,"extracted_case_name":"Smith v. Jones","extracted_date":"2022","extraction_method":null,"is_cluster":false,"is_parallel":false,"metadata":{"cluster_canonical_date":null,"cluster_canonical_name":null,"cluster_extracted_case_name":null,"cluster_extracted_date":null,"cluster_id":"extracted_Smith_v._Jones_2022","cluster_members":[],"cluster_size":0,"cluster_url":null,"is_in_cluster":true},"method":"regex","parallel_citations":["200 Wash. 2d 72, 514 P.3d 643"],"pattern":"flexible_p3d","pinpoint_pages":[],"publication_status":null,"source":"fallback","start_index":152,"url":null,"verified":false},{"canonical_date":"1954-05-17","canonical_name":"Brown v. Board of Education","case_history":[],"case_name":"Brown v. Board","citation":"347 U.S. 483","cluster_members":[],"confidence":1.0,"context":"d 72, 514 P.3d 643 (2022) held that the defendant was liable. See also Brown v. Board, 347 U.S. 483 (1954)","court":null,"docket_numbers":[],"end_index":245,"error":null,"extracted_case_name":"Brown v. Board","extracted_date":"2022","extraction_method":null,"is_cluster":false,"is_parallel":false,"metadata":{"cluster_canonical_date":null,"cluster_canonical_name":null,"cluster_extracted_case_name":null,"cluster_extracted_date":null,"cluster_id":null,"cluster_members":[],"cluster_size":0,"cluster_url":null,"courtlistener_source":"CourtListener-search-validated","is_in_cluster":false},"method":"regex","parallel_citations":[],"pattern":"us","pinpoint_pages":[],"publication_status":null,"source":"CourtListener-search-validated","start_index":233,"url":"https://www.courtlistener.com/opinion/105221/brown-v-board-of-education/","verified":true}],"clusters":[{"canonical_date":null,"canonical_name":null,"citations":[{"canonical_date":null,"canonical_name":"N/A","citation":"200 Wash. 2d 72, 514 P.3d 643","confidence":1.0,"context":"\ufeff<!DOCTYPE html><html><head><title>Legal Document Test</title></head><body><h1>Legal Document Test</h1><p>The court in Smith v. Jones, 200 Wash. 2d 72, 514 P.3d 643 (2022)","court":null,"extracted_case_name":"Smith v. Jones","extracted_date":"2022","parallel_citations":["514 P.3d 643"],"source":"fallback","url":null,"verified":false},{"canonical_date":null,"canonical_name":"N/A","citation":"514 P.3d 643","confidence":0.9,"context":"d 72, 514 P.3d 643 (2022)","court":null,"extracted_case_name":"Smith v. Jones","extracted_date":"2022","parallel_citations":["200 Wash. 2d 72, 514 P.3d 643"],"source":"fallback","url":null,"verified":false}],"cluster_id":"extracted_Smith_v._Jones_2022","extracted_case_name":"Smith v. Jones","extracted_date":"2022","has_parallel_citations":true,"size":2,"source":"citation_clustering","url":null}],"metadata":{},"statistics":{"cache_hit":false,"processor_used":"TextFileProcessor","total_citations":3},"status":"completed","success":true,"task_id":"1cdc886b-5688-4982-9389-425f0a0ddca8"}
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker logs casestrainer-backend-prod --tail 20

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker exec casestrainer-redis-prod redis-cli -a caseStrainerRedis123 HGETALL "rq:job:58cd1f5c-3565-447f-8b4e-86a669583f54"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker exec casestrainer-redis-prod redis-cli -a caseStrainerRedis123 LLEN "rq:queue:casestrainer"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python -c "import requests; files = {'file': open('test_document.html', 'rb')}; response = requests.post('http://localhost:5000/casestrainer/api/analyze', files=files); print(f'Status Code: {response.status_code}'); print(f'Response: {response.text}')"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker exec casestrainer-redis-prod redis-cli -a caseStrainerRedis123 HGETALL "rq:job:ac922a1d-4fae-4cc4-8454-bf4dcf1df3b0"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>Start-Sleep -Seconds 5; docker exec casestrainer-redis-prod redis-cli -a caseStrainerRedis123 HGETALL "rq:job:ac922a1d-4fae-4cc4-8454-bf4dcf1df3b0"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>Invoke-WebRequest -Uri "http://localhost:5000/casestrainer/api/task_status/ac922a1d-4fae-4cc4-8454-bf4dcf1df3b0" -UseBasicParsing


StatusCode        : 200
StatusDescription : OK
Content           : {"citations":[{"canonical_date":null,"canonical_name":null,"case_history":[],"case_name":"Smit
                    h v. Jones","citation":"200 Wash. 2d 72, 514 P.3d
                    643","cluster_members":[],"confidence":1.0,"context":"\u...
RawContent        : HTTP/1.1 200 OK
                    Access-Control-Allow-Credentials: true
                    Access-Control-Allow-Origin: http://localhost:5000
                    Access-Control-Expose-Headers: Content-Disposition, Content-Type
                    Vary: Origin
                    Content-Len...
Forms             :
Headers           : {[Access-Control-Allow-Credentials, true], [Access-Control-Allow-Origin,
                    http://localhost:5000], [Access-Control-Expose-Headers, Content-Disposition, Content-Type],
                    [Vary, Origin]...}
Images            : {}
InputFields       : {}
Links             : {}
ParsedHtml        :
RawContentLength  : 4151



]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>Invoke-WebRequest -Uri "http://localhost:5000/casestrainer/api/processing_progress?task_id=ac922a1d-4fae-4cc4-8454-bf4dcf1df3b0" -UseBasicParsing


StatusCode        : 200
StatusDescription : OK
Content           : {"citations":[{"canonical_date":null,"canonical_name":null,"case_history":[],"case_name":"Smit
                    h v. Jones","citation":"200 Wash. 2d 72, 514 P.3d
                    643","cluster_members":[],"confidence":1.0,"context":"\u...
RawContent        : HTTP/1.1 200 OK
                    Access-Control-Allow-Credentials: true
                    Access-Control-Allow-Origin: http://localhost:5000
                    Access-Control-Expose-Headers: Content-Disposition, Content-Type
                    Vary: Origin
                    Content-Len...
Forms             :
Headers           : {[Access-Control-Allow-Credentials, true], [Access-Control-Allow-Origin,
                    http://localhost:5000], [Access-Control-Expose-Headers, Content-Disposition, Content-Type],
                    [Vary, Origin]...}
Images            : {}
InputFields       : {}
Links             : {}
ParsedHtml        :
RawContentLength  : 4151



]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
