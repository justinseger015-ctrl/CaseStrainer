**********************
Windows PowerShell transcript start
Start time: 20250731210352
Username: NETID\jafrank
RunAs User: NETID\jafrank
Configuration Name: 
Machine: HAUMEA (Microsoft Windows NT 10.0.20348.0)
Host Application: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe -noexit -command try { . "c:\Users\jafrank\AppData\Local\Programs\Windsurf\resources\app\out\vs\workbench\contrib\terminal\common\scripts\shellIntegration.ps1" } catch {}
Process ID: 11540
PSVersion: 5.1.20348.3932
PSEdition: Desktop
PSCompatibleVersions: 1.0, 2.0, 3.0, 4.0, 5.0, 5.1.20348.3932
BuildVersion: 10.0.20348.3932
CLRVersion: 4.0.30319.42000
WSManStackVersion: 3.0
PSRemotingProtocolVersion: 2.3
SerializationVersion: 1.1.0.1
**********************
Transcript started, output file is D:\dev\casestrainer\logs\script_20250731_210352.log

=== Checking Docker Availability ===
[OK] Docker CLI is available: Docker version 28.3.2, build 578ccf6
[INFO] Docker is running in Linux containers mode
[OK] Docker Compose is available: Docker Compose version v2.38.2-desktop.1
[cslaunch] Starting interactive menu...

========================================
 Enhanced CaseStrainer Docker Launcher
                v1.3 (ENHANCED)
========================================

 1.  Quick Production Start (FASTEST)
    - Minimal checks, maximum speed

 2.  Smart Production Start (RECOMMENDED)
    - Intelligent build detection, balanced speed

 3.  Force Full Rebuild
    - Complete rebuild, use when needed

 4.   Advanced Diagnostics
 5.   Cache Management
 6.   Stop All Services
 7.  Quick Status Check
 8.  Run Production Server Test
 0.  Exit

TIP: Use option 1 for fastest startup!

Deleting all .pyc files and __pycache__ directories to prevent stale bytecode...
Analyzing code changes to determine rebuild strategy...
ðŸ„ Rebuilding backend image to ensure Python code changes are included...

=== Starting Docker Production Mode ===
Checking if Vue build is needed...
Vue build is up to date
OK Docker is running
OK Sufficient disk space (80.99 GB free)
Processing Vue frontend build...
Using cached Vue build check result: False
Vue build needed: False, ForceRebuild: False
OK Vue build up to date (skipping build)
Stopping existing Docker containers...
Running: docker-compose -f D:\dev\casestrainer\docker-compose.prod.yml down --timeout 30
PS>TerminatingError(): "The pipeline has been stopped."
PS>TerminatingError(): "The pipeline has been stopped."
>> TerminatingError(): "The pipeline has been stopped."
PS>TerminatingError(): "The pipeline has been stopped."
>> TerminatingError(): "The pipeline has been stopped."
]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker ps -a

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>.\cslaunch.ps1 2
>> TerminatingError(cslaunch.ps1): "Cannot validate argument on parameter 'Mode'. The argument "2" does not belong to the set "Production,Diagnostics,Menu,Cache,Test,Debug" specified by the ValidateSet attribute. Supply an argument that is in the set and then try the command again."
D:\dev\casestrainer\cslaunch.ps1 : Cannot validate argument on parameter 'Mode'. The argument "2" does not belong to 
the set "Production,Diagnostics,Menu,Cache,Test,Debug" specified by the ValidateSet attribute. Supply an argument that 
is in the set and then try the command again.
At line:1 char:16
+ .\cslaunch.ps1 2
+                ~
    + CategoryInfo          : InvalidData: (:) [cslaunch.ps1], ParameterBindingValidationException
    + FullyQualifiedErrorId : ParameterArgumentValidationError,cslaunch.ps1
D:\dev\casestrainer\cslaunch.ps1 : Cannot validate argument on
parameter 'Mode'. The argument "2" does not belong to the set
"Production,Diagnostics,Menu,Cache,Test,Debug" specified by
the ValidateSet attribute. Supply an argument that is in the
set and then try the command again.
At line:1 char:16
+ .\cslaunch.ps1 2
+                ~
    + CategoryInfo          : InvalidData: (:) [cslaunch.ps1],
    ParameterBindingValidationException
    + FullyQualifiedErrorId : ParameterArgumentValidationError
   ,cslaunch.ps1

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>./cslaunch
Transcript started, output file is D:\dev\casestrainer\logs\script_20250731_210441.log

=== Checking Docker Availability ===
[OK] Docker CLI is available: Docker version 28.3.2, build 578ccf6
[INFO] Docker is running in Linux containers mode
[OK] Docker Compose is available: Docker Compose version v2.38.2-desktop.1
[cslaunch] Starting interactive menu...

========================================
 Enhanced CaseStrainer Docker Launcher
                v1.3 (ENHANCED)
========================================

 1.  Quick Production Start (FASTEST)
    - Minimal checks, maximum speed

 2.  Smart Production Start (RECOMMENDED)
    - Intelligent build detection, balanced speed

 3.  Force Full Rebuild
    - Complete rebuild, use when needed

 4.   Advanced Diagnostics
 5.   Cache Management
 6.   Stop All Services
 7.  Quick Status Check
 8.  Run Production Server Test
 0.  Exit

TIP: Use option 1 for fastest startup!

Deleting all .pyc files and __pycache__ directories to prevent stale bytecode...
Analyzing code changes to determine rebuild strategy...
ðŸ„ Rebuilding backend image to ensure Python code changes are included...

=== Starting Docker Production Mode ===
Checking if Vue build is needed...
Vue build is up to date
OK Docker is running
OK Sufficient disk space (80.99 GB free)
Processing Vue frontend build...
Using cached Vue build check result: False
Vue build needed: False, ForceRebuild: False
OK Vue build up to date (skipping build)
Stopping existing Docker containers...
Running: docker-compose -f D:\dev\casestrainer\docker-compose.prod.yml down --timeout 30
Containers stopped successfully
Checking for any remaining 'casestrainer' containers...
No remaining 'casestrainer' containers found.

Starting Docker containers...
Using existing images (no rebuild needed)...
Docker compose command: docker-compose -f D:\dev\casestrainer\docker-compose.prod.yml up -d
OK Docker containers started successfully
Waiting for containers to initialize...

Waiting for services to initialize...
Services not ready (attempt 1): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 2): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 3): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 4): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 5): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 6): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 7): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 8): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 9): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 10): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 11): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 12): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 13): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 14): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 15): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 16): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 17): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 18): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 19): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 20): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 21): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 22): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 23): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 24): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 25): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 26): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 27): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 28): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 29): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 30): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 31): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 32): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 33): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 34): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 35): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 36): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 37): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 38): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 39): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 40): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 41): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 42): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 43): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 44): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 45): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 46): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 47): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 48): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 49): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
WARNING: Timeout waiting for services after 10 minutes
Final status: Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Health check failed, attempting container restart...
Restarting backend and worker containers...
docker-compose : no such service: backend-prod
At D:\dev\casestrainer\cslaunch.ps1:1693 char:29
+ ...             docker-compose -f $dockerComposeFile restart backend-prod ...
+                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (no such service: backend-prod:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError

Waiting for services to initialize...
Services not ready (attempt 1): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 2): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 3): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 4): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 5): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 6): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 7): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 8): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 9): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 10): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 11): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 12): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 13): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 14): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 15): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
WARNING: Timeout waiting for services after 3 minutes
Final status: Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Container restart didn't help, but continuing anyway...

=== Docker Production Mode Ready ===
INFO Production Site:  https://wolf.law.uw.edu/casestrainer

Local Development URLs:
Backend API:    http://localhost:5001/casestrainer/api/
Frontend Prod:  http://localhost:8080/
Nginx (HTTP):   http://localhost:80/
Nginx (HTTPS):  https://localhost:443/
Local Frontend: https://localhost/casestrainer/
API Health:     https://localhost/casestrainer/api/health

Docker Commands:
  View logs:    docker-compose -f docker-compose.prod.yml logs [service]
  Stop all:     docker-compose -f docker-compose.prod.yml down
  Restart:      docker-compose -f docker-compose.prod.yml restart [service]

Running adaptive learning pipeline...
Starting adaptive learning pipeline...
Using enhanced adaptive learning pipeline...
Running adaptive learning pipeline...
âœ… Adaptive learning pipeline completed successfully
âœ… Adaptive learning completed successfully

Running post-startup validation...
  Testing API endpoints...
PS>TerminatingError(Invoke-WebRequest): "Unable to connect to the remote server"
  Health check attempt 1 failed: Unable to connect to the remote server
PS>TerminatingError(Invoke-WebRequest): "Unable to connect to the remote server"
  Health check attempt 2 failed: Unable to connect to the remote server
PS>TerminatingError(Invoke-WebRequest): "Unable to connect to the remote server"
  Health check attempt 3 failed: Unable to connect to the remote server
  âŒ API health check failed after 3 attempts
WARNING: Post-startup validation failed - system may have issues

=== Starting Docker Production Mode ===
Checking if Vue build is needed...
Vue build is up to date
OK Docker is running
OK Sufficient disk space (80.98 GB free)
Processing Vue frontend build...
Using cached Vue build check result: False
Vue build needed: False, ForceRebuild: False
OK Vue build up to date (skipping build)
Stopping existing Docker containers...
Running: docker-compose -f D:\dev\casestrainer\docker-compose.prod.yml down --timeout 30
Containers stopped successfully
Checking for any remaining 'casestrainer' containers...
WARNING: Found remaining containers after down. Forcibly removing...
  Removing container: casestrainer-nginx-prod (ec513d50d37b)
  Removing container: casestrainer-rqworker-prod (e3932eef2a18)
  Removing container: casestrainer-backend-prod (75d1def7d2ab)
  Removing container: casestrainer-rqworker3-prod (e7b0e5167e76)
  Removing container: casestrainer-rqworker2-prod (b8e238de472b)
All remaining 'casestrainer' containers forcibly removed.

Starting Docker containers...
Using existing images (no rebuild needed)...
Docker compose command: docker-compose -f D:\dev\casestrainer\docker-compose.prod.yml up -d
OK Docker containers started successfully
Waiting for containers to initialize...

Waiting for services to initialize...
Services not ready (attempt 1): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 2): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 3): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 4): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 5): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 6): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 7): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 8): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 9): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 10): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 11): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 12): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 13): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 14): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 15): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 16): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker:
Services not ready (attempt 17): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 18): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 19): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 20): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 21): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 22): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 23): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 24): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 25): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 26): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 27): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 28): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 29): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 30): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 31): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 32): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): UP, RQ Worker: HEALTHY
Services not ready (attempt 33): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 34): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 35): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 36): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 37): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 38): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 39): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 40): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 41): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 42): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 43): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 44): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 45): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 46): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
WARNING: Timeout waiting for services after 10 minutes
Final status: Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Health check failed, attempting container restart...
Restarting backend and worker containers...
docker-compose : no such service: backend-prod
At D:\dev\casestrainer\cslaunch.ps1:1693 char:29
+ ...             docker-compose -f $dockerComposeFile restart backend-prod ...
+                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (no such service: backend-prod:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError

Waiting for services to initialize...
Services not ready (attempt 1): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 2): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 3): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 4): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 5): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 6): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 7): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 8): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 9): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 10): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 11): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 12): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Services not ready (attempt 13): Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
WARNING: Timeout waiting for services after 3 minutes
Final status: Backend (127.0.0.1:5001): DOWN, Redis (127.0.0.1:6380): DOWN, RQ Worker:
Container restart didn't help, but continuing anyway...

=== Docker Production Mode Ready ===
INFO Production Site:  https://wolf.law.uw.edu/casestrainer

Local Development URLs:
Backend API:    http://localhost:5001/casestrainer/api/
Frontend Prod:  http://localhost:8080/
Nginx (HTTP):   http://localhost:80/
Nginx (HTTPS):  https://localhost:443/
Local Frontend: https://localhost/casestrainer/
API Health:     https://localhost/casestrainer/api/health

Docker Commands:
  View logs:    docker-compose -f docker-compose.prod.yml logs [service]
  Stop all:     docker-compose -f docker-compose.prod.yml down
  Restart:      docker-compose -f docker-compose.prod.yml restart [service]

Running adaptive learning pipeline...
Starting adaptive learning pipeline...
Using enhanced adaptive learning pipeline...
Running adaptive learning pipeline...
âœ… Adaptive learning pipeline completed successfully
âœ… Adaptive learning completed successfully

Running post-startup validation...
  Testing API endpoints...
PS>TerminatingError(Invoke-WebRequest): "Unable to connect to the remote server"
  Health check attempt 1 failed: Unable to connect to the remote server
PS>TerminatingError(Invoke-WebRequest): "Unable to connect to the remote server"
  Health check attempt 2 failed: Unable to connect to the remote server
PS>TerminatingError(Invoke-WebRequest): "Unable to connect to the remote server"
  Health check attempt 3 failed: Unable to connect to the remote server
  âŒ API health check failed after 3 attempts
WARNING: Post-startup validation failed - system may have issues
Running production test suite...
[2025-07-31 21:34:05] âŒ Some production tests failed (exit code: 4)!

Last 30 lines of test output:
--maxfail=1 --disab ...
+
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (D:\Python\Lib\s..
   .cope" is unset.:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError

The event loop scope for asynchronous fixtures will default to
the fixture caching scope. Future versions of pytest-asyncio
will default the loop scope for asynchronous fixtures to
function scope. Set the default fixture loop scope explicitly
in order to avoid unexpected behavior in the future. Valid
fixture loop scopes are: "function", "class", "module",
"package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_
SCOPE_UNSET))
============================= test session starts =============================
platform win32 -- Python 3.13.3, pytest-8.3.5, pluggy-1.6.0 -- D:\Python\python.exe
cachedir: .pytest_cache
metadata: {'Python': '3.13.3', 'Platform': 'Windows-2022Server-10.0.20348-SP0', 'Packages': {'pytest': '8.3.5', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'asyncio': '1.0.0', 'cov': '6.1.1', 'html': '4.1.1', 'httpx': '0.35.0', 'metadata': '3.1.1', 'mock': '3.14.1', 'timeout': '2.4.0', 'xdist': '3.7.0'}}
rootdir: D:\dev\casestrainer
configfile: pytest.ini
plugins: anyio-4.9.0, asyncio-1.0.0, cov-6.1.1, html-4.1.1, httpx-0.35.0, metadata-3.1.1, mock-3.14.1, timeout-2.4.0, xdist-3.7.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
ERROR: file or directory not found: test_production_server.py

collecting ... collected 0 items

============================ no tests ran in 0.04s ============================

Full test log available at: D:\dev\casestrainer\logs\production_test.log
PS>TerminatingError(): "System error."
#1 [internal] load local bake definitions
#1 reading from stdin 354B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.62kB 0.0s done
#2 DONE 0.1s

#3 [internal] load metadata for docker.io/library/python:3.10-slim
#3 DONE 0.5s

#4 [internal] load .dockerignore
#4 transferring context: 908B done
#4 DONE 0.0s

#5 [internal] load build context
#5 DONE 0.0s

#6 [ 1/15] FROM docker.io/library/python:3.10-slim@sha256:81f1cdb3770d54ecfdbddcc52c2125fce674c14a1d976dfd8f65dc0734f9c3c5
#6 resolve docker.io/library/python:3.10-slim@sha256:81f1cdb3770d54ecfdbddcc52c2125fce674c14a1d976dfd8f65dc0734f9c3c5
#6 resolve docker.io/library/python:3.10-slim@sha256:81f1cdb3770d54ecfdbddcc52c2125fce674c14a1d976dfd8f65dc0734f9c3c5 0.1s done
#6 DONE 0.1s

#5 [internal] load build context
#5 transferring context: 37.52kB 0.1s done
#5 DONE 0.1s

#7 [ 9/15] COPY --chown=app:app app/ /app/app/
#7 CACHED

#8 [ 5/15] RUN pip install --no-cache-dir -r requirements.txt
#8 CACHED

#9 [ 2/15] WORKDIR /app
#9 CACHED

#10 [14/15] RUN mkdir -p /app/logs && chown app:app /app/logs
#10 CACHED

#11 [13/15] RUN find . -type d -name '__pycache__' -exec rm -r {} + && find . -type f -name '*.pyc' -delete
#11 CACHED

#12 [12/15] COPY --chown=app:app static/ /app/static/
#12 CACHED

#13 [ 4/15] RUN apt-get update && apt-get install -y git && rm -rf /var/lib/apt/lists/*
#13 CACHED

#14 [11/15] COPY --chown=app:app templates/ /app/templates/
#14 CACHED

#15 [10/15] COPY --chown=app:app config/ /app/config/
#15 CACHED

#16 [ 8/15] COPY --chown=app:app src/ /app/src/
#16 CACHED

#17 [ 3/15] COPY requirements.txt requirements.txt
#17 CACHED

#18 [ 6/15] RUN apt-get update && apt-get install -y     build-essential     gcc     curl     git     libmagic1     && rm -rf /var/lib/apt/lists/*
#18 CACHED

#19 [ 7/15] RUN useradd --create-home --shell /bin/bash app
#19 CACHED

#20 [15/15] RUN mkdir -p /home/app/data /home/app/logs /home/app/uploads /home/app/temp_uploads /app/citation_cache
#20 CACHED

#21 exporting to image
#21 exporting layers 0.0s done
#21 exporting manifest sha256:f5d0affa5b33e42ba6aee72e1b490a215feaa68139a6620b7cbdc7c459ca577a 0.0s done
#21 exporting config sha256:bea5c7be3deba1ce4348693b7d2fc26cedaea39e0954d676f5b4cd487d525a57 0.0s done
#21 exporting attestation manifest sha256:725384850bf80dcc79acaa41c2cd58fa00d2558ae15409e33cb70a29730c0ab0 0.1s done
#21 exporting manifest list sha256:495b891cff9bcbcbd470d33b1956bd5c0ad4e43dc229bbbfe03b34b8afbf0387
#21 exporting manifest list sha256:495b891cff9bcbcbd470d33b1956bd5c0ad4e43dc229bbbfe03b34b8afbf0387 0.0s done
#21 naming to docker.io/library/casestrainer-backend:latest done
#21 unpacking to docker.io/library/casestrainer-backend:latest 0.1s done
#21 DONE 0.4s

#22 resolving provenance for metadata file
#22 DONE 0.0s
pytest.exe :
D:\Python\Lib\site-packages\pytest_asyncio\plugin.py:208:
PytestDeprecationWarning: The configuration option
"asyncio_default_fixture_loop_scope" is unset.
At D:\dev\casestrainer\cslaunch.ps1:2277 char:17
+ ...             & pytest test_production_server.py -v
--maxfail=1 --disab ...
+
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (D:\Python\Lib\s..
   .cope" is unset.:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError

The event loop scope for asynchronous fixtures will default to
the fixture caching scope. Future versions of pytest-asyncio
will default the loop scope for asynchronous fixtures to
function scope. Set the default fixture loop scope explicitly
in order to avoid unexpected behavior in the future. Valid
fixture loop scopes are: "function", "class", "module",
"package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_
SCOPE_UNSET))
============================= test session starts =============================
platform win32 -- Python 3.13.3, pytest-8.3.5, pluggy-1.6.0 -- D:\Python\python.exe
cachedir: .pytest_cache
metadata: {'Python': '3.13.3', 'Platform': 'Windows-2022Server-10.0.20348-SP0', 'Packages': {'pytest': '8.3.5', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'asyncio': '1.0.0', 'cov': '6.1.1', 'html': '4.1.1', 'httpx': '0.35.0', 'metadata': '3.1.1', 'mock': '3.14.1', 'timeout': '2.4.0', 'xdist': '3.7.0'}}
rootdir: D:\dev\casestrainer
configfile: pytest.ini
plugins: anyio-4.9.0, asyncio-1.0.0, cov-6.1.1, html-4.1.1, httpx-0.35.0, metadata-3.1.1, mock-3.14.1, timeout-2.4.0, xdist-3.7.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
ERROR: file or directory not found: test_production_server.py

collecting ... collected 0 items

============================ no tests ran in 0.04s ============================
]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
]633;D]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git status --porcelain

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
]633;D]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git add cslaunch.ps1

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git add tests/test_core_endpoints_consolidated.py

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
]633;D]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git status -u

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
]633;D]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git commit -m "Enhance container cleanup and health checks in cslaunch.ps1"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git push origin main

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker ps --format "table {{.ID}}\t{{.Names}}\t{{.Status}}\t{{.Ports}}\t{{.Health}}\t{{.State}}\t{{.Image}}\t{{.Command}}\t{{.CreatedAt}}\t{{.Size}}\t{{.Networks}}\t{{.Mounts}}\t{{.Labels}}\t{{.SizeRw}}\t{{.SizeRootFs}}\t{{.Status}}\t{{.RunningFor}}\t{{.ImageID}}"

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker ps -a

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker ps --format "table {{.ID}}\t{{.Names}}\t{{.Status}}\t{{.Ports}}\t{{.State}}\t{{.Image}}\t{{.Command}}\t{{.CreatedAt}}\t{{.Size}}\t{{.Networks}}\t{{.Mounts}}\t{{.Labels}}\t{{.SizeRw}}\t{{.SizeRootFs}}\t{{.Status}}\t{{.RunningFor}}\t{{.ImageID}}"

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker ps -a --format "{{.Names}}\t{{.Status}}\t{{.Ports}}\t{{.State}}"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker logs casestrainer-frontend-prod

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker logs casestrainer-backend-prod

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker logs casestrainer-nginx-prod

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>curl -v http://localhost:5000/casestrainer/api/health
VERBOSE: GET http://localhost:5000/casestrainer/api/health with 0-byte payload
VERBOSE: received 449-byte response of content type application/json


StatusCode        : 200
StatusDescription : OK
Content           : {"components":{"citation_processor":"health
                    y","database":"healthy","upload_directory":
                    "healthy"},"database_stats":{"path":"/app/d
                    ata/citations.db","size_mb":0.11,"tables":4
                    },"endpoints":{"alias":"/hea...
RawContent        : HTTP/1.1 200 OK
                    Access-Control-Allow-Credentials: true
                    Access-Control-Allow-Origin:
                    http://localhost:5000
                    Access-Control-Expose-Headers:
                    Content-Disposition, Content-Type
                    Vary: Origin
                    Content-Len...
Forms             : {}
Headers           : {[Access-Control-Allow-Credentials, true],
                    [Access-Control-Allow-Origin,
                    http://localhost:5000],
                    [Access-Control-Expose-Headers,
                    Content-Disposition, Content-Type], [Vary,
                    Origin]...}
Images            : {}
InputFields       : {}
Links             : {}
ParsedHtml        : System.__ComObject
RawContentLength  : 449



]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker logs casestrainer-backend-prod

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker exec casestrainer-backend-prod env | grep REDIS
grep : The term 'grep' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the 
spelling of the name, or if a path was included, verify that the path is correct and try again.
At line:1 char:45
+ docker exec casestrainer-backend-prod env | grep REDIS
+                                             ~~~~
    + CategoryInfo          : ObjectNotFound: (grep:String) [], CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException
grep : The term 'grep' is not recognized as the name of a
cmdlet, function, script file, or operable program. Check the
spelling of the name, or if a path was included, verify that
the path is correct and try again.
At line:1 char:45
+ docker exec casestrainer-backend-prod env | grep REDIS
+                                             ~~~~
    + CategoryInfo          : ObjectNotFound: (grep:String) []
   , CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker exec casestrainer-backend-prod python -c "import os; print('REDIS_URL:', os.environ.get('REDIS_URL', 'not set'))"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker-compose -f docker-compose.prod.yml restart backend-prod

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker ps --format "{{.Names}}\t{{.Status}}\t{{.Ports}}"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker-compose -f docker-compose.prod.yml restart backend

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python -m pytest tests/test_backend_api.py tests/test_cluster_api.py tests/test_citation_extractor.py -v

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python -m pytest tests/test_backend_api.py -v

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python -m pytest --version

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python tests/test_backend_api.py http://localhost:5000

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python tests/test_cluster_api.py 443a87912e4f444fb818fca454364d71e4aa9f91 1

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python tests/test_cluster_api.py 443a87912e4f444fb818fca454364d71e4aa9f91 1

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python tests/test_cluster_api.py 443a87912e4f444fb818fca454364d71e4aa9f91 1

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>curl -v http://localhost:5000/casestrainer/api/health
VERBOSE: GET http://localhost:5000/casestrainer/api/health with 0-byte payload
VERBOSE: received 449-byte response of content type application/json


StatusCode        : 200
StatusDescription : OK
Content           : {"components":{"citation_processor":"health
                    y","database":"healthy","upload_directory":
                    "healthy"},"database_stats":{"path":"/app/d
                    ata/citations.db","size_mb":0.11,"tables":4
                    },"endpoints":{"alias":"/hea...
RawContent        : HTTP/1.1 200 OK
                    Access-Control-Allow-Credentials: true
                    Access-Control-Allow-Origin:
                    http://localhost:5000
                    Access-Control-Expose-Headers:
                    Content-Disposition, Content-Type
                    Vary: Origin
                    Content-Len...
Forms             : {}
Headers           : {[Access-Control-Allow-Credentials, true],
                    [Access-Control-Allow-Origin,
                    http://localhost:5000],
                    [Access-Control-Expose-Headers,
                    Content-Disposition, Content-Type], [Vary,
                    Origin]...}
Images            : {}
InputFields       : {}
Links             : {}
ParsedHtml        : System.__ComObject
RawContentLength  : 449



]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker ps --filter name=casestrainer-backend-prod

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker logs casestrainer-backend-prod --tail 50

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>powershell -NoProfile -ExecutionPolicy Bypass -File check_servers.ps1

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker logs casestrainer-nginx-prod --tail 50

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker restart casestrainer-nginx-prod

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker ps --filter name=casestrainer-nginx-prod

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>curl -v http://localhost/casestrainer/api/health
VERBOSE: GET http://localhost/casestrainer/api/health with 0-byte payload
>> TerminatingError(Invoke-WebRequest): "The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel."
curl : The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel.
At line:1 char:1
+ curl -v http://localhost/casestrainer/api/health
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (System.Net.HttpWebRequest:HttpWebRequest) [Invoke-WebRequest], 
WebException
    + FullyQualifiedErrorId : WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand
curl : The underlying connection was closed: Could not
establish trust relationship for the SSL/TLS secure channel.
At line:1 char:1
+ curl -v http://localhost/casestrainer/api/health
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (System.Net.Ht
   tpWebRequest:HttpWebRequest) [Invoke-WebRequest], WebExcep
  tion
    + FullyQualifiedErrorId : WebCmdletWebResponseException,Mi
   crosoft.PowerShell.Commands.InvokeWebRequestCommand

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>curl -k -v https://localhost/casestrainer/api/health
>> TerminatingError(Invoke-WebRequest): "A parameter cannot be found that matches parameter name 'k'."
Invoke-WebRequest : A parameter cannot be found that matches parameter name 'k'.
At line:1 char:6
+ curl -k -v https://localhost/casestrainer/api/health
+      ~~
    + CategoryInfo          : InvalidArgument: (:) [Invoke-WebRequest], ParameterBindingException
    + FullyQualifiedErrorId : NamedParameterNotFound,Microsoft.PowerShell.Commands.InvokeWebRequestCommand
Invoke-WebRequest : A parameter cannot be found that matches
parameter name 'k'.
At line:1 char:6
+ curl -k -v https://localhost/casestrainer/api/health
+      ~~
    + CategoryInfo          : InvalidArgument: (:) [Invoke-Web
   Request], ParameterBindingException
    + FullyQualifiedErrorId : NamedParameterNotFound,Microsoft
   .PowerShell.Commands.InvokeWebRequestCommand

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}; Invoke-WebRequest -Uri 'https://localhost/casestrainer/api/health' -UseBasicParsing
>> TerminatingError(Invoke-WebRequest): "The underlying connection was closed: An unexpected error occurred on a send."
Invoke-WebRequest : The underlying connection was closed: An unexpected error occurred on a send.
At line:1 char:82
+ ...  = {$true}; Invoke-WebRequest -Uri 'https://localhost/casestrainer/ap ...
+                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (System.Net.HttpWebRequest:HttpWebRequest) [Invoke-WebRequest], 
WebException
    + FullyQualifiedErrorId : WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand
Invoke-WebRequest : The underlying connection was closed: An
unexpected error occurred on a send.
At line:1 char:82
+ ...  = {$true}; Invoke-WebRequest -Uri
'https://localhost/casestrainer/ap ...
+
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (System.Net.Ht
   tpWebRequest:HttpWebRequest) [Invoke-WebRequest], WebExcep
  tion
    + FullyQualifiedErrorId : WebCmdletWebResponseException,Mi
   crosoft.PowerShell.Commands.InvokeWebRequestCommand

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker exec casestrainer-nginx-prod ls -la /etc/nginx/conf.d/

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker exec casestrainer-nginx-prod cat /etc/nginx/conf.d/casestrainer.conf
}
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker exec casestrainer-nginx-prod ls -la /etc/nginx/ssl/

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker exec casestrainer-nginx-prod nginx -t

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker exec casestrainer-nginx-prod cat /var/log/nginx/error.log

PS>TerminatingError(): "The pipeline has been stopped."
>> TerminatingError(): "The pipeline has been stopped."
]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>Invoke-WebRequest -Uri 'https://wolf.law.uw.edu/casestrainer/api/health' -UseBasicParsing
>> TerminatingError(Invoke-WebRequest): "The underlying connection was closed: An unexpected error occurred on a send."
Invoke-WebRequest : The underlying connection was closed: An unexpected error occurred on a send.
At line:1 char:1
+ Invoke-WebRequest -Uri 'https://wolf.law.uw.edu/casestrainer/api/heal ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (System.Net.HttpWebRequest:HttpWebRequest) [Invoke-WebRequest], 
WebException
    + FullyQualifiedErrorId : WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand
Invoke-WebRequest : The underlying connection was closed: An
unexpected error occurred on a send.
At line:1 char:1
+ Invoke-WebRequest -Uri
'https://wolf.law.uw.edu/casestrainer/api/heal ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~
    + CategoryInfo          : InvalidOperation: (System.Net.Ht
   tpWebRequest:HttpWebRequest) [Invoke-WebRequest], WebExcep
  tion
    + FullyQualifiedErrorId : WebCmdletWebResponseException,Mi
   crosoft.PowerShell.Commands.InvokeWebRequestCommand

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}; try { $response = Invoke-WebRequest -Uri 'https://wolf.law.uw.edu/casestrainer/api/health' -UseBasicParsing; Write-Host "Status Code: $($response.StatusCode)"; Write-Host "Response: $($response.Content)" } catch { Write-Host "Error: $($_.Exception.Message)" }
>> TerminatingError(Invoke-WebRequest): "The underlying connection was closed: An unexpected error occurred on a send."
Error: The underlying connection was closed: An unexpected error occurred on a send.
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>curl -v -k https://wolf.law.uw.edu/casestrainer/api/health
>> TerminatingError(Invoke-WebRequest): "A parameter cannot be found that matches parameter name 'k'."
Invoke-WebRequest : A parameter cannot be found that matches parameter name 'k'.
At line:1 char:9
+ curl -v -k https://wolf.law.uw.edu/casestrainer/api/health
+         ~~
    + CategoryInfo          : InvalidArgument: (:) [Invoke-WebRequest], ParameterBindingException
    + FullyQualifiedErrorId : NamedParameterNotFound,Microsoft.PowerShell.Commands.InvokeWebRequestCommand
Invoke-WebRequest : A parameter cannot be found that matches
parameter name 'k'.
At line:1 char:9
+ curl -v -k https://wolf.law.uw.edu/casestrainer/api/health
+         ~~
    + CategoryInfo          : InvalidArgument: (:) [Invoke-Web
   Request], ParameterBindingException
    + FullyQualifiedErrorId : NamedParameterNotFound,Microsoft
   .PowerShell.Commands.InvokeWebRequestCommand

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>C:\Program Files\Git\mingw64\bin\curl.exe -v -k https://wolf.law.uw.edu/casestrainer/api/health
C:\Program : The term 'C:\Program' is not recognized as the name of a cmdlet, function, script file, or operable 
program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.
At line:1 char:1
+ C:\Program Files\Git\mingw64\bin\curl.exe -v -k https://wolf.law.uw.e ...
+ ~~~~~~~~~~
    + CategoryInfo          : ObjectNotFound: (C:\Program:String) [], CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException
C:\Program : The term 'C:\Program' is not recognized as the
name of a cmdlet, function, script file, or operable program.
Check the spelling of the name, or if a path was included,
verify that the path is correct and try again.
At line:1 char:1
+ C:\Program Files\Git\mingw64\bin\curl.exe -v -k
https://wolf.law.uw.e ...
+ ~~~~~~~~~~
    + CategoryInfo          : ObjectNotFound: (C:\Program:Stri
   ng) [], CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>$ProgressPreference = 'SilentlyContinue'; try { $response = Invoke-WebRequest -Uri 'https://wolf.law.uw.edu/casestrainer/api/health' -SkipCertificateCheck -UseBasicParsing; Write-Host "Status Code: $($response.StatusCode)"; Write-Host "Response: $($response.Content)" } catch { Write-Host "Error: $($_.Exception.Message)" }
>> TerminatingError(Invoke-WebRequest): "A parameter cannot be found that matches parameter name 'SkipCertificateCheck'."
Error: A parameter cannot be found that matches parameter name 'SkipCertificateCheck'.
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python check_health.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python check_health.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git status

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git add check_health.py .github/workflows/ci.yml

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git commit -m "feat: Update health check script and CI workflow

- Make health check URL configurable via environment variable
- Default to localhost:5000 for local development
- Update CI workflow to use the correct test URL"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git push origin main

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker ps --filter name=casestrainer-backend

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>docker logs casestrainer-backend-prod --tail 50

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>curl -v http://localhost:5000/casestrainer/api/health
VERBOSE: GET http://localhost:5000/casestrainer/api/health with 0-byte payload
VERBOSE: received 449-byte response of content type application/json


StatusCode        : 200
StatusDescription : OK
Content           : {"components":{"citation_processor":"health
                    y","database":"healthy","upload_directory":
                    "healthy"},"database_stats":{"path":"/app/d
                    ata/citations.db","size_mb":0.11,"tables":4
                    },"endpoints":{"alias":"/hea...
RawContent        : HTTP/1.1 200 OK
                    Access-Control-Allow-Credentials: true
                    Access-Control-Allow-Origin:
                    http://localhost:5000
                    Access-Control-Expose-Headers:
                    Content-Disposition, Content-Type
                    Vary: Origin
                    Content-Len...
Forms             : {}
Headers           : {[Access-Control-Allow-Credentials, true],
                    [Access-Control-Allow-Origin,
                    http://localhost:5000],
                    [Access-Control-Expose-Headers,
                    Content-Disposition, Content-Type], [Vary,
                    Origin]...}
Images            : {}
InputFields       : {}
Links             : {}
ParsedHtml        : System.__ComObject
RawContentLength  : 449



]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>cd 'd:\dev\casestrainer'
]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python test_health.py https://wolf.law.uw.edu

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/test_citation_extraction.py

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/test_extraction_patterns.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/test_extraction_patterns.py

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/simple_extraction_test.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/simple_extraction_test.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/simple_extraction_test.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/simple_extraction_test.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/simple_extraction_test.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/simple_extraction_test.py

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/simple_extraction_test.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>python scripts/simple_extraction_test.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git add src/citation_utils_consolidated.py

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git commit -m "fix(citation): improve parallel citation detection for 'In re' cases

- Enhanced _are_parallel_citations to better handle 'In re' cases
- Added special handling for case name variations
- Improved substring matching for case names
- Added better error handling and logging"

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>git push origin main

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>netstat -ano | findstr :5000

]633;D;0]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>curl http://localhost:5000/casestrainer/api/health
>> TerminatingError(Invoke-WebRequest): "The underlying connection was closed: The connection was closed unexpectedly."
curl : The underlying connection was closed: The connection was closed unexpectedly.
At line:1 char:1
+ curl http://localhost:5000/casestrainer/api/health
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (System.Net.HttpWebRequest:HttpWebRequest) [Invoke-WebRequest], 
WebException
    + FullyQualifiedErrorId : WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand
curl : The underlying connection was closed: The connection
was closed unexpectedly.
At line:1 char:1
+ curl http://localhost:5000/casestrainer/api/health
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (System.Net.Ht
   tpWebRequest:HttpWebRequest) [Invoke-WebRequest], WebExcep
  tion
    + FullyQualifiedErrorId : WebCmdletWebResponseException,Mi
   crosoft.PowerShell.Commands.InvokeWebRequestCommand

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
PS>tasklist | findstr nginx

]633;D;1]633;A]633;P;Cwd=D:\x5cdev\x5ccasestrainerPS D:\dev\casestrainer> ]633;B
