"use strict";(self["webpackChunkcasestrainer_vue"]=self["webpackChunkcasestrainer_vue"]||[]).push([[536],{4864:(t,e,n)=>{var a=n(3724),i=n(2195),s=n(9504),l=n(2796),r=n(3167),o=n(6699),c=n(2360),u=n(8480).f,d=n(1625),p=n(788),k=n(655),f=n(1034),v=n(8429),h=n(1056),g=n(6840),m=n(9039),y=n(9297),b=n(1181).enforce,L=n(7633),C=n(8227),x=n(3635),A=n(8814),R=C("match"),E=i.RegExp,_=E.prototype,w=i.SyntaxError,T=s(_.exec),U=s("".charAt),X=s("".replace),V=s("".indexOf),M=s("".slice),S=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,z=/a/g,I=/a/g,F=new E(z)!==z,W=v.MISSED_STICKY,P=v.UNSUPPORTED_Y,Q=a&&(!F||W||x||A||m((function(){return I[R]=!1,E(z)!==z||E(I)===I||"/a/i"!==String(E(z,"i"))}))),N=function(t){for(var e,n=t.length,a=0,i="",s=!1;a<=n;a++)e=U(t,a),"\\"!==e?s||"."!==e?("["===e?s=!0:"]"===e&&(s=!1),i+=e):i+="[\\s\\S]":i+=e+U(t,++a);return i},D=function(t){for(var e,n=t.length,a=0,i="",s=[],l=c(null),r=!1,o=!1,u=0,d="";a<=n;a++){if(e=U(t,a),"\\"===e)e+=U(t,++a);else if("]"===e)r=!1;else if(!r)switch(!0){case"["===e:r=!0;break;case"("===e:if(i+=e,"?:"===M(t,a+1,a+3))continue;T(S,M(t,a+1))&&(a+=2,o=!0),u++;continue;case">"===e&&o:if(""===d||y(l,d))throw new w("Invalid capture group name");l[d]=!0,s[s.length]=[d,u],o=!1,d="";continue}o?d+=e:i+=e}return[i,s]};if(l("RegExp",Q)){for(var j=function(t,e){var n,a,i,s,l,c,u=d(_,this),v=p(t),h=void 0===e,g=[],m=t;if(!u&&v&&h&&t.constructor===j)return t;if((v||d(_,t))&&(t=t.source,h&&(e=f(m))),t=void 0===t?"":k(t),e=void 0===e?"":k(e),m=t,x&&"dotAll"in z&&(a=!!e&&V(e,"s")>-1,a&&(e=X(e,/s/g,""))),n=e,W&&"sticky"in z&&(i=!!e&&V(e,"y")>-1,i&&P&&(e=X(e,/y/g,""))),A&&(s=D(t),t=s[0],g=s[1]),l=r(E(t,e),u?this:_,j),(a||i||g.length)&&(c=b(l),a&&(c.dotAll=!0,c.raw=j(N(t),n)),i&&(c.sticky=!0),g.length&&(c.groups=g)),t!==m)try{o(l,"source",""===m?"(?:)":m)}catch(y){}return l},K=u(E),O=0;K.length>O;)h(j,E,K[O++]);_.constructor=j,j.prototype=_,g(i,"RegExp",j,{constructor:!0})}L("RegExp")},5536:(t,e,n)=>{n.r(e),n.d(e,{default:()=>oe});n(4346);var a=n(641),i=n(33),s=n(3751),l={class:"enhanced-validator"},r={class:"nav nav-tabs",id:"validationTabs",role:"tablist"},o={class:"nav-item",role:"presentation"},c={class:"nav-item",role:"presentation"},u={class:"nav-item",role:"presentation"},d={class:"nav-item",role:"presentation"},p={class:"tab-content",id:"validationTabsContent"},k={class:"card"},f={class:"card-body"},v={key:0,class:"alert alert-danger mt-4"},h={class:"form-group"},g=["disabled"],m={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},y={key:1},b={key:2},L={key:3},C={class:"card"},x={class:"card-body"},A={class:"form-group"},R={class:"input-group"},E={class:"input-group-append"},_=["disabled"],w={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},T={key:0,class:"validation-methods mt-3"},U={class:"form-check form-check-inline"},X={class:"form-check form-check-inline"},V={class:"form-check form-check-inline"},M={key:1,class:"validation-results mt-4"},S={key:0,class:"alert alert-danger mt-4"},z={key:1,class:"alert alert-danger mt-4"};function I(t,e,n,I,F,W){var P=(0,a.g2)("ReusableResults"),Q=(0,a.g2)("CitationResults"),N=(0,a.g2)("EnhancedFileUpload"),D=(0,a.g2)("EnhancedTextPaste");return(0,a.uX)(),(0,a.CE)("div",l,[e[27]||(e[27]=(0,a.Lk)("h2",null,"Enhanced Citation Validator",-1)),e[28]||(e[28]=(0,a.Lk)("p",{class:"lead"}," This advanced tool validates legal citations using multiple sources and provides detailed citation information, context, and correction suggestions. ",-1)),(0,a.Lk)("ul",r,[(0,a.Lk)("li",o,[(0,a.Lk)("button",{class:(0,i.C4)(["nav-link",{active:"single"===F.activeTab}]),onClick:e[0]||(e[0]=function(t){return F.activeTab="single"}),type:"button"}," Single Citation ",2)]),(0,a.Lk)("li",c,[(0,a.Lk)("button",{class:(0,i.C4)(["nav-link",{active:"document"===F.activeTab}]),onClick:e[1]||(e[1]=function(t){return F.activeTab="document"}),type:"button"}," Upload Document ",2)]),(0,a.Lk)("li",u,[(0,a.Lk)("button",{class:(0,i.C4)(["nav-link",{active:"text"===F.activeTab}]),onClick:e[2]||(e[2]=function(t){return F.activeTab="text"}),type:"button"}," Paste Text ",2)]),(0,a.Lk)("li",d,[(0,a.Lk)("button",{class:(0,i.C4)(["nav-link",{active:"url"===F.activeTab}]),onClick:e[3]||(e[3]=function(t){return F.activeTab="url"}),type:"button"}," URL Check ",2)])]),(0,a.Lk)("div",p,[(0,a.bo)((0,a.Lk)("div",null,[(0,a.Lk)("div",k,[e[18]||(e[18]=(0,a.Lk)("div",{class:"card-header bg-primary text-white"},[(0,a.Lk)("h5",{class:"mb-0"},"Check Citations from URL")],-1)),(0,a.Lk)("div",f,[F.urlAnalysisResult&&F.urlAnalysisResult.error?((0,a.uX)(),(0,a.CE)("div",v,[e[13]||(e[13]=(0,a.Lk)("strong",null,"Error:",-1)),(0,a.eW)(" "+(0,i.v_)(F.urlAnalysisResult.error),1)])):(0,a.Q3)("",!0),(0,a.Lk)("div",h,[e[14]||(e[14]=(0,a.Lk)("label",{for:"url-input"},"Paste a URL to a legal document:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"url-input",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return F.urlInput=t}),placeholder:"https://example.com/legal-document",onKeyup:e[5]||(e[5]=(0,s.jR)((function(){return W.analyzeUrl&&W.analyzeUrl.apply(W,arguments)}),["enter"]))},null,544),[[s.Jo,F.urlInput]])]),(0,a.Lk)("button",{class:"btn btn-primary mt-3",onClick:e[6]||(e[6]=function(){return W.analyzeUrl&&W.analyzeUrl.apply(W,arguments)}),disabled:F.isAnalyzingUrl||!F.urlInput},[F.isAnalyzingUrl?((0,a.uX)(),(0,a.CE)("span",m)):(0,a.Q3)("",!0),e[15]||(e[15]=(0,a.eW)(" Analyze URL "))],8,g),F.urlAnalysisResult&&W.transformedUrlResults?((0,a.uX)(),(0,a.CE)("div",y,[(0,a.bF)(P,{results:W.transformedUrlResults},null,8,["results"])])):F.urlAnalysisResult&&F.urlAnalysisResult.citations&&0===F.urlAnalysisResult.citations.length?((0,a.uX)(),(0,a.CE)("div",b,e[16]||(e[16]=[(0,a.Lk)("div",{class:"alert alert-info mt-4"}," No citations found in the document. ",-1)]))):!F.urlAnalysisResult||W.transformedUrlResults&&Array.isArray(W.transformedUrlResults.citations)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",L,e[17]||(e[17]=[(0,a.Lk)("div",{class:"alert alert-warning mt-4"},[(0,a.Lk)("p",null,"Unable to process the document. This might be due to:"),(0,a.Lk)("ul",null,[(0,a.Lk)("li",null,"The document doesn't contain any recognized legal citations"),(0,a.Lk)("li",null,"There was an error processing the document"),(0,a.Lk)("li",null,"The document format is not supported")]),(0,a.Lk)("p",{class:"mb-0 mt-2"},"Please try a different document or contact support if the issue persists.")],-1)])))])])],512),[[s.aG,"url"===F.activeTab]]),(0,a.bo)((0,a.Lk)("div",null,[(0,a.Lk)("div",C,[e[24]||(e[24]=(0,a.Lk)("div",{class:"card-header bg-primary text-white"},[(0,a.Lk)("h5",{class:"mb-0"},"Validate Citation")],-1)),(0,a.Lk)("div",x,[(0,a.Lk)("div",A,[e[20]||(e[20]=(0,a.Lk)("label",{for:"citation-input"},"Enter Citation:",-1)),(0,a.Lk)("div",R,[(0,a.bo)((0,a.Lk)("input",{type:"text",id:"citation-input",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=function(t){return F.citationText=t}),placeholder:"e.g., 410 U.S. 113",onKeyup:e[8]||(e[8]=(0,s.jR)((function(){return W.validateCitation&&W.validateCitation.apply(W,arguments)}),["enter"]))},null,544),[[s.Jo,F.citationText]]),(0,a.Lk)("div",E,[(0,a.Lk)("button",{class:"btn btn-primary",onClick:e[9]||(e[9]=function(){return W.validateCitation&&W.validateCitation.apply(W,arguments)}),disabled:F.isValidating},[F.isValidating?((0,a.uX)(),(0,a.CE)("span",w)):(0,a.Q3)("",!0),e[19]||(e[19]=(0,a.eW)(" Validate "))],8,_)])])]),F.isValidating?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",T,[(0,a.Lk)("div",U,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"checkbox",id:"use-enhanced","onUpdate:modelValue":e[10]||(e[10]=function(t){return F.useEnhanced=t}),checked:""},null,512),[[s.lH,F.useEnhanced]]),e[21]||(e[21]=(0,a.Lk)("label",{class:"form-check-label",for:"use-enhanced"},"Enhanced Validation",-1))]),(0,a.Lk)("div",X,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"checkbox",id:"use-ml","onUpdate:modelValue":e[11]||(e[11]=function(t){return F.useML=t}),checked:""},null,512),[[s.lH,F.useML]]),e[22]||(e[22]=(0,a.Lk)("label",{class:"form-check-label",for:"use-ml"},"ML Classifier",-1))]),(0,a.Lk)("div",V,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"checkbox",id:"use-correction","onUpdate:modelValue":e[12]||(e[12]=function(t){return F.useCorrection=t}),checked:""},null,512),[[s.lH,F.useCorrection]]),e[23]||(e[23]=(0,a.Lk)("label",{class:"form-check-label",for:"use-correction"},"Suggest Corrections",-1))])])),F.validationResult?((0,a.uX)(),(0,a.CE)("div",M,[(0,a.bF)(Q,{citations:W.transformedValidationResult.citations},null,8,["citations"])])):(0,a.Q3)("",!0)])])],512),[[s.aG,"single"===F.activeTab]]),F.documentAnalysisResult&&F.documentAnalysisResult.error?((0,a.uX)(),(0,a.CE)("div",S,[e[25]||(e[25]=(0,a.Lk)("strong",null,"Error:",-1)),(0,a.eW)(" "+(0,i.v_)(F.documentAnalysisResult.error),1)])):(0,a.Q3)("",!0),(0,a.bo)((0,a.bF)(N,null,null,512),[[s.aG,"document"===F.activeTab]]),F.textAnalysisResult&&F.textAnalysisResult.error?((0,a.uX)(),(0,a.CE)("div",z,[e[26]||(e[26]=(0,a.Lk)("strong",null,"Error:",-1)),(0,a.eW)(" "+(0,i.v_)(F.textAnalysisResult.error),1)])):(0,a.Q3)("",!0),(0,a.bo)((0,a.bF)(D,null,null,512),[[s.aG,"text"===F.activeTab]])])])}var F=n(4048),W=n(388),P=n(9201),Q=n(4119),N=(n(2008),n(4423),n(8598),n(2062),n(1688),n(3288),n(2010),n(8111),n(2489),n(1701),n(9868),n(9432),n(6099),n(4864),n(7465),n(7495),n(7745),n(8781),n(1699),n(5440),n(2505)),D=n.n(N),j=n(6231),K=n(8591),O=(n(4782),n(739),n(3110),n(8130),{class:"citation-results"}),$={key:0,class:"mb-3"},Y={key:1},q={class:"alert alert-info mb-4"},G={class:"mb-0"},H={class:"nav nav-tabs mb-4",id:"citationTabs",role:"tablist"},B={class:"nav-item",role:"presentation"},J={class:"nav-link active",id:"courtlistener-tab","data-bs-toggle":"tab","data-bs-target":"#courtlistener",type:"button",role:"tab"},Z={class:"badge bg-primary ms-2"},tt={class:"nav-item",role:"presentation"},et={class:"nav-link",id:"elsewhere-tab","data-bs-toggle":"tab","data-bs-target":"#elsewhere",type:"button",role:"tab"},nt={class:"badge bg-success ms-2"},at={class:"nav-item",role:"presentation"},it={class:"nav-link",id:"notfound-tab","data-bs-toggle":"tab","data-bs-target":"#notfound",type:"button",role:"tab"},st={class:"badge bg-danger ms-2"},lt={class:"tab-content",id:"citationTabsContent"},rt={class:"tab-pane fade show active",id:"courtlistener",role:"tabpanel"},ot={class:"table-responsive"},ct={class:"table table-striped table-hover"},ut={key:0},dt={key:1},pt={key:0},kt={key:1},ft=["href"],vt={class:"tab-pane fade",id:"elsewhere",role:"tabpanel"},ht={class:"table-responsive"},gt={class:"table table-striped table-hover"},mt=["onClick"],yt={class:"tab-pane fade",id:"notfound",role:"tabpanel"},bt={class:"table-responsive"},Lt={class:"table table-striped table-hover"},Ct={key:0},xt={colspan:"5"},At={style:{"font-size":"0.85em",color:"#555",background:"#f7f7f7",border:"1px solid #eee",padding:"8px"}},Rt={key:0},Et={class:"progress"},_t=["aria-valuenow"],wt={key:1},Tt=["onClick"],Ut={class:"modal fade",id:"citationDetailsModal",tabindex:"-1"},Xt={class:"modal-dialog modal-lg"},Vt={class:"modal-content"},Mt={key:0,class:"modal-body"},St={class:"row"},zt={class:"col-md-6"},It={class:"col-md-6"},Ft={key:0},Wt={key:1},Pt={key:2},Qt={key:3},Nt={key:4},Dt={key:0,class:"mt-3"},jt={class:"list-group"},Kt={class:"modal fade",id:"citationSuggestionsModal",tabindex:"-1"},Ot={class:"modal-dialog modal-lg"},$t={class:"modal-content"},Yt={key:0,class:"modal-body"},qt={key:0},Gt={class:"card-body"},Ht={class:"card-title"},Bt={class:"card-text"},Jt={key:0,class:"mt-2"},Zt={key:1,class:"alert alert-info"};function te(t,e,n,s,l,r){return(0,a.uX)(),(0,a.CE)("div",O,[t.loading?((0,a.uX)(),(0,a.CE)("div",$,e[0]||(e[0]=[(0,a.Lk)("div",{class:"progress"},[(0,a.Lk)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-info",role:"progressbar",style:{width:"100%"}}," Loading citation results... ")],-1)]))):(0,a.Q3)("",!0),r.safeCitations.length>0?((0,a.uX)(),(0,a.CE)("div",Y,[(0,a.Lk)("div",q,[(0,a.Lk)("h5",G,[e[1]||(e[1]=(0,a.Lk)("i",{class:"fas fa-search me-2"},null,-1)),(0,a.eW)(" Found "+(0,i.v_)(r.totalCitations)+" Citations ",1)])]),(0,a.Lk)("ul",H,[(0,a.Lk)("li",B,[(0,a.Lk)("button",J,[e[2]||(e[2]=(0,a.Lk)("i",{class:"fas fa-check-circle me-2"},null,-1)),e[3]||(e[3]=(0,a.eW)(" CourtListener Verified ")),(0,a.Lk)("span",Z,(0,i.v_)(r.courtListenerCount),1)])]),(0,a.Lk)("li",tt,[(0,a.Lk)("button",et,[e[4]||(e[4]=(0,a.Lk)("i",{class:"fas fa-check me-2"},null,-1)),e[5]||(e[5]=(0,a.eW)(" Other Verified ")),(0,a.Lk)("span",nt,(0,i.v_)(r.elsewhereCount),1)])]),(0,a.Lk)("li",at,[(0,a.Lk)("button",it,[e[6]||(e[6]=(0,a.Lk)("i",{class:"fas fa-question-circle me-2"},null,-1)),e[7]||(e[7]=(0,a.eW)(" Unverified ")),(0,a.Lk)("span",st,(0,i.v_)(r.notFoundCount),1)])])]),(0,a.Lk)("div",lt,[(0,a.Lk)("div",rt,[(0,a.Lk)("div",ot,[(0,a.Lk)("table",ct,[e[9]||(e[9]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Citation"),(0,a.Lk)("th",null,"Case Name"),(0,a.Lk)("th",null,"Court"),(0,a.Lk)("th",null,"Year"),(0,a.Lk)("th",null,"Context"),(0,a.Lk)("th",null,"Source"),(0,a.Lk)("th",null,"Actions")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.courtListenerCitations,(function(t){return(0,a.uX)(),(0,a.CE)("tr",{key:t.citation_text||t.text},[(0,a.eW)((0,i.v_)(r.logCitation(t))+" ",1),(0,a.Lk)("td",null,(0,i.v_)(t.citation_text||t.text||"N/A"),1),(0,a.Lk)("td",null,(0,i.v_)(t.case_name||t.name||"Unknown Case"),1),(0,a.Lk)("td",null,(0,i.v_)(t&&t.metadata&&"object"===(0,Q.A)(t.metadata)&&void 0!==t.metadata.court&&null!==t.metadata.court?t.metadata.court:t&&t.court?t.court:"N/A"),1),(0,a.Lk)("td",null,(0,i.v_)(t&&t.metadata&&"object"===(0,Q.A)(t.metadata)&&void 0!==t.metadata.year&&null!==t.metadata.year?t.metadata.year:t&&t.year?t.year:"N/A"),1),(0,a.Lk)("td",null,[t&&Array.isArray(t.contexts)&&t.contexts.length&&t.contexts[0]&&t.contexts[0].text?((0,a.uX)(),(0,a.CE)("span",ut,(0,i.v_)(t.contexts[0].text.length>120?t.contexts[0].text.slice(0,120)+"...":t.contexts[0].text),1)):((0,a.uX)(),(0,a.CE)("span",dt,"N/A"))]),(0,a.Lk)("td",null,[Array.isArray(t.contexts)&&t.contexts.length&&t.contexts[0]&&t.contexts[0].source?((0,a.uX)(),(0,a.CE)("span",pt,(0,i.v_)(t.contexts[0].source),1)):((0,a.uX)(),(0,a.CE)("span",kt,"N/A"))]),(0,a.Lk)("td",null,[(0,a.Lk)("span",{class:(0,i.C4)(["badge",t&&t.eyecite_processed?"bg-info":"bg-secondary"])},(0,i.v_)(t&&t.eyecite_processed?"Eyecite":"Regex"),3)]),(0,a.Lk)("td",null,[t&&t.url?((0,a.uX)(),(0,a.CE)("a",{key:0,href:t.url,target:"_blank",class:"btn btn-sm btn-outline-primary"},e[8]||(e[8]=[(0,a.Lk)("i",{class:"fas fa-external-link-alt"},null,-1),(0,a.eW)(" View ")]),8,ft)):(0,a.Q3)("",!0)])])})),128))])])])]),(0,a.Lk)("div",vt,[(0,a.Lk)("div",ht,[(0,a.Lk)("table",gt,[e[11]||(e[11]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Citation"),(0,a.Lk)("th",null,"Case Name"),(0,a.Lk)("th",null,"Source"),(0,a.Lk)("th",null,"Validation Method"),(0,a.Lk)("th",null,"Extraction Method"),(0,a.Lk)("th",null,"Details")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.elsewhereCitations,(function(t){return(0,a.uX)(),(0,a.CE)("tr",{key:t.citation_text},[(0,a.Lk)("td",null,(0,i.v_)(t.citation_text||t.text||"N/A"),1),(0,a.Lk)("td",null,(0,i.v_)(t.case_name||t.name||"Unknown Case"),1),(0,a.Lk)("td",null,(0,i.v_)(t.source),1),(0,a.Lk)("td",null,[(0,a.Lk)("span",{class:(0,i.C4)(["badge",r.getBadgeClass(t.validation_method)])},(0,i.v_)(t.validation_method),3)]),(0,a.Lk)("td",null,[(0,a.Lk)("span",{class:(0,i.C4)(["badge",t&&t.eyecite_processed?"bg-info":"bg-secondary"])},(0,i.v_)(t&&t.eyecite_processed?"Eyecite":"Regex"),3)]),(0,a.Lk)("td",null,[(0,a.Lk)("button",{class:"btn btn-sm btn-outline-info",onClick:function(e){return r.showCitationDetails(t)}},e[10]||(e[10]=[(0,a.Lk)("i",{class:"fas fa-info-circle"},null,-1),(0,a.eW)(" Details ")]),8,mt)])])})),128))])])])]),(0,a.Lk)("div",yt,[(0,a.Lk)("div",bt,[(0,a.Lk)("table",Lt,[e[13]||(e[13]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Citation"),(0,a.Lk)("th",null,"Possible Case Name"),(0,a.Lk)("th",null,"Confidence"),(0,a.Lk)("th",null,"Extraction Method"),(0,a.Lk)("th",null,"Actions")])],-1)),(0,a.Lk)("tbody",null,[r.notFoundCitations.length>0?((0,a.uX)(),(0,a.CE)("tr",Ct,[(0,a.Lk)("td",xt,[(0,a.Lk)("pre",At,"                    "+(0,i.v_)(JSON.stringify(r.notFoundCitations[0],null,2))+"\n                  ",1)])])):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.notFoundCitations,(function(t){return(0,a.uX)(),(0,a.CE)("tr",{key:t.citation_text},[(0,a.Lk)("td",null,(0,i.v_)(t.citation_text||t.text||"N/A"),1),(0,a.Lk)("td",null,(0,i.v_)(t.case_name||t.name||"Unknown Case"),1),(0,a.Lk)("td",null,[isFinite(Number(t.confidence))?((0,a.uX)(),(0,a.CE)("div",Rt,[(0,a.Lk)("div",Et,[(0,a.Lk)("div",{class:"progress-bar bg-danger",role:"progressbar",style:(0,i.Tr)({width:100*t.confidence+"%"}),"aria-valuenow":100*t.confidence,"aria-valuemin":"0","aria-valuemax":"100"},(0,i.v_)(Math.round(100*t.confidence))+"% ",13,_t)])])):((0,a.uX)(),(0,a.CE)("span",wt,"N/A"))]),(0,a.Lk)("td",null,[(0,a.Lk)("span",{class:(0,i.C4)(["badge",t&&t.eyecite_processed?"bg-info":"bg-secondary"])},(0,i.v_)(t&&t.eyecite_processed?"Eyecite":"Regex"),3)]),(0,a.Lk)("td",null,[(0,a.Lk)("button",{class:"btn btn-sm btn-outline-warning",onClick:function(e){return r.showCitationSuggestions(t)}},e[12]||(e[12]=[(0,a.Lk)("i",{class:"fas fa-lightbulb"},null,-1),(0,a.eW)(" Suggestions ")]),8,Tt)])])})),128))])])])])]),(0,a.Lk)("div",Ut,[(0,a.Lk)("div",Xt,[(0,a.Lk)("div",Vt,[e[26]||(e[26]=(0,a.Lk)("div",{class:"modal-header"},[(0,a.Lk)("h5",{class:"modal-title"},"Citation Details"),(0,a.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),l.selectedCitation?((0,a.uX)(),(0,a.CE)("div",Mt,[(0,a.Lk)("div",St,[(0,a.Lk)("div",zt,[e[18]||(e[18]=(0,a.Lk)("h6",null,"Citation Information",-1)),(0,a.Lk)("p",null,[e[14]||(e[14]=(0,a.Lk)("strong",null,"Citation:",-1)),(0,a.eW)(" "+(0,i.v_)(l.selectedCitation.citation_text),1)]),(0,a.Lk)("p",null,[e[15]||(e[15]=(0,a.Lk)("strong",null,"Case Name:",-1)),(0,a.eW)(" "+(0,i.v_)(l.selectedCitation.case_name||"N/A"),1)]),(0,a.Lk)("p",null,[e[16]||(e[16]=(0,a.Lk)("strong",null,"Source:",-1)),(0,a.eW)(" "+(0,i.v_)(l.selectedCitation.source),1)]),(0,a.Lk)("p",null,[e[17]||(e[17]=(0,a.Lk)("strong",null,"Validation Method:",-1)),(0,a.eW)(" "+(0,i.v_)(l.selectedCitation.validation_method),1)])]),(0,a.Lk)("div",It,[e[24]||(e[24]=(0,a.Lk)("h6",null,"Additional Details",-1)),l.selectedCitation.volume?((0,a.uX)(),(0,a.CE)("p",Ft,[e[19]||(e[19]=(0,a.Lk)("strong",null,"Volume:",-1)),(0,a.eW)(" "+(0,i.v_)(l.selectedCitation.volume),1)])):(0,a.Q3)("",!0),l.selectedCitation.reporter?((0,a.uX)(),(0,a.CE)("p",Wt,[e[20]||(e[20]=(0,a.Lk)("strong",null,"Reporter:",-1)),(0,a.eW)(" "+(0,i.v_)(l.selectedCitation.reporter),1)])):(0,a.Q3)("",!0),l.selectedCitation.page?((0,a.uX)(),(0,a.CE)("p",Pt,[e[21]||(e[21]=(0,a.Lk)("strong",null,"Page:",-1)),(0,a.eW)(" "+(0,i.v_)(l.selectedCitation.page),1)])):(0,a.Q3)("",!0),l.selectedCitation.court?((0,a.uX)(),(0,a.CE)("p",Qt,[e[22]||(e[22]=(0,a.Lk)("strong",null,"Court:",-1)),(0,a.eW)(" "+(0,i.v_)(l.selectedCitation.court),1)])):(0,a.Q3)("",!0),l.selectedCitation.year?((0,a.uX)(),(0,a.CE)("p",Nt,[e[23]||(e[23]=(0,a.Lk)("strong",null,"Year:",-1)),(0,a.eW)(" "+(0,i.v_)(l.selectedCitation.year),1)])):(0,a.Q3)("",!0)])]),l.selectedCitation.parallel_citations&&l.selectedCitation.parallel_citations.length>0?((0,a.uX)(),(0,a.CE)("div",Dt,[e[25]||(e[25]=(0,a.Lk)("h6",null,"Parallel Citations",-1)),(0,a.Lk)("ul",jt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.selectedCitation.parallel_citations,(function(t){return(0,a.uX)(),(0,a.CE)("li",{key:t,class:"list-group-item"},(0,i.v_)(t),1)})),128))])])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])])]),(0,a.Lk)("div",Kt,[(0,a.Lk)("div",Ot,[(0,a.Lk)("div",$t,[e[29]||(e[29]=(0,a.Lk)("div",{class:"modal-header"},[(0,a.Lk)("h5",{class:"modal-title"},"Citation Suggestions"),(0,a.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),l.selectedCitation?((0,a.uX)(),(0,a.CE)("div",Yt,[e[28]||(e[28]=(0,a.Lk)("div",{class:"alert alert-warning"},[(0,a.Lk)("i",{class:"fas fa-exclamation-triangle me-2"}),(0,a.eW)(" This citation could not be verified. Here are some suggestions: ")],-1)),l.selectedCitation.suggestions&&l.selectedCitation.suggestions.length>0?((0,a.uX)(),(0,a.CE)("div",qt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.selectedCitation.suggestions,(function(t,n){return(0,a.uX)(),(0,a.CE)("div",{key:n,class:"card mb-3"},[(0,a.Lk)("div",Gt,[(0,a.Lk)("h6",Ht,"Suggestion "+(0,i.v_)(n+1),1),(0,a.Lk)("p",Bt,(0,i.v_)(t.explanation),1),t.citation?((0,a.uX)(),(0,a.CE)("div",Jt,[e[27]||(e[27]=(0,a.Lk)("strong",null,"Suggested Citation:",-1)),(0,a.eW)(" "+(0,i.v_)(t.citation),1)])):(0,a.Q3)("",!0)])])})),128))])):((0,a.uX)(),(0,a.CE)("div",Zt," No specific suggestions available for this citation. "))])):(0,a.Q3)("",!0)])])])])):(0,a.Q3)("",!0)])}var ee=n(454);const ne={methods:{logCitation:function(t){return""},getBadgeClass:function(t){var e={Landmark:"bg-success",Multitool:"bg-info",Other:"bg-secondary",LEXIS:"bg-primary"};return e[t]||"bg-primary"},showCitationDetails:function(t){this.selectedCitation=t,this.detailsModal.show()},showCitationSuggestions:function(t){this.selectedCitation=t,this.suggestionsModal.show()}},name:"CitationResults",props:{citations:{type:Array,default:function(){return[]}}},data:function(){return{selectedCitation:null,detailsModal:null,suggestionsModal:null}},computed:{safeCitations:function(){return Array.isArray(this.citations)?this.citations:[]},totalCitations:function(){return this.safeCitations.length},courtListenerCitations:function(){return this.safeCitations.filter((function(t){return"CourtListener"===t.validation_method&&t.verified}))},elsewhereCitations:function(){return this.safeCitations.filter((function(t){return t.verified&&"CourtListener"!==t.validation_method}))},notFoundCitations:function(){return this.safeCitations.filter((function(t){return!t.verified}))},courtListenerCount:function(){return this.courtListenerCitations.length},elsewhereCount:function(){return this.elsewhereCitations.length},notFoundCount:function(){return this.notFoundCitations.length}},mounted:function(){var t=this;this.$nextTick((function(){if(t.$refs.citationDetailsModal&&"undefined"!==typeof ee&&ee.Modal)try{t.detailsModal=new ee.Modal(t.$refs.citationDetailsModal)}catch(e){console.warn("Modal initialization failed:",e)}})),this.$nextTick((function(){if(t.$refs.citationSuggestionsModal&&"undefined"!==typeof ee&&ee.Modal)try{t.suggestionsModal=new ee.Modal(t.$refs.citationSuggestionsModal)}catch(e){console.warn("Modal initialization failed:",e)}}))}};var ae=n(6262);const ie=(0,ae.A)(ne,[["render",te],["__scopeId","data-v-0c2ce47a"]]),se=ie,le={name:"EnhancedValidator",components:{CitationResults:se,EnhancedFileUpload:j.A,EnhancedTextPaste:K.A},data:function(){return{activeTab:"single",citationText:"",isValidating:!1,validationResult:null,mlResult:null,correctionResult:null,citationContext:"",fileLink:"",useEnhanced:!0,useML:!0,useCorrection:!0,contextResult:null,isAnalyzing:!1,documentAnalysisResult:null,pastedText:"",textAnalysisResult:null,urlInput:"",isAnalyzingUrl:!1,urlAnalysisResult:{citations:[],metadata:{},error:null}}},computed:{formattedContext:function(){var t=this;if(!this.contextResult||!this.contextResult.context)return"";var e=this.contextResult.context.split("\n\n");return e.map((function(e){return t.citationText&&e.includes(t.citationText)?e.replace(new RegExp(t.citationText,"g"),"<mark>".concat(t.citationText,"</mark>")):e})).join("<br><br>")},basePath:function(){return"/casestrainer/api"},transformedValidationResult:function(){return this.validationResult?{citations:[{citation_text:this.validationResult.citation,verified:this.validationResult.verified,validation_method:this.validationResult.validation_method,case_name:this.validationResult.case_name,source:this.validationResult.verified_by,confidence:this.validationResult.verified?1:0,error:this.validationResult.error,components:this.validationResult.components,url:null,contexts:Array.isArray(this.validationResult.contexts)?this.validationResult.contexts:[]}]}:null},transformedDocumentResults:function(){return this.documentAnalysisResult?{citations:(this.documentAnalysisResult.citations||[]).filter((function(t){return t&&"object"===(0,Q.A)(t)})).map((function(t){return(0,P.A)((0,P.A)({},t),{},{contexts:Array.isArray(t.contexts)?t.contexts:[]})}))}:{citations:[]}},transformedTextResults:function(){return this.textAnalysisResult?{citations:(this.textAnalysisResult.citations||[]).filter((function(t){return t&&"object"===(0,Q.A)(t)})).map((function(t){return(0,P.A)((0,P.A)({},t),{},{contexts:Array.isArray(t.contexts)?t.contexts:[]})}))}:{citations:[]}},transformedUrlResults:function(){console.group("[EnhancedValidator] Transforming URL analysis results");var t={citations:[],validation_results:[],totalCitations:0,confirmedCount:0,unconfirmedCount:0,metadata:{},_debug:{transformedAt:(new Date).toISOString(),source:"transformedUrlResults",hasInput:!!this.urlAnalysisResult}};if(!this.urlAnalysisResult)return console.log("[transformedUrlResults] No urlAnalysisResult available"),console.groupEnd(),t;console.log("[transformedUrlResults] Processing urlAnalysisResult:",{hasCitations:Array.isArray(this.urlAnalysisResult.citations),citationCount:Array.isArray(this.urlAnalysisResult.citations)?this.urlAnalysisResult.citations.length:0,hasError:!!this.urlAnalysisResult.error,metadata:this.urlAnalysisResult.metadata||{}});var e=Array.isArray(this.urlAnalysisResult.citations)?this.urlAnalysisResult.citations:[];console.log("[transformedUrlResults] Found ".concat(e.length," citations to process"));var n=e.map((function(t,e){try{return"string"===typeof t?(console.log("[transformedUrlResults] Citation ".concat(e+1," is a string:"),t),{citation:t,verified:!1,validation_method:"unknown",case_name:"Unknown",metadata:{_transformed:!0,originalType:"string"},contexts:[]}):(console.log("[transformedUrlResults] Processing citation ".concat(e+1,":"),{citation:t.citation||t.text||"Unknown",type:(0,Q.A)(t),keys:Object.keys(t)}),(0,P.A)({citation:t.citation||t.text||"Unknown citation",verified:t.verified||!1,validation_method:t.validation_method||"unknown",case_name:t.case_name||"Unknown",metadata:(0,P.A)((0,P.A)({},t.metadata||{}),{},{_transformed:!0,originalType:"object"}),contexts:Array.isArray(t.contexts)?t.contexts:[]},t))}catch(n){return console.error("[transformedUrlResults] Error processing citation ".concat(e+1,":"),{error:n.message,citation:t,stack:n.stack}),{citation:"[Error: ".concat(n.message,"]"),verified:!1,validation_method:"error",case_name:"Processing Error",metadata:{error:"citation_processing_error",message:n.message,originalCitation:t},contexts:[]}}})),a=n.filter((function(t){return t.verified})),i=n.filter((function(t){return!t.verified}));console.log("[transformedUrlResults] Processed citations summary:",{total:n.length,verified:a.length,unverified:i.length,sampleVerified:a.length>0?a[0]:null,sampleUnverified:i.length>0?i[0]:null});var s=(0,P.A)((0,P.A)({},t),{},{citations:n,validation_results:n,totalCitations:n.length,confirmedCount:a.length,unconfirmedCount:i.length},this.urlAnalysisResult.metadata?{metadata:(0,P.A)((0,P.A)({},this.urlAnalysisResult.metadata),{},{_transformed:!0})}:{});return console.log("[transformedUrlResults] Final transformed result:",{totalCitations:s.totalCitations,confirmedCount:s.confirmedCount,unconfirmedCount:s.unconfirmedCount,hasMetadata:!!s.metadata,metadataKeys:s.metadata?Object.keys(s.metadata):[]}),console.groupEnd(),s}},methods:{analyzeUrl:function(){var t=this;return(0,W.A)((0,F.A)().mark((function e(){var n,a,i,s,l,r,o,c,u;return(0,F.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("[EnhancedValidator] Starting URL analysis..."),console.log("[EnhancedValidator] Input URL: ".concat(t.urlInput)),t.isAnalyzingUrl=!0,t.urlAnalysisResult={citations:[],metadata:{},eyecite_processed:!1,error:null},e.prev=4,console.log("[EnhancedValidator] Sending request to /casestrainer/api/analyze"),n=performance.now(),e.next=9,D().post("/casestrainer/api/analyze",{url:t.urlInput,debug:!0});case 9:a=e.sent,i=performance.now(),console.log("[EnhancedValidator] Received response in ".concat((i-n).toFixed(2),"ms")),console.log("[EnhancedValidator] Response status:",a.status),a&&a.data?(console.log("[EnhancedValidator] Response data received:",{hasCitations:Array.isArray(a.data.citations),citationCount:Array.isArray(a.data.citations)?a.data.citations.length:0,hasMetadata:!!a.data.metadata,hasError:!!a.data.error}),s=Array.isArray(a.data.citations)?a.data.citations.map((function(t,e){return console.log("[EnhancedValidator] Processing citation ".concat(e+1,":"),t),(0,P.A)((0,P.A)({},t),{},{url:t&&"undefined"!==typeof t.url?t.url:null,_original:t})})):[],t.urlAnalysisResult=(0,P.A)((0,P.A)({},a.data),{},{citations:s,metadata:(0,P.A)((0,P.A)({},a.data.metadata||{}),{},{processingTime:i-n,processedAt:(new Date).toISOString()}),eyecite_processed:a.data.eyecite_processed||!1}),console.log("[EnhancedValidator] Processed citations:",{total:s.length,verified:s.filter((function(t){return t.verified})).length,unverified:s.filter((function(t){return!t.verified})).length})):(console.error("[EnhancedValidator] Invalid response format:",a),t.urlAnalysisResult={citations:[],metadata:{error:"invalid_response_format"},eyecite_processed:!1,error:"Malformed response from server."}),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](4),console.error("[EnhancedValidator] Error in analyzeUrl:",{error:e.t0.message,response:null===(l=e.t0.response)||void 0===l?void 0:l.data,status:null===(r=e.t0.response)||void 0===r?void 0:r.status,stack:e.t0.stack}),t.urlAnalysisResult={citations:[],metadata:{error:e.t0.name||"unknown_error",status:null===(o=e.t0.response)||void 0===o?void 0:o.status},eyecite_processed:!1,error:(null===(c=e.t0.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.error)||e.t0.message||"An error occurred while analyzing the URL."};case 20:return e.prev=20,console.log("[EnhancedValidator] Analysis complete. Final state:",{hasResults:!!t.urlAnalysisResult,resultSummary:t.urlAnalysisResult?{citationCount:(null===(u=t.urlAnalysisResult.citations)||void 0===u?void 0:u.length)||0,hasError:!!t.urlAnalysisResult.error,metadata:t.urlAnalysisResult.metadata}:"No results"}),t.isAnalyzingUrl=!1,e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[4,16,20,24]])})))()},validateCitation:function(){var t=this;return(0,W.A)((0,F.A)().mark((function e(){var n,a,i;return(0,F.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.citationText&&!t.isValidating){e.next=2;break}return e.abrupt("return");case 2:if(t.isValidating=!0,t.validationResult=null,t.mlResult=null,t.correctionResult=null,t.citationContext="",t.fileLink="",e.prev=8,!t.useEnhanced){e.next=18;break}return e.next=12,D().post("/casestrainer/api/enhanced-validate-citation",{citation:t.citationText});case 12:if(n=e.sent,!n||200!==n.status){e.next=18;break}if(t.validationResult=n.data,!t.validationResult.verified){e.next=18;break}return e.next=18,t.getCitationContext();case 18:if(!t.useML){e.next=36;break}return e.prev=19,e.next=22,D().post("".concat(t.basePath,"/classify-citation"),{citation:t.citationText});case 22:a=e.sent,e.next=35;break;case 25:return e.prev=25,e.t0=e["catch"](19),e.prev=27,e.next=30,D().post("/api/classify-citation",{citation:t.citationText});case 30:a=e.sent,e.next=35;break;case 33:e.prev=33,e.t1=e["catch"](27);case 35:a&&a.data&&(t.mlResult=a.data);case 36:if(!t.useCorrection){e.next=54;break}return e.prev=37,e.next=40,D().post("".concat(t.basePath,"/suggest-citation-corrections"),{citation:t.citationText});case 40:i=e.sent,e.next=53;break;case 43:return e.prev=43,e.t2=e["catch"](37),e.prev=45,e.next=48,D().post("/api/suggest-citation-corrections",{citation:t.citationText});case 48:i=e.sent,e.next=53;break;case 51:e.prev=51,e.t3=e["catch"](45);case 53:i&&200===i.status&&(t.correctionResult=i.data);case 54:e.next=59;break;case 56:e.prev=56,e.t4=e["catch"](8),alert("Error validating citation. Please try again later.");case 59:return e.prev=59,t.isValidating=!1,e.finish(59);case 62:case"end":return e.stop()}}),e,null,[[8,56,59,62],[19,25],[27,33],[37,43],[45,51]])})))()},getCitationContext:function(){var t=this;return(0,W.A)((0,F.A)().mark((function e(){var n;return(0,F.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,D().post("".concat(t.basePath,"/citation-context"),{citation:t.citationText});case 4:n=e.sent,e.next=22;break;case 7:return e.prev=7,e.t0=e["catch"](1),console.warn("Citation context first endpoint failed, trying alternate:",e.t0),e.prev=10,e.next=13,D().post("/api/citation-context",{citation:t.citationText});case 13:n=e.sent,e.next=22;break;case 16:return e.prev=16,e.t1=e["catch"](10),console.warn("Citation context second endpoint failed, trying full path:",e.t1),e.next=21,D().post("/casestrainer/api/citation-context",{citation:t.citationText});case 21:n=e.sent;case 22:n&&200===n.status&&(t.contextResult=n.data,t.citationContext=n.data.context||"",t.fileLink=n.data.file_link||""),e.next=27;break;case 25:e.prev=25,e.t2=e["catch"](0);case 27:case"end":return e.stop()}}),e,null,[[0,25],[1,7],[10,16]])})))()},applySuggestion:function(t){this.citationText=t,this.validateCitation()},getBadgeClass:function(t){switch(t){case"Landmark":return"bg-primary";case"CourtListener":return"bg-success";case"Multitool":return"bg-info";case"Other":return"bg-secondary";default:return"bg-dark"}},analyzeDocument:function(){var t=this;return(0,W.A)((0,F.A)().mark((function e(){var n,a,i,s,l;return(0,F.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.$refs.documentUpload,n.files&&0!==n.files.length){e.next=4;break}return alert("Please select a file to upload"),e.abrupt("return");case 4:return a=n.files[0],t.isAnalyzing=!0,t.documentAnalysisResult=null,i=new FormData,i.append("file",a),e.prev=9,e.next=12,D().post("/casestrainer/api/analyze",i,{headers:{"Content-Type":"multipart/form-data"}});case 12:s=e.sent,t.documentAnalysisResult=s.data,s.data&&s.data.error&&(t.documentAnalysisResult.error=s.data.error),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](9),t.documentAnalysisResult={error:(null===(l=e.t0.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)||e.t0.message||"Unknown error"};case 20:return e.prev=20,t.isAnalyzing=!1,e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[9,17,20,23]])})))()},analyzeText:function(){var t=this;return(0,W.A)((0,F.A)().mark((function e(){var n,a;return(0,F.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.pastedText){e.next=3;break}return alert("Please paste some text to analyze"),e.abrupt("return");case 3:return t.isAnalyzing=!0,t.textAnalysisResult=null,e.prev=5,e.next=8,D().post("/casestrainer/api/analyze",{text:t.pastedText});case 8:n=e.sent,t.textAnalysisResult=n.data,n.data&&n.data.error&&(t.textAnalysisResult.error=n.data.error),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),t.textAnalysisResult={error:(null===(a=e.t0.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||e.t0.message||"Unknown error"};case 16:return e.prev=16,t.isAnalyzing=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])})))()}}},re=(0,ae.A)(le,[["render",I]]),oe=re},7465:(t,e,n)=>{var a=n(3724),i=n(3635),s=n(4576),l=n(2106),r=n(1181).get,o=RegExp.prototype,c=TypeError;a&&i&&l(o,"dotAll",{configurable:!0,get:function(){if(this!==o){if("RegExp"===s(this))return!!r(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},7745:(t,e,n)=>{var a=n(3724),i=n(8429).MISSED_STICKY,s=n(4576),l=n(2106),r=n(1181).get,o=RegExp.prototype,c=TypeError;a&&i&&l(o,"sticky",{configurable:!0,get:function(){if(this!==o){if("RegExp"===s(this))return!!r(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})}}]);
//# sourceMappingURL=536.7262281a.js.map