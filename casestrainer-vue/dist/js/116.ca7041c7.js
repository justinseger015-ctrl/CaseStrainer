"use strict";(self["webpackChunkcasestrainer_vue"]=self["webpackChunkcasestrainer_vue"]||[]).push([[116],{2116:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ce});a(9868);var i=a(641),n=a(3751),s=a(33),l={class:"ml-classifier"},c={class:"row mb-4"},r={class:"col-md-6"},o={class:"card"},u={class:"card-body"},d={class:"mb-3"},f={class:"mb-3"},v=["disabled"],m={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},b={class:"col-md-6"},k={class:"card"},p={class:"card-body"},h=["disabled"],L={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},g={key:0,class:"card"},C={class:"card-body"},y={class:"row"},x={class:"col-md-6"},w={class:"table table-sm"},R={key:0},_={key:1},E={key:2},P={class:"col-md-6"},A={class:"mb-3"},F={class:"d-flex justify-content-between align-items-center mb-2"},I={class:"progress",style:{height:"25px"}},X=["aria-valuenow"],B={class:"alert-heading"},N={key:0,class:"mt-4"},S={class:"row"},T={class:"d-flex justify-content-between align-items-center mb-1"},M={class:"progress"},U=["aria-valuenow"],Q={key:1,class:"mt-4"},j={class:"table-responsive"},W={class:"table table-hover"},J={class:"card mt-4"},D={class:"card-body"},H={class:"mb-3"},O={type:"file",class:"form-control",id:"batchFile",ref:"batchFileInput",accept:".csv,.txt"},V=["disabled"],K={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},$={key:0,class:"mt-4"},q={class:"table-responsive"},z={class:"table table-hover"},Y={class:"progress"},G=["aria-valuenow"],Z={class:"mt-3"};function ee(e,t,a,ee,te,ae){return(0,i.uX)(),(0,i.CE)("div",l,[t[33]||(t[33]=(0,i.Lk)("h2",null,"Machine Learning Citation Classifier",-1)),t[34]||(t[34]=(0,i.Lk)("p",{class:"lead"}," Our ML classifier can predict whether a citation is real or hallucinated without requiring API calls. It's trained on our database of confirmed and unconfirmed citations. ",-1)),(0,i.Lk)("div",c,[(0,i.Lk)("div",r,[(0,i.Lk)("div",o,[t[10]||(t[10]=(0,i.Lk)("div",{class:"card-header"},"Test a Citation",-1)),(0,i.Lk)("div",u,[(0,i.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)((function(){return ae.classifyCitation&&ae.classifyCitation.apply(ae,arguments)}),["prevent"]))},[(0,i.Lk)("div",d,[t[6]||(t[6]=(0,i.Lk)("label",{for:"citationText",class:"form-label"},"Citation Text:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",class:"form-control",id:"citationText","onUpdate:modelValue":t[0]||(t[0]=function(e){return te.citationInput.text=e}),placeholder:"e.g., 347 U.S. 483",required:""},null,512),[[n.Jo,te.citationInput.text]])]),(0,i.Lk)("div",f,[t[7]||(t[7]=(0,i.Lk)("label",{for:"caseName",class:"form-label"},"Case Name (Optional):",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",class:"form-control",id:"caseName","onUpdate:modelValue":t[1]||(t[1]=function(e){return te.citationInput.caseName=e}),placeholder:"e.g., Brown v. Board of Education"},null,512),[[n.Jo,te.citationInput.caseName]]),t[8]||(t[8]=(0,i.Lk)("div",{class:"form-text"},"Including a case name improves classification accuracy.",-1))]),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:te.classifying},[te.classifying?((0,i.uX)(),(0,i.CE)("span",m)):(0,i.Q3)("",!0),t[9]||(t[9]=(0,i.eW)(" Classify Citation "))],8,v)],32)])])]),(0,i.Lk)("div",b,[(0,i.Lk)("div",k,[t[13]||(t[13]=(0,i.Lk)("div",{class:"card-header"},"Model Information",-1)),(0,i.Lk)("div",p,[t[12]||(t[12]=(0,i.Fv)('<div class="mb-3"><h5>Model Performance</h5><div class="row text-center"><div class="col-md-4 mb-3"><h4>95%</h4><p class="text-muted">Accuracy</p></div><div class="col-md-4 mb-3"><h4>92%</h4><p class="text-muted">Precision</p></div><div class="col-md-4 mb-3"><h4>93%</h4><p class="text-muted">Recall</p></div></div></div><div class="mb-3"><h5>Training Data</h5><p>The model is trained on a dataset of:</p><ul><li>500+ confirmed citations from legal databases</li><li>100+ unconfirmed citations from Washington Courts briefs</li><li>50+ synthetically generated hallucinated citations</li></ul></div><div class="mb-3"><h5>Features Used</h5><ul><li>Citation format patterns</li><li>Jurisdiction markers</li><li>Year references</li><li>Case name patterns</li><li>Context features</li></ul></div>',3)),(0,i.Lk)("button",{class:"btn btn-outline-primary",onClick:t[3]||(t[3]=function(){return ae.trainModel&&ae.trainModel.apply(ae,arguments)}),disabled:te.training},[te.training?((0,i.uX)(),(0,i.CE)("span",L)):(0,i.Q3)("",!0),t[11]||(t[11]=(0,i.eW)(" Retrain Model "))],8,h)])])])]),te.classificationResult?((0,i.uX)(),(0,i.CE)("div",g,[t[24]||(t[24]=(0,i.Lk)("div",{class:"card-header"},"Classification Result",-1)),(0,i.Lk)("div",C,[(0,i.Lk)("div",y,[(0,i.Lk)("div",x,[t[18]||(t[18]=(0,i.Lk)("h5",null,"Citation Information",-1)),(0,i.Lk)("table",w,[(0,i.Lk)("tbody",null,[(0,i.Lk)("tr",null,[t[14]||(t[14]=(0,i.Lk)("th",{scope:"row"},"Citation Text",-1)),(0,i.Lk)("td",null,(0,s.v_)(te.classificationResult.citation),1)]),te.classificationResult.case_name?((0,i.uX)(),(0,i.CE)("tr",R,[t[15]||(t[15]=(0,i.Lk)("th",{scope:"row"},"Case Name",-1)),(0,i.Lk)("td",null,(0,s.v_)(te.classificationResult.case_name),1)])):(0,i.Q3)("",!0),te.classificationResult.format?((0,i.uX)(),(0,i.CE)("tr",_,[t[16]||(t[16]=(0,i.Lk)("th",{scope:"row"},"Format",-1)),(0,i.Lk)("td",null,(0,s.v_)(te.classificationResult.format),1)])):(0,i.Q3)("",!0),te.classificationResult.jurisdiction?((0,i.uX)(),(0,i.CE)("tr",E,[t[17]||(t[17]=(0,i.Lk)("th",{scope:"row"},"Jurisdiction",-1)),(0,i.Lk)("td",null,(0,s.v_)(te.classificationResult.jurisdiction),1)])):(0,i.Q3)("",!0)])])]),(0,i.Lk)("div",P,[t[20]||(t[20]=(0,i.Lk)("h5",null,"Prediction",-1)),(0,i.Lk)("div",A,[(0,i.Lk)("div",F,[t[19]||(t[19]=(0,i.Lk)("span",null,"Likelihood of being a real citation:",-1)),(0,i.Lk)("span",{class:(0,s.C4)(["badge",ae.confidenceBadgeClass])},(0,s.v_)((100*te.classificationResult.confidence).toFixed(1))+"% ",3)]),(0,i.Lk)("div",I,[(0,i.Lk)("div",{class:(0,s.C4)(["progress-bar",ae.confidenceProgressClass]),role:"progressbar",style:(0,s.Tr)({width:100*te.classificationResult.confidence+"%"}),"aria-valuenow":100*te.classificationResult.confidence,"aria-valuemin":"0","aria-valuemax":"100"},(0,s.v_)((100*te.classificationResult.confidence).toFixed(1))+"% ",15,X)])]),(0,i.Lk)("div",{class:(0,s.C4)(["alert",ae.predictionAlertClass])},[(0,i.Lk)("h5",B,(0,s.v_)(ae.predictionHeading),1),(0,i.Lk)("p",null,(0,s.v_)(te.classificationResult.explanation),1)],2)])]),te.classificationResult.feature_importance?((0,i.uX)(),(0,i.CE)("div",N,[t[21]||(t[21]=(0,i.Lk)("h5",null,"Feature Importance",-1)),(0,i.Lk)("div",S,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(te.classificationResult.feature_importance,(function(e,t){return(0,i.uX)(),(0,i.CE)("div",{key:t,class:"col-md-6 mb-3"},[(0,i.Lk)("div",T,[(0,i.Lk)("span",null,(0,s.v_)(ae.formatFeatureName(t)),1),(0,i.Lk)("span",null,(0,s.v_)(e.toFixed(2)),1)]),(0,i.Lk)("div",M,[(0,i.Lk)("div",{class:"progress-bar bg-info",role:"progressbar",style:(0,s.Tr)({width:100*e+"%"}),"aria-valuenow":100*e,"aria-valuemin":"0","aria-valuemax":"100"},null,12,U)])])})),128))])])):(0,i.Q3)("",!0),te.classificationResult.similar_citations&&te.classificationResult.similar_citations.length>0?((0,i.uX)(),(0,i.CE)("div",Q,[t[23]||(t[23]=(0,i.Lk)("h5",null,"Similar Citations in Database",-1)),(0,i.Lk)("div",j,[(0,i.Lk)("table",W,[t[22]||(t[22]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Case Name"),(0,i.Lk)("th",null,"Status"),(0,i.Lk)("th",null,"Similarity")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(te.classificationResult.similar_citations,(function(e,t){return(0,i.uX)(),(0,i.CE)("tr",{key:t},[(0,i.Lk)("td",null,(0,s.v_)(e.citation_text),1),(0,i.Lk)("td",null,(0,s.v_)(e.case_name||"N/A"),1),(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:(0,s.C4)(["badge",ae.getStatusBadgeClass(e.status)])},(0,s.v_)(e.status),3)]),(0,i.Lk)("td",null,(0,s.v_)((100*e.similarity).toFixed(1))+"%",1)])})),128))])])])])):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0),(0,i.Lk)("div",J,[t[32]||(t[32]=(0,i.Lk)("div",{class:"card-header"},"Batch Classification",-1)),(0,i.Lk)("div",D,[t[31]||(t[31]=(0,i.Lk)("p",null,"Upload a CSV or text file with one citation per line to classify multiple citations at once.",-1)),(0,i.Lk)("form",{onSubmit:t[4]||(t[4]=(0,n.D$)((function(){return ae.batchClassify&&ae.batchClassify.apply(ae,arguments)}),["prevent"]))},[(0,i.Lk)("div",H,[t[25]||(t[25]=(0,i.Lk)("label",{for:"batchFile",class:"form-label"},"Upload File:",-1)),(0,i.Lk)("input",O,null,512),t[26]||(t[26]=(0,i.Lk)("div",{class:"form-text"},"CSV format should have columns for citation_text and optionally case_name.",-1))]),(0,i.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:te.batchProcessing},[te.batchProcessing?((0,i.uX)(),(0,i.CE)("span",K)):(0,i.Q3)("",!0),t[27]||(t[27]=(0,i.eW)(" Process Batch "))],8,V)],32),te.batchResults.length>0?((0,i.uX)(),(0,i.CE)("div",$,[t[30]||(t[30]=(0,i.Lk)("h5",null,"Batch Results",-1)),(0,i.Lk)("div",q,[(0,i.Lk)("table",z,[t[28]||(t[28]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"#"),(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Case Name"),(0,i.Lk)("th",null,"Confidence"),(0,i.Lk)("th",null,"Prediction")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(te.batchResults,(function(e,t){return(0,i.uX)(),(0,i.CE)("tr",{key:t},[(0,i.Lk)("td",null,(0,s.v_)(t+1),1),(0,i.Lk)("td",null,(0,s.v_)(e.citation),1),(0,i.Lk)("td",null,(0,s.v_)(e.case_name||"N/A"),1),(0,i.Lk)("td",null,[(0,i.Lk)("div",Y,[(0,i.Lk)("div",{class:(0,s.C4)(["progress-bar",ae.getConfidenceProgressClass(e.confidence)]),role:"progressbar",style:(0,s.Tr)({width:100*e.confidence+"%"}),"aria-valuenow":100*e.confidence,"aria-valuemin":"0","aria-valuemax":"100"},(0,s.v_)((100*e.confidence).toFixed(1))+"% ",15,G)])]),(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:(0,s.C4)(["badge",ae.getPredictionBadgeClass(e.confidence)])},(0,s.v_)(ae.getPredictionText(e.confidence)),3)])])})),128))])])]),(0,i.Lk)("div",Z,[(0,i.Lk)("button",{class:"btn btn-success",onClick:t[5]||(t[5]=function(){return ae.exportBatchResults&&ae.exportBatchResults.apply(ae,arguments)})},t[29]||(t[29]=[(0,i.Lk)("i",{class:"bi bi-download"},null,-1),(0,i.eW)(" Export Results ")]))])])):(0,i.Q3)("",!0)])])])}var te=a(4048),ae=a(388),ie=(a(8706),a(1629),a(8598),a(2062),a(4782),a(8111),a(7588),a(1701),a(6099),a(3500),a(6031),a(8430));const ne={name:"MLClassifier",data:function(){return{citationInput:{text:"",caseName:""},classifying:!1,training:!1,classificationResult:null,batchProcessing:!1,batchResults:[]}},computed:{confidenceBadgeClass:function(){var e,t=(null===(e=this.classificationResult)||void 0===e?void 0:e.confidence)||0;return t>=.9?"bg-success":t>=.7?"bg-warning text-dark":"bg-danger"},confidenceProgressClass:function(){var e,t=(null===(e=this.classificationResult)||void 0===e?void 0:e.confidence)||0;return t>=.9?"bg-success":t>=.7?"bg-warning":"bg-danger"},predictionAlertClass:function(){var e,t=(null===(e=this.classificationResult)||void 0===e?void 0:e.confidence)||0;return t>=.9?"alert-success":t>=.7?"alert-warning":"alert-danger"},predictionHeading:function(){var e,t=(null===(e=this.classificationResult)||void 0===e?void 0:e.confidence)||0;return t>=.9?"Likely Real Citation":t>=.7?"Possibly Real Citation":"Likely Hallucinated Citation"}},methods:{classifyCitation:function(){var e=this;return(0,ae.A)((0,te.A)().mark((function t(){var a;return(0,te.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.citationInput.text){t.next=2;break}return t.abrupt("return");case 2:return e.classifying=!0,t.prev=3,t.next=6,ie.A.classifyCitation(e.citationInput.text,e.citationInput.caseName||null);case 6:a=t.sent,e.classificationResult=a.data,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.error("Error classifying citation:",t.t0);case 13:return t.prev=13,e.classifying=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,10,13,16]])})))()},trainModel:function(){var e=this;return(0,ae.A)((0,te.A)().mark((function t(){return(0,te.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.training=!0,t.prev=1,t.next=4,ie.A.trainMLClassifier();case 4:t.sent,alert("Model training completed successfully!"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error("Error training model:",t.t0),alert("Error training model. Please try again.");case 12:return t.prev=12,e.training=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})))()},batchClassify:function(){var e=this;return(0,ae.A)((0,te.A)().mark((function t(){var a;return(0,te.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$refs.batchFileInput,a.files&&0!==a.files.length){t.next=3;break}return t.abrupt("return");case 3:a.files[0],e.batchProcessing=!0;try{setTimeout((function(){e.batchResults=[{citation:"347 U.S. 483",case_name:"Brown v. Board of Education",confidence:.98},{citation:"410 U.S. 113",case_name:"Roe v. Wade",confidence:.97},{citation:"384 U.S. 436",case_name:"Miranda v. Arizona",confidence:.95},{citation:"123 F.4d 456",case_name:"Smith v. Jones",confidence:.45},{citation:"789 P.3d 123",case_name:"Washington v. Oregon",confidence:.72}],e.batchProcessing=!1}),2e3)}catch(i){console.error("Error processing batch:",i),alert("Error processing batch. Please try again."),e.batchProcessing=!1}case 6:case"end":return t.stop()}}),t)})))()},exportBatchResults:function(){var e=this,t="data:text/csv;charset=utf-8,";t+="Citation,Case Name,Confidence,Prediction\n",this.batchResults.forEach((function(a){t+='"'.concat(a.citation,'","').concat(a.case_name||"",'",').concat(a.confidence.toFixed(4),',"').concat(e.getPredictionText(a.confidence),'"\n')}));var a=encodeURI(t),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download","citation_classification_results.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},formatFeatureName:function(e){return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},getStatusBadgeClass:function(e){switch(e.toLowerCase()){case"confirmed":return"bg-success";case"unconfirmed":return"bg-warning text-dark";case"hallucinated":return"bg-danger";default:return"bg-secondary"}},getConfidenceProgressClass:function(e){return e>=.9?"bg-success":e>=.7?"bg-warning":"bg-danger"},getPredictionBadgeClass:function(e){return e>=.9?"bg-success":e>=.7?"bg-warning text-dark":"bg-danger"},getPredictionText:function(e){return e>=.9?"Real":e>=.7?"Possibly Real":"Hallucinated"}}};var se=a(6262);const le=(0,se.A)(ne,[["render",ee]]),ce=le},8598:(e,t,a)=>{var i=a(6518),n=a(9504),s=a(7055),l=a(5397),c=a(4598),r=n([].join),o=s!==Object,u=o||!c("join",",");i({target:"Array",proto:!0,forced:u},{join:function(e){return r(l(this),void 0===e?",":e)}})}}]);
//# sourceMappingURL=116.ca7041c7.js.map