(()=>{"use strict";var t={5546:(t,e,n)=>{n.d(e,{A:()=>$});var a=n(641),i=n(33),o=n(3751),s={class:"multitool-confirmed"},r={class:"card"},l={class:"card-body"},c={key:0,class:"text-center py-4"},u={key:1,class:"alert alert-danger"},d={key:2,class:"alert alert-info"},f={key:3},m={class:"mb-3"},p={class:"table-responsive"},v={class:"table table-striped table-hover"},g={key:0},h={key:1},k={class:"progress"},b=["aria-valuenow"],C=["href"],L=["href"],y=["onClick"],_={class:"modal fade",id:"contextModal",tabindex:"-1","aria-labelledby":"contextModalLabel","aria-hidden":"true"},E={class:"modal-dialog modal-lg"},x={class:"modal-content"},A={class:"modal-body"},w={key:0},S={key:0,class:"citation-details mb-3"},T={class:"row"},I={key:0,class:"col-md-4"},R={key:1,class:"col-md-4"},N={key:2,class:"col-md-4"},F={class:"row mt-2"},O={key:0,class:"col-md-6"},D={key:1,class:"col-md-6"},P={class:"context-text"},X={key:1,class:"mt-3"},U=["href"];function M(t,e,n,M,z,W){return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",r,[e[11]||(e[11]=(0,a.Lk)("div",{class:"card-header bg-info text-white"},[(0,a.Lk)("h5",null,"Citations Confirmed with Multi-tool"),(0,a.Lk)("p",{class:"mb-0"},"These citations were verified using multiple sources but not found in CourtListener")],-1)),(0,a.Lk)("div",l,[z.loading?((0,a.uX)(),(0,a.CE)("div",c,e[1]||(e[1]=[(0,a.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,a.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,a.Lk)("p",{class:"mt-2"},"Loading citations...",-1)]))):z.error?((0,a.uX)(),(0,a.CE)("div",u,[e[2]||(e[2]=(0,a.Lk)("h5",null,"Error",-1)),(0,a.Lk)("p",null,(0,i.v_)(z.error),1)])):0===z.citations.length?((0,a.uX)(),(0,a.CE)("div",d,e[3]||(e[3]=[(0,a.Lk)("p",null,"No citations verified with multi-tool found.",-1)]))):((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("div",m,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-control",placeholder:"Search citations...","onUpdate:modelValue":e[0]||(e[0]=function(t){return z.searchQuery=t})},null,512),[[o.Jo,z.searchQuery]])]),(0,a.Lk)("div",p,[(0,a.Lk)("table",v,[e[10]||(e[10]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Citation"),(0,a.Lk)("th",null,"Case Name"),(0,a.Lk)("th",null,"Source"),(0,a.Lk)("th",null,"Details"),(0,a.Lk)("th",null,"Confidence"),(0,a.Lk)("th",null,"Actions")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(W.filteredCitations,(function(t,n){return(0,a.uX)(),(0,a.CE)("tr",{key:n},[(0,a.Lk)("td",null,(0,i.v_)(t.citation_text),1),(0,a.Lk)("td",null,(0,i.v_)(t.case_name||"Unknown"),1),(0,a.Lk)("td",null,(0,i.v_)(t.source),1),(0,a.Lk)("td",null,[t.volume||t.reporter||t.page?((0,a.uX)(),(0,a.CE)("span",g,[e[4]||(e[4]=(0,a.Lk)("strong",null,"Vol:",-1)),(0,a.eW)(" "+(0,i.v_)(t.volume||"N/A")+" ",1),e[5]||(e[5]=(0,a.Lk)("strong",null,"Rep:",-1)),(0,a.eW)(" "+(0,i.v_)(t.reporter||"N/A")+" ",1),e[6]||(e[6]=(0,a.Lk)("strong",null,"Pg:",-1)),(0,a.eW)(" "+(0,i.v_)(t.page||"N/A")+" ",1),e[7]||(e[7]=(0,a.Lk)("br",null,null,-1))])):(0,a.Q3)("",!0),t.court||t.year?((0,a.uX)(),(0,a.CE)("span",h,[e[8]||(e[8]=(0,a.Lk)("strong",null,"Court:",-1)),(0,a.eW)(" "+(0,i.v_)(t.court||"N/A")+" ",1),e[9]||(e[9]=(0,a.Lk)("strong",null,"Year:",-1)),(0,a.eW)(" "+(0,i.v_)(t.year||"N/A"),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("td",null,[(0,a.Lk)("div",k,[(0,a.Lk)("div",{class:(0,i.C4)(["progress-bar",W.getConfidenceClass(t.confidence)]),role:"progressbar",style:(0,i.Tr)({width:100*t.confidence+"%"}),"aria-valuenow":100*t.confidence,"aria-valuemin":"0","aria-valuemax":"100"},(0,i.v_)(Math.round(100*t.confidence))+"% ",15,b)])]),(0,a.Lk)("td",null,[t.url?((0,a.uX)(),(0,a.CE)("a",{key:0,href:t.url,target:"_blank",class:"btn btn-sm btn-outline-primary"}," View Source ",8,C)):(0,a.Q3)("",!0),t.file_link?((0,a.uX)(),(0,a.CE)("a",{key:1,href:t.file_link,target:"_blank",class:"btn btn-sm btn-outline-secondary ms-1"}," Source File ",8,L)):(0,a.Q3)("",!0),t.context?((0,a.uX)(),(0,a.CE)("button",{key:2,class:"btn btn-sm btn-outline-info ms-1",onClick:function(e){return W.showContext(t)}}," View Context ",8,y)):(0,a.Q3)("",!0)])])})),128))])])])]))])]),(0,a.Lk)("div",_,[(0,a.Lk)("div",E,[(0,a.Lk)("div",x,[e[20]||(e[20]=(0,a.Lk)("div",{class:"modal-header"},[(0,a.Lk)("h5",{class:"modal-title",id:"contextModalLabel"},"Citation Context"),(0,a.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,a.Lk)("div",A,[z.selectedCitation?((0,a.uX)(),(0,a.CE)("div",w,[(0,a.Lk)("h6",null,"Citation: "+(0,i.v_)(z.selectedCitation.citation_text),1),z.selectedCitation.volume||z.selectedCitation.reporter||z.selectedCitation.page||z.selectedCitation.court||z.selectedCitation.year?((0,a.uX)(),(0,a.CE)("div",S,[e[17]||(e[17]=(0,a.Lk)("h6",null,"Citation Details:",-1)),(0,a.Lk)("div",T,[z.selectedCitation.volume?((0,a.uX)(),(0,a.CE)("div",I,[e[12]||(e[12]=(0,a.Lk)("strong",null,"Volume:",-1)),(0,a.eW)(" "+(0,i.v_)(z.selectedCitation.volume),1)])):(0,a.Q3)("",!0),z.selectedCitation.reporter?((0,a.uX)(),(0,a.CE)("div",R,[e[13]||(e[13]=(0,a.Lk)("strong",null,"Reporter:",-1)),(0,a.eW)(" "+(0,i.v_)(z.selectedCitation.reporter),1)])):(0,a.Q3)("",!0),z.selectedCitation.page?((0,a.uX)(),(0,a.CE)("div",N,[e[14]||(e[14]=(0,a.Lk)("strong",null,"Page:",-1)),(0,a.eW)(" "+(0,i.v_)(z.selectedCitation.page),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",F,[z.selectedCitation.court?((0,a.uX)(),(0,a.CE)("div",O,[e[15]||(e[15]=(0,a.Lk)("strong",null,"Court:",-1)),(0,a.eW)(" "+(0,i.v_)(z.selectedCitation.court),1)])):(0,a.Q3)("",!0),z.selectedCitation.year?((0,a.uX)(),(0,a.CE)("div",D,[e[16]||(e[16]=(0,a.Lk)("strong",null,"Year:",-1)),(0,a.eW)(" "+(0,i.v_)(z.selectedCitation.year),1)])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0),e[19]||(e[19]=(0,a.Lk)("h6",null,"Citation Context:",-1)),(0,a.Lk)("p",P,(0,i.v_)(z.selectedCitation.context),1),z.selectedCitation.file_link?((0,a.uX)(),(0,a.CE)("div",X,[(0,a.Lk)("a",{href:z.selectedCitation.file_link,target:"_blank",class:"btn btn-outline-primary"},e[18]||(e[18]=[(0,a.Lk)("i",{class:"bi bi-file-earmark-text"},null,-1),(0,a.eW)(" View Source Document ")]),8,U)])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)]),e[21]||(e[21]=(0,a.Lk)("div",{class:"modal-footer"},[(0,a.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])])])}var z=n(4048),W=n(388),Q=(n(2008),n(4423),n(2062),n(8111),n(2489),n(1701),n(6099),n(1699),n(2505)),V=n.n(Q),B=n(454);const G={name:"MultitoolConfirmed",data:function(){return{citations:[],loading:!0,error:null,searchQuery:"",selectedCitation:null,contextModal:null}},computed:{filteredCitations:function(){if(!this.searchQuery)return this.citations;var t=this.searchQuery.toLowerCase();return this.citations.filter((function(e){return e.citation_text.toLowerCase().includes(t)||e.case_name&&e.case_name.toLowerCase().includes(t)}))}},methods:{fetchCitations:function(){var t=this;return(0,W.A)((0,z.A)().mark((function e(){var n,a,i;return(0,z.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.error=null,e.prev=2,e.prev=3,e.next=6,V().get("/citation_verification_results.json");case 6:if(n=e.sent,console.log("Citation verification results:",n.data),!(n.data&&n.data.newly_confirmed&&n.data.newly_confirmed.length>0)){e.next=13;break}return t.citations=n.data.newly_confirmed.map((function(t){return{citation_text:t.citation_text,case_name:t.case_name||"Unknown",confidence:t.confidence||.8,source:t.source||"Multi-source Verification",url:t.url||"",explanation:t.explanation||"No explanation available",document:t.document||""}})),console.log("Loaded",t.citations.length,"citations from JSON file"),t.loading=!1,e.abrupt("return");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),console.warn("Error loading from JSON file directly:",e.t0);case 18:return e.prev=18,e.next=21,V().get("/api/confirmed_with_multitool_data");case 21:a=e.sent,e.next=39;break;case 24:return e.prev=24,e.t1=e["catch"](18),console.warn("First endpoint attempt failed, trying alternate endpoint:",e.t1),e.prev=27,e.next=30,V().get("/api/confirmed-with-multitool-data");case 30:a=e.sent,e.next=39;break;case 33:return e.prev=33,e.t2=e["catch"](27),console.warn("Second endpoint attempt failed, trying with full path:",e.t2),e.next=38,V().get("/casestrainer/api/confirmed_with_multitool_data");case 38:a=e.sent;case 39:console.log("Multitool confirmed data response:",a.data),a.data&&a.data.citations&&(t.citations=a.data.citations),e.next=47;break;case 43:e.prev=43,e.t3=e["catch"](2),console.error("Error fetching multitool confirmed citations:",e.t3),t.error=(null===(i=e.t3.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"An error occurred while fetching citations";case 47:return e.prev=47,t.loading=!1,e.finish(47);case 50:case"end":return e.stop()}}),e,null,[[2,43,47,50],[3,15],[18,24],[27,33]])})))()},getConfidenceClass:function(t){return t>=.8?"bg-success":t>=.6?"bg-info":t>=.4?"bg-warning":"bg-danger"},showContext:function(t){this.selectedCitation=t,this.contextModal.show()}},mounted:function(){this.fetchCitations(),this.contextModal=new B.aF(document.getElementById("contextModal"))}};var j=n(6262);const J=(0,j.A)(G,[["render",M],["__scopeId","data-v-9f80e488"]]),$=J},5604:(t,e,n)=>{n.d(e,{A:()=>pt});var a=n(641),i=n(33),o=n(3751),s={class:"unconfirmed-citations"},r={class:"card"},l={class:"card-body"},c={key:0,class:"text-center py-4"},u={key:1,class:"alert alert-danger"},d={key:2,class:"alert alert-info"},f={key:3},m={class:"mb-3"},p={class:"table-responsive"},v={class:"table table-striped table-hover"},g={key:0},h={key:1},k={class:"progress"},b=["aria-valuenow"],C={class:"text-truncate d-inline-block",style:{"max-width":"200px"}},L=["onClick","disabled"],y={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_=["href"],E=["onClick"],x=["onClick"],A={class:"modal fade",id:"contextModal",tabindex:"-1","aria-labelledby":"contextModalLabel","aria-hidden":"true"},w={class:"modal-dialog modal-lg"},S={class:"modal-content"},T={class:"modal-body"},I={key:0},R={key:0,class:"citation-details mb-3"},N={class:"row"},F={key:0,class:"col-md-4"},O={key:1,class:"col-md-4"},D={key:2,class:"col-md-4"},P={class:"row mt-2"},X={key:0,class:"col-md-6"},U={key:1,class:"col-md-6"},M={class:"context-text"},z={key:1,class:"mt-3"},W=["href"],Q={class:"modal fade",id:"suggestionsModal",tabindex:"-1","aria-labelledby":"suggestionsModalLabel","aria-hidden":"true"},V={class:"modal-dialog modal-lg"},B={class:"modal-content"},G={class:"modal-body"},j={key:0,class:"text-center py-4"},J={key:1,class:"alert alert-danger"},$={key:2,class:"alert alert-info"},H={key:3},K={class:"list-group mt-3"},q=["onClick"],Y={class:"d-flex w-100 justify-content-between"},Z={class:"mb-1"},tt={class:"text-success"},et={class:"mb-1"},nt={key:0},at=["href"];function it(t,e,n,it,ot,st){var rt;return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",r,[e[12]||(e[12]=(0,a.Lk)("div",{class:"card-header bg-danger text-white"},[(0,a.Lk)("h5",null,"Unconfirmed Citations"),(0,a.Lk)("p",{class:"mb-0"},"These citations could not be verified in any of our sources")],-1)),(0,a.Lk)("div",l,[ot.loading?((0,a.uX)(),(0,a.CE)("div",c,e[1]||(e[1]=[(0,a.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,a.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,a.Lk)("p",{class:"mt-2"},"Loading citations...",-1)]))):ot.error?((0,a.uX)(),(0,a.CE)("div",u,[e[2]||(e[2]=(0,a.Lk)("h5",null,"Error",-1)),(0,a.Lk)("p",null,(0,i.v_)(ot.error),1)])):0===ot.citations.length?((0,a.uX)(),(0,a.CE)("div",d,e[3]||(e[3]=[(0,a.Lk)("p",null,"No unconfirmed citations found.",-1)]))):((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("div",m,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-control",placeholder:"Search citations...","onUpdate:modelValue":e[0]||(e[0]=function(t){return ot.searchQuery=t})},null,512),[[o.Jo,ot.searchQuery]])]),(0,a.Lk)("div",p,[(0,a.Lk)("table",v,[e[11]||(e[11]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Citation"),(0,a.Lk)("th",null,"Possible Case Name"),(0,a.Lk)("th",null,"Details"),(0,a.Lk)("th",null,"Confidence"),(0,a.Lk)("th",null,"Explanation"),(0,a.Lk)("th",null,"Actions")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(st.filteredCitations,(function(t,n){return(0,a.uX)(),(0,a.CE)("tr",{key:n},[(0,a.Lk)("td",null,(0,i.v_)(t.citation_text),1),(0,a.Lk)("td",null,(0,i.v_)(t.case_name||"Unknown"),1),(0,a.Lk)("td",null,[t.volume||t.reporter||t.page?((0,a.uX)(),(0,a.CE)("span",g,[e[4]||(e[4]=(0,a.Lk)("strong",null,"Vol:",-1)),(0,a.eW)(" "+(0,i.v_)(t.volume||"N/A")+" ",1),e[5]||(e[5]=(0,a.Lk)("strong",null,"Rep:",-1)),(0,a.eW)(" "+(0,i.v_)(t.reporter||"N/A")+" ",1),e[6]||(e[6]=(0,a.Lk)("strong",null,"Pg:",-1)),(0,a.eW)(" "+(0,i.v_)(t.page||"N/A")+" ",1),e[7]||(e[7]=(0,a.Lk)("br",null,null,-1))])):(0,a.Q3)("",!0),t.court||t.year?((0,a.uX)(),(0,a.CE)("span",h,[e[8]||(e[8]=(0,a.Lk)("strong",null,"Court:",-1)),(0,a.eW)(" "+(0,i.v_)(t.court||"N/A")+" ",1),e[9]||(e[9]=(0,a.Lk)("strong",null,"Year:",-1)),(0,a.eW)(" "+(0,i.v_)(t.year||"N/A"),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("td",null,[(0,a.Lk)("div",k,[(0,a.Lk)("div",{class:"progress-bar bg-danger",role:"progressbar",style:(0,i.Tr)({width:100*t.confidence+"%"}),"aria-valuenow":100*t.confidence,"aria-valuemin":"0","aria-valuemax":"100"},(0,i.v_)(Math.round(100*t.confidence))+"% ",13,b)])]),(0,a.Lk)("td",null,[(0,a.Lk)("span",C,(0,i.v_)(t.explanation||"No explanation available"),1)]),(0,a.Lk)("td",null,[(0,a.Lk)("button",{class:"btn btn-sm btn-outline-primary",onClick:function(e){return st.reprocessCitation(t)},disabled:ot.reprocessing===t.citation_text},[ot.reprocessing===t.citation_text?((0,a.uX)(),(0,a.CE)("span",y)):(0,a.Q3)("",!0),e[10]||(e[10]=(0,a.eW)(" Reprocess "))],8,L),t.file_link?((0,a.uX)(),(0,a.CE)("a",{key:0,href:t.file_link,target:"_blank",class:"btn btn-sm btn-outline-secondary ms-1"}," Source File ",8,_)):(0,a.Q3)("",!0),t.context?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"btn btn-sm btn-outline-info ms-1",onClick:function(e){return st.showContext(t)}}," Context ",8,E)):(0,a.Q3)("",!0),(0,a.Lk)("button",{class:"btn btn-sm btn-outline-success ms-1",onClick:function(e){return st.showSuggestions(t)}}," Suggestions ",8,x)])])})),128))])])])]))])]),(0,a.Lk)("div",A,[(0,a.Lk)("div",w,[(0,a.Lk)("div",S,[e[21]||(e[21]=(0,a.Lk)("div",{class:"modal-header"},[(0,a.Lk)("h5",{class:"modal-title",id:"contextModalLabel"},"Citation Context"),(0,a.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,a.Lk)("div",T,[ot.selectedCitation?((0,a.uX)(),(0,a.CE)("div",I,[(0,a.Lk)("h6",null,"Citation: "+(0,i.v_)(ot.selectedCitation.citation_text),1),ot.selectedCitation.volume||ot.selectedCitation.reporter||ot.selectedCitation.page||ot.selectedCitation.court||ot.selectedCitation.year?((0,a.uX)(),(0,a.CE)("div",R,[e[18]||(e[18]=(0,a.Lk)("h6",null,"Citation Details:",-1)),(0,a.Lk)("div",N,[ot.selectedCitation.volume?((0,a.uX)(),(0,a.CE)("div",F,[e[13]||(e[13]=(0,a.Lk)("strong",null,"Volume:",-1)),(0,a.eW)(" "+(0,i.v_)(ot.selectedCitation.volume),1)])):(0,a.Q3)("",!0),ot.selectedCitation.reporter?((0,a.uX)(),(0,a.CE)("div",O,[e[14]||(e[14]=(0,a.Lk)("strong",null,"Reporter:",-1)),(0,a.eW)(" "+(0,i.v_)(ot.selectedCitation.reporter),1)])):(0,a.Q3)("",!0),ot.selectedCitation.page?((0,a.uX)(),(0,a.CE)("div",D,[e[15]||(e[15]=(0,a.Lk)("strong",null,"Page:",-1)),(0,a.eW)(" "+(0,i.v_)(ot.selectedCitation.page),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",P,[ot.selectedCitation.court?((0,a.uX)(),(0,a.CE)("div",X,[e[16]||(e[16]=(0,a.Lk)("strong",null,"Court:",-1)),(0,a.eW)(" "+(0,i.v_)(ot.selectedCitation.court),1)])):(0,a.Q3)("",!0),ot.selectedCitation.year?((0,a.uX)(),(0,a.CE)("div",U,[e[17]||(e[17]=(0,a.Lk)("strong",null,"Year:",-1)),(0,a.eW)(" "+(0,i.v_)(ot.selectedCitation.year),1)])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0),e[20]||(e[20]=(0,a.Lk)("h6",null,"Citation Context:",-1)),(0,a.Lk)("p",M,(0,i.v_)(ot.selectedCitation.context),1),ot.selectedCitation.file_link?((0,a.uX)(),(0,a.CE)("div",z,[(0,a.Lk)("a",{href:ot.selectedCitation.file_link,target:"_blank",class:"btn btn-outline-primary"},e[19]||(e[19]=[(0,a.Lk)("i",{class:"bi bi-file-earmark-text"},null,-1),(0,a.eW)(" View Source Document ")]),8,W)])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)]),e[22]||(e[22]=(0,a.Lk)("div",{class:"modal-footer"},[(0,a.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])]),(0,a.Lk)("div",Q,[(0,a.Lk)("div",V,[(0,a.Lk)("div",B,[e[26]||(e[26]=(0,a.Lk)("div",{class:"modal-header"},[(0,a.Lk)("h5",{class:"modal-title",id:"suggestionsModalLabel"},"Citation Correction Suggestions"),(0,a.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,a.Lk)("div",G,[ot.loadingSuggestions?((0,a.uX)(),(0,a.CE)("div",j,e[23]||(e[23]=[(0,a.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,a.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,a.Lk)("p",{class:"mt-2"},"Loading suggestions...",-1)]))):ot.suggestionError?((0,a.uX)(),(0,a.CE)("div",J,[e[24]||(e[24]=(0,a.Lk)("h5",null,"Error",-1)),(0,a.Lk)("p",null,(0,i.v_)(ot.suggestionError),1)])):0===ot.suggestions.length?((0,a.uX)(),(0,a.CE)("div",$,e[25]||(e[25]=[(0,a.Lk)("p",null,"No correction suggestions available for this citation.",-1)]))):((0,a.uX)(),(0,a.CE)("div",H,[(0,a.Lk)("h6",null,"Original Citation: "+(0,i.v_)(null===(rt=ot.selectedCitation)||void 0===rt?void 0:rt.citation_text),1),(0,a.Lk)("div",K,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ot.suggestions,(function(t,e){return(0,a.uX)(),(0,a.CE)("a",{key:e,href:"#",class:"list-group-item list-group-item-action",onClick:(0,o.D$)((function(e){return st.applySuggestion(t)}),["prevent"])},[(0,a.Lk)("div",Y,[(0,a.Lk)("h6",Z,(0,i.v_)(t.corrected_citation),1),(0,a.Lk)("small",tt,(0,i.v_)(Math.round(100*t.confidence))+"% match",1)]),(0,a.Lk)("p",et,(0,i.v_)(t.explanation),1),t.source_url?((0,a.uX)(),(0,a.CE)("small",nt,[(0,a.Lk)("a",{href:t.source_url,target:"_blank"},"View Source",8,at)])):(0,a.Q3)("",!0)],8,q)})),128))])]))]),e[27]||(e[27]=(0,a.Lk)("div",{class:"modal-footer"},[(0,a.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])])])}var ot=n(9201),st=n(4048),rt=n(388),lt=(n(2008),n(113),n(8980),n(4423),n(2062),n(4554),n(8111),n(2489),n(116),n(1701),n(6099),n(1699),n(2505)),ct=n.n(lt),ut=n(454);const dt={name:"UnconfirmedCitations",data:function(){return{citations:[],loading:!0,error:null,searchQuery:"",selectedCitation:null,contextModal:null,suggestionsModal:null,suggestions:[],loadingSuggestions:!1,suggestionError:null,reprocessing:null}},computed:{filteredCitations:function(){if(!this.searchQuery)return this.citations;var t=this.searchQuery.toLowerCase();return this.citations.filter((function(e){return e.citation_text.toLowerCase().includes(t)||e.case_name&&e.case_name.toLowerCase().includes(t)}))}},methods:{fetchCitations:function(){var t=this;return(0,rt.A)((0,st.A)().mark((function e(){var n,a,i;return(0,st.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.error=null,e.prev=2,e.prev=3,e.next=6,ct().get("/citation_verification_results.json");case 6:if(n=e.sent,console.log("Citation verification results:",n.data),!(n.data&&n.data.still_unconfirmed&&n.data.still_unconfirmed.length>0)){e.next=13;break}return t.citations=n.data.still_unconfirmed.map((function(t){return{citation_text:t.citation_text,case_name:t.case_name||"Unknown",confidence:t.confidence||.3,explanation:t.explanation||"No explanation available",document:t.document||"",summaries:t.summaries||[]}})),console.log("Loaded",t.citations.length,"unconfirmed citations from JSON file"),t.loading=!1,e.abrupt("return");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),console.warn("Error loading from JSON file directly:",e.t0);case 18:return e.prev=18,e.next=21,ct().get("/api/unconfirmed_citations_data");case 21:a=e.sent,e.next=39;break;case 24:return e.prev=24,e.t1=e["catch"](18),console.warn("First endpoint attempt failed, trying alternate endpoint:",e.t1),e.prev=27,e.next=30,ct().get("/api/unconfirmed-citations-data");case 30:a=e.sent,e.next=39;break;case 33:return e.prev=33,e.t2=e["catch"](27),console.warn("Second endpoint attempt failed, trying with full path:",e.t2),e.next=38,ct().get("/casestrainer/api/unconfirmed_citations_data");case 38:a=e.sent;case 39:console.log("Unconfirmed citations data response:",a.data),a.data&&a.data.citations&&(t.citations=a.data.citations),e.next=47;break;case 43:e.prev=43,e.t3=e["catch"](2),console.error("Error fetching unconfirmed citations:",e.t3),t.error=(null===(i=e.t3.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"An error occurred while fetching citations";case 47:return e.prev=47,t.loading=!1,e.finish(47);case 50:case"end":return e.stop()}}),e,null,[[2,43,47,50],[3,15],[18,24],[27,33]])})))()},showContext:function(t){this.selectedCitation=t,this.contextModal.show()},showSuggestions:function(t){var e=this;return(0,rt.A)((0,st.A)().mark((function n(){var a,i;return(0,st.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.selectedCitation=t,e.loadingSuggestions=!0,e.suggestionError=null,e.suggestions=[],e.suggestionsModal.show(),n.prev=5,n.next=8,ct().post("/api/correction-suggestions",{citation:t.citation_text});case 8:a=n.sent,e.suggestions=a.data.suggestions,n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](5),console.error("Error fetching correction suggestions:",n.t0),e.suggestionError=(null===(i=n.t0.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"An error occurred while fetching suggestions";case 16:return n.prev=16,e.loadingSuggestions=!1,n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[5,12,16,19]])})))()},reprocessCitation:function(t){var e=this;return(0,rt.A)((0,st.A)().mark((function n(){var a,i,o,s;return(0,st.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.reprocessing=t.citation_text,n.prev=1,n.next=4,ct().post("/api/reprocess-citations",{citations:[t.citation_text]});case 4:a=n.sent,i=e.citations.findIndex((function(e){return e.citation_text===t.citation_text})),-1!==i&&(o=a.data.results.find((function(e){return e.citation_text===t.citation_text})),o&&(o.found?e.citations.splice(i,1):e.citations[i]=(0,ot.A)((0,ot.A)({},e.citations[i]),o))),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](1),console.error("Error reprocessing citation:",n.t0),alert("Error reprocessing citation: "+((null===(s=n.t0.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.error)||"An unknown error occurred"));case 13:return n.prev=13,e.reprocessing=null,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})))()},applySuggestion:function(t){this.selectedCitation&&(this.reprocessCitation((0,ot.A)((0,ot.A)({},this.selectedCitation),{},{citation_text:t.corrected_citation})),this.suggestionsModal.hide())}},mounted:function(){this.fetchCitations(),this.contextModal=new ut.aF(document.getElementById("contextModal")),this.suggestionsModal=new ut.aF(document.getElementById("suggestionsModal"))}};var ft=n(6262);const mt=(0,ft.A)(dt,[["render",it],["__scopeId","data-v-3baf596e"]]),pt=mt},8430:(t,e,n)=>{n.d(e,{A:()=>s});n(8706);var a=n(2505),i=n.n(a),o="/casestrainer/api";const s={analyzeBriefText:function(t,e){return i().post("".concat(o,"/analyze"),{text:t,api_key:e})},analyzeFile:function(t){return i().post("".concat(o,"/analyze"),t,{headers:{"Content-Type":"multipart/form-data"}})},analyzeFilePath:function(t,e){return i().post("".concat(o,"/analyze"),{file_path:t,api_key:e})},getAnalysisStatus:function(t){return i().get("".concat(o,"/status?analysis_id=").concat(t))},getUnconfirmedCitations:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i().post("".concat(o,"/unconfirmed_citations_data"),t)},getMultitoolConfirmedCitations:function(){return i().get("".concat(o,"/confirmed_with_multitool_data"))},getCorrectionSuggestions:function(t){return i().post("".concat(o,"/correction_suggestions"),{citation:t})},getCitationNetworkData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i().get("".concat(o,"/citation_network_data?filter=").concat(t,"&depth=").concat(e))},trainMLClassifier:function(){return i().post("".concat(o,"/train_ml_classifier"))},classifyCitation:function(t,e){return i().post("".concat(o,"/classify_citation"),{citation:t,case_name:e})},getTestCitations:function(t,e,n){return i().get("".concat(o,"/citation_tester_data"),{params:{count:t,include_confirmed:e,include_unconfirmed:n}})},exportCitations:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().post("".concat(o,"/export_citations"),{format:t,filters:e})},verifyCitation:function(t,e){return i().post("".concat(o,"/verify_citation"),{citation:t,case_name:e})}}},8777:(t,e,n)=>{n(3792),n(3362),n(9085),n(9391);var a=n(3751),i=n(641),o={class:"app-container"},s={class:"navbar navbar-expand-lg navbar-dark bg-primary"},r={class:"container-fluid position-relative"},l={class:"collapse navbar-collapse",id:"navbarNav"},c={class:"navbar-nav"},u={class:"nav-item"},d={class:"nav-item"},f={class:"nav-item"},m={class:"nav-item"},p={class:"nav-item"},v={class:"nav-item"},g={class:"nav-item"},h={class:"nav-item"},k={class:"container mt-4"};function b(t,e,n,a,b,C){var L=(0,i.g2)("router-link"),y=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("nav",s,[(0,i.Lk)("div",r,[(0,i.bF)(L,{class:"navbar-brand",to:"/"},{default:(0,i.k6)((function(){return e[0]||(e[0]=[(0,i.eW)("CaseStrainer")])})),_:1}),e[9]||(e[9]=(0,i.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,i.Lk)("div",l,[(0,i.Lk)("ul",c,[(0,i.Lk)("li",u,[(0,i.bF)(L,{class:"nav-link",to:"/"},{default:(0,i.k6)((function(){return e[1]||(e[1]=[(0,i.eW)("Home")])})),_:1})]),(0,i.Lk)("li",d,[(0,i.bF)(L,{class:"nav-link",to:"/unconfirmed-citations"},{default:(0,i.k6)((function(){return e[2]||(e[2]=[(0,i.eW)("Unconfirmed Citations")])})),_:1})]),(0,i.Lk)("li",f,[(0,i.bF)(L,{class:"nav-link",to:"/multitool-confirmed"},{default:(0,i.k6)((function(){return e[3]||(e[3]=[(0,i.eW)("Confirmed with Multitool")])})),_:1})]),(0,i.Lk)("li",m,[(0,i.bF)(L,{class:"nav-link",to:"/citation-network"},{default:(0,i.k6)((function(){return e[4]||(e[4]=[(0,i.eW)("Citation Network")])})),_:1})]),(0,i.Lk)("li",p,[(0,i.bF)(L,{class:"nav-link",to:"/ml-classifier"},{default:(0,i.k6)((function(){return e[5]||(e[5]=[(0,i.eW)("ML Classifier")])})),_:1})]),(0,i.Lk)("li",v,[(0,i.bF)(L,{class:"nav-link",to:"/citation-tester"},{default:(0,i.k6)((function(){return e[6]||(e[6]=[(0,i.eW)("Citation Tester")])})),_:1})]),(0,i.Lk)("li",g,[(0,i.bF)(L,{class:"nav-link highlight-nav",to:"/enhanced-validator"},{default:(0,i.k6)((function(){return e[7]||(e[7]=[(0,i.eW)("Enhanced Validator")])})),_:1})]),(0,i.Lk)("li",h,[(0,i.bF)(L,{class:"nav-link",to:"/about"},{default:(0,i.k6)((function(){return e[8]||(e[8]=[(0,i.eW)("About")])})),_:1})])])])]),e[10]||(e[10]=(0,i.Lk)("span",{class:"version-badge position-absolute top-0 end-0 mt-2 me-3 bg-light text-primary px-2 py-1 rounded",style:{"font-size":"0.95rem","font-weight":"bold"}},"v0.4.1",-1))]),(0,i.Lk)("main",k,[(0,i.bF)(y)]),e[11]||(e[11]=(0,i.Lk)("footer",{class:"footer mt-5 py-3 bg-light"},[(0,i.Lk)("div",{class:"container text-center"},[(0,i.Lk)("span",{class:"text-muted"},"CaseStrainer Â© 2025 - University of Washington")])],-1))])}const C={name:"App"};var L=n(6262);const y=(0,L.A)(C,[["render",b]]),_=y;n(6099),n(7764),n(2953);var E=n(5220);n(1629),n(8111),n(7588),n(3500),n(2010);var x=n(33),A={class:"file-upload"},w={class:"card"},S={class:"card-body"},T={class:"mb-3"},I={key:0,class:"mb-3"},R={class:"alert alert-info"},N=["disabled"],F={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},O={key:0,class:"mt-4"},D={class:"card"},P={class:"card-body"},X={class:"alert alert-success"},U={class:"mt-3"},M={class:"list-group"},z={class:"list-group-item d-flex justify-content-between align-items-center"},W={class:"badge bg-success rounded-pill"},Q={class:"list-group-item d-flex justify-content-between align-items-center"},V={class:"badge bg-danger rounded-pill"},B={class:"list-group-item d-flex justify-content-between align-items-center"},G={class:"badge bg-info rounded-pill"},j={key:1,class:"mt-4 alert alert-danger"};function J(t,e,n,a,o,s){return(0,i.uX)(),(0,i.CE)("div",A,[(0,i.Lk)("div",w,[e[5]||(e[5]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",null,"Upload a Document")],-1)),(0,i.Lk)("div",S,[(0,i.Lk)("div",T,[e[2]||(e[2]=(0,i.Lk)("label",{for:"fileUpload",class:"form-label"},"Select a file to analyze for citations",-1)),(0,i.Lk)("input",{class:"form-control",type:"file",id:"fileUpload",onChange:e[0]||(e[0]=function(){return s.handleFileChange&&s.handleFileChange.apply(s,arguments)}),accept:".pdf,.docx,.txt,.rtf,.doc,.html,.htm"},null,32),e[3]||(e[3]=(0,i.Lk)("div",{class:"form-text"},"Supported formats: PDF, DOCX, TXT, RTF, DOC, HTML",-1))]),o.file?((0,i.uX)(),(0,i.CE)("div",I,[(0,i.Lk)("div",R,[e[4]||(e[4]=(0,i.Lk)("strong",null,"Selected file:",-1)),(0,i.eW)(" "+(0,x.v_)(o.file.name)+" ("+(0,x.v_)(s.formatFileSize(o.file.size))+") ",1)])])):(0,i.Q3)("",!0),(0,i.Lk)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return s.uploadFile&&s.uploadFile.apply(s,arguments)}),disabled:!o.file||o.isUploading},[o.isUploading?((0,i.uX)(),(0,i.CE)("span",F)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,x.v_)(o.isUploading?"Analyzing...":"Analyze Citations"),1)],8,N)])]),o.results?((0,i.uX)(),(0,i.CE)("div",O,[(0,i.Lk)("div",D,[e[11]||(e[11]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",null,"Analysis Results")],-1)),(0,i.Lk)("div",P,[(0,i.Lk)("div",X,[e[6]||(e[6]=(0,i.Lk)("h5",null,"Analysis complete!",-1)),(0,i.Lk)("p",null,"Found "+(0,x.v_)(o.results.totalCitations)+" citations in your document.",1)]),(0,i.Lk)("div",U,[e[10]||(e[10]=(0,i.Lk)("h6",null,"Citation Summary:",-1)),(0,i.Lk)("ul",M,[(0,i.Lk)("li",z,[e[7]||(e[7]=(0,i.eW)(" Confirmed Citations ")),(0,i.Lk)("span",W,(0,x.v_)(o.results.confirmedCount),1)]),(0,i.Lk)("li",Q,[e[8]||(e[8]=(0,i.eW)(" Unconfirmed Citations ")),(0,i.Lk)("span",V,(0,x.v_)(o.results.unconfirmedCount),1)]),(0,i.Lk)("li",B,[e[9]||(e[9]=(0,i.eW)(" Verified with Multi-tool ")),(0,i.Lk)("span",G,(0,x.v_)(o.results.multitoolCount),1)])])])])])])):(0,i.Q3)("",!0),o.error?((0,i.uX)(),(0,i.CE)("div",j,[e[12]||(e[12]=(0,i.Lk)("h5",null,"Error",-1)),(0,i.Lk)("p",null,(0,x.v_)(o.error),1)])):(0,i.Q3)("",!0)])}var $=n(4048),H=n(388),K=(n(2008),n(4114),n(739),n(2489),n(3110),n(8940),n(2505)),q=n.n(K);const Y={name:"FileUpload",data:function(){return{file:null,isUploading:!1,results:null,error:null,debugInfo:""}},methods:{handleFileChange:function(t){this.file=t.target.files[0],this.error=null,this.results=null},formatFileSize:function(t){var e=["Bytes","KB","MB","GB"];if(0===t)return"0 Bytes";var n=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,n),2)+" "+e[n]},uploadFile:function(){var t=this;return(0,H.A)((0,$.A)().mark((function e(){var n,a,i;return(0,$.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.file){e.next=3;break}return t.error="Please select a file to upload",e.abrupt("return");case 3:return t.isUploading=!0,t.error=null,t.debugInfo="Debug: Starting file analysis...\n",e.prev=6,n=new FormData,n.append("file",t.file),n.append("debug_info",t.debugInfo),t.debugInfo+="Request to /api/analyze: [File data]\n",e.next=13,q().post("/api/analyze",n,{headers:{"Content-Type":"multipart/form-data"}});case 13:a=e.sent,t.debugInfo+="Response received: Processing data...\n",t.debugInfo+="Success: ".concat(JSON.stringify(a.data,null,2),"\n"),t.results={totalCitations:a.data.citations.length,confirmedCount:a.data.citations.filter((function(t){return t.valid})).length,unconfirmedCount:a.data.citations.filter((function(t){return!t.valid})).length,multitoolCount:a.data.citations.filter((function(t){return t.valid&&"courtlistener_api"!==t.source})).length,analysisId:a.data.analysis_id,citations:a.data.citations},localStorage.setItem("lastAnalysisResults",JSON.stringify(t.results)),e.next=26;break;case 20:e.prev=20,e.t0=e["catch"](6),console.error("Error uploading file:",e.t0),t.error=(null===(i=e.t0.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"An error occurred while analyzing the file",t.debugInfo+="Error: ".concat(e.t0.message,"\n"),e.t0.response&&(t.debugInfo+="Response status: ".concat(e.t0.response.status,"\n"),t.debugInfo+="Response data: ".concat(JSON.stringify(e.t0.response.data,null,2),"\n"));case 26:return e.prev=26,t.isUploading=!1,e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[6,20,26,29]])})))()},viewConfirmedCitations:function(){this.$router.push("/confirmed-citations")},viewUnconfirmedCitations:function(){this.$router.push("/unconfirmed-citations")},viewMultitoolCitations:function(){this.$router.push("/multitool-confirmed")}}},Z=(0,L.A)(Y,[["render",J],["__scopeId","data-v-154c8de6"]]),tt=Z;var et={class:"text-paste"},nt={class:"card"},at={class:"card-body"},it={class:"mb-3"},ot=["disabled"],st={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},rt={key:0,class:"mt-4"},lt={class:"card"},ct={class:"card-body"},ut={class:"tab-content"},dt={class:"tab-pane fade show active",id:"results-content",role:"tabpanel"},ft={class:"alert alert-success"},mt={class:"mt-3"},pt={class:"list-group"},vt={class:"list-group-item d-flex justify-content-between align-items-center"},gt={class:"badge bg-success rounded-pill"},ht={class:"list-group-item d-flex justify-content-between align-items-center"},kt={class:"badge bg-danger rounded-pill"},bt={class:"list-group-item d-flex justify-content-between align-items-center"},Ct={class:"badge bg-info rounded-pill"},Lt={class:"mt-3"},yt={key:1,class:"mt-4 alert alert-danger"};function _t(t,e,n,o,s,r){return(0,i.uX)(),(0,i.CE)("div",et,[(0,i.Lk)("div",nt,[e[6]||(e[6]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",null,"Paste Text")],-1)),(0,i.Lk)("div",at,[(0,i.Lk)("div",it,[e[5]||(e[5]=(0,i.Lk)("label",{for:"textInput",class:"form-label"},"Paste text containing legal citations",-1)),(0,i.bo)((0,i.Lk)("textarea",{class:"form-control",id:"textInput",rows:"10","onUpdate:modelValue":e[0]||(e[0]=function(t){return s.text=t}),placeholder:"Paste text from a legal document containing citations..."},null,512),[[a.Jo,s.text]])]),(0,i.Lk)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return r.analyzeText&&r.analyzeText.apply(r,arguments)}),disabled:!s.text||s.isAnalyzing},[s.isAnalyzing?((0,i.uX)(),(0,i.CE)("span",st)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,x.v_)(s.isAnalyzing?"Analyzing...":"Analyze Citations"),1)],8,ot)])]),s.results?((0,i.uX)(),(0,i.CE)("div",rt,[(0,i.Lk)("div",lt,[e[12]||(e[12]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("ul",{class:"nav nav-tabs card-header-tabs",id:"result-tabs"},[(0,i.Lk)("li",{class:"nav-item"},[(0,i.Lk)("a",{class:"nav-link active",id:"results-tab","data-bs-toggle":"tab",href:"#results-content",role:"tab"}," Analysis Results ")])])],-1)),(0,i.Lk)("div",ct,[(0,i.Lk)("div",ut,[(0,i.Lk)("div",dt,[(0,i.Lk)("div",ft,[e[7]||(e[7]=(0,i.Lk)("h5",null,"Analysis complete!",-1)),(0,i.Lk)("p",null,"Found "+(0,x.v_)(s.results.totalCitations)+" citations in your text.",1)]),(0,i.Lk)("div",mt,[e[11]||(e[11]=(0,i.Lk)("h6",null,"Citation Summary:",-1)),(0,i.Lk)("ul",pt,[(0,i.Lk)("li",vt,[e[8]||(e[8]=(0,i.eW)(" Confirmed Citations ")),(0,i.Lk)("span",gt,(0,x.v_)(s.results.confirmedCount),1)]),(0,i.Lk)("li",ht,[e[9]||(e[9]=(0,i.eW)(" Unconfirmed Citations ")),(0,i.Lk)("span",kt,(0,x.v_)(s.results.unconfirmedCount),1)]),(0,i.Lk)("li",bt,[e[10]||(e[10]=(0,i.eW)(" Verified with Multi-tool ")),(0,i.Lk)("span",Ct,(0,x.v_)(s.results.multitoolCount),1)])])]),(0,i.Lk)("div",Lt,[(0,i.Lk)("button",{class:"btn btn-outline-primary me-2",onClick:e[2]||(e[2]=function(){return r.viewConfirmedCitations&&r.viewConfirmedCitations.apply(r,arguments)})}," View Confirmed Citations "),(0,i.Lk)("button",{class:"btn btn-outline-danger me-2",onClick:e[3]||(e[3]=function(){return r.viewUnconfirmedCitations&&r.viewUnconfirmedCitations.apply(r,arguments)})}," View Unconfirmed Citations "),(0,i.Lk)("button",{class:"btn btn-outline-info",onClick:e[4]||(e[4]=function(){return r.viewMultitoolCitations&&r.viewMultitoolCitations.apply(r,arguments)})}," View Multi-tool Verified ")])])])])])])):(0,i.Q3)("",!0),s.error?((0,i.uX)(),(0,i.CE)("div",yt,[e[13]||(e[13]=(0,i.Lk)("h5",null,"Error",-1)),(0,i.Lk)("p",null,(0,x.v_)(s.error),1)])):(0,i.Q3)("",!0)])}const Et={name:"TextPaste",data:function(){return{text:"",isAnalyzing:!1,results:null,error:null,debugInfo:""}},methods:{analyzeText:function(){var t=this;return(0,H.A)((0,$.A)().mark((function e(){var n,a;return(0,$.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.text){e.next=3;break}return t.error="Please enter some text to analyze",e.abrupt("return");case 3:return t.isAnalyzing=!0,t.error=null,t.debugInfo="Debug: Starting text analysis...\n",e.prev=6,t.debugInfo+="Request to /api/analyze: [Text data]\n",e.next=10,q().post("/api/analyze",{text:t.text,debugInfo:t.debugInfo});case 10:n=e.sent,t.debugInfo+="Response received: Processing data...\n",t.debugInfo+="Success: ".concat(JSON.stringify(n.data,null,2),"\n"),t.results={totalCitations:n.data.citations.length,confirmedCount:n.data.citations.filter((function(t){return t.valid})).length,unconfirmedCount:n.data.citations.filter((function(t){return!t.valid})).length,multitoolCount:n.data.citations.filter((function(t){return t.valid&&"courtlistener_api"!==t.source})).length,analysisId:n.data.analysis_id,citations:n.data.citations},localStorage.setItem("lastAnalysisResults",JSON.stringify(t.results)),e.next=23;break;case 17:e.prev=17,e.t0=e["catch"](6),console.error("Error analyzing text:",e.t0),t.error=(null===(a=e.t0.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.error)||"An error occurred while analyzing the text",t.debugInfo+="Error: ".concat(e.t0.message,"\n"),e.t0.response&&(t.debugInfo+="Response status: ".concat(e.t0.response.status,"\n"),t.debugInfo+="Response data: ".concat(JSON.stringify(e.t0.response.data,null,2),"\n"));case 23:return e.prev=23,t.isAnalyzing=!1,e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[6,17,23,26]])})))()},viewConfirmedCitations:function(){this.$router.push("/confirmed-citations")},viewUnconfirmedCitations:function(){this.$router.push("/unconfirmed-citations")},viewMultitoolCitations:function(){this.$router.push("/multitool-confirmed")}}},xt=(0,L.A)(Et,[["render",_t],["__scopeId","data-v-63281838"]]),At=xt;var wt={class:"enhanced-file-upload"},St={class:"card"},Tt={class:"card-body"},It={class:"mb-3"},Rt={key:0,class:"mb-3"},Nt={class:"alert alert-info"},Ft=["disabled"],Ot={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Dt={key:0,class:"mt-4"},Pt={class:"card"},Xt={class:"card-body"},Ut={class:"alert alert-success"},Mt={class:"mt-3"},zt={class:"list-group"},Wt={class:"list-group-item d-flex justify-content-between align-items-center"},Qt={class:"badge bg-success rounded-pill"},Vt={class:"mt-4"},Bt={class:"table-responsive"},Gt={class:"table table-striped table-hover"},jt={key:1},Jt={class:"mt-3"};function $t(t,e,n,a,o,s){return(0,i.uX)(),(0,i.CE)("div",wt,[(0,i.Lk)("div",St,[e[7]||(e[7]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",null,"Upload a Document")],-1)),(0,i.Lk)("div",Tt,[(0,i.Lk)("div",It,[e[4]||(e[4]=(0,i.Lk)("label",{for:"enhancedFileUpload",class:"form-label"},"Select a file to analyze for citations",-1)),(0,i.Lk)("input",{class:"form-control",type:"file",id:"enhancedFileUpload",ref:"fileUpload",onChange:e[0]||(e[0]=function(){return s.handleFileChange&&s.handleFileChange.apply(s,arguments)}),accept:".pdf,.docx,.txt,.rtf,.doc,.html,.htm"},null,544),e[5]||(e[5]=(0,i.Lk)("div",{class:"form-text"},"Supported formats: PDF, DOCX, TXT, RTF, DOC, HTML",-1))]),o.file?((0,i.uX)(),(0,i.CE)("div",Rt,[(0,i.Lk)("div",Nt,[e[6]||(e[6]=(0,i.Lk)("strong",null,"Selected file:",-1)),(0,i.eW)(" "+(0,x.v_)(o.file.name)+" ("+(0,x.v_)(s.formatFileSize(o.file.size))+") ",1)])])):(0,i.Q3)("",!0),(0,i.Lk)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return s.analyzeDocument&&s.analyzeDocument.apply(s,arguments)}),disabled:!o.file||o.isAnalyzing},[o.isAnalyzing?((0,i.uX)(),(0,i.CE)("span",Ot)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,x.v_)(o.isAnalyzing?"Analyzing...":"Analyze Citations"),1)],8,Ft)])]),o.documentAnalysisResult?((0,i.uX)(),(0,i.CE)("div",Dt,[(0,i.Lk)("div",Pt,[e[13]||(e[13]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",null,"Analysis Results")],-1)),(0,i.Lk)("div",Xt,[(0,i.Lk)("div",Ut,[e[8]||(e[8]=(0,i.Lk)("h5",null,"Analysis complete!",-1)),(0,i.Lk)("p",null,"Found "+(0,x.v_)(o.documentAnalysisResult.citations_count)+" citations in your document.",1)]),(0,i.Lk)("div",Mt,[e[10]||(e[10]=(0,i.Lk)("h6",null,"Citation Summary:",-1)),(0,i.Lk)("ul",zt,[(0,i.Lk)("li",Wt,[e[9]||(e[9]=(0,i.eW)(" Confirmed Citations ")),(0,i.Lk)("span",Qt,(0,x.v_)(s.confirmedCount),1)])])]),(0,i.Lk)("div",Vt,[e[12]||(e[12]=(0,i.Lk)("h6",null,"Citations Found:",-1)),(0,i.Lk)("div",Bt,[(0,i.Lk)("table",Gt,[e[11]||(e[11]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Status"),(0,i.Lk)("th",null,"Validation Method"),(0,i.Lk)("th",null,"Case Name")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.documentAnalysisResult.validation_results,(function(t,e){return(0,i.uX)(),(0,i.CE)("tr",{key:e},[(0,i.Lk)("td",null,(0,x.v_)(t.citation),1),(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:(0,x.C4)(["badge",t.verified?"bg-success":"bg-danger"])},(0,x.v_)(t.verified?"Verified":"Not Verified"),3)]),(0,i.Lk)("td",null,[t.validation_method?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,x.C4)(["badge",s.getBadgeClass(t.validation_method)])},(0,x.v_)(t.validation_method),3)):((0,i.uX)(),(0,i.CE)("span",jt,"-"))]),(0,i.Lk)("td",null,(0,x.v_)(t.case_name||"-"),1)])})),128))])])])]),(0,i.Lk)("div",Jt,[(0,i.Lk)("button",{class:"btn btn-outline-primary me-2",onClick:e[2]||(e[2]=function(){return s.viewConfirmedCitations&&s.viewConfirmedCitations.apply(s,arguments)})},"View All Confirmed"),(0,i.Lk)("button",{class:"btn btn-outline-danger",onClick:e[3]||(e[3]=function(){return s.viewUnconfirmedCitations&&s.viewUnconfirmedCitations.apply(s,arguments)})},"View All Unconfirmed")])])])])):(0,i.Q3)("",!0)])}n(4423),n(9868),n(8459),n(1699);const Ht={name:"EnhancedFileUpload",data:function(){return{file:null,isAnalyzing:!1,documentAnalysisResult:null,error:null,debugInfo:""}},computed:{confirmedCount:function(){return this.documentAnalysisResult&&this.documentAnalysisResult.validation_results?this.documentAnalysisResult.validation_results.filter((function(t){return t.verified})).length:0},unconfirmedCount:function(){return this.documentAnalysisResult&&this.documentAnalysisResult.validation_results?this.documentAnalysisResult.validation_results.filter((function(t){return!t.verified})).length:0},basePath:function(){var t=window.location.pathname;return t.includes("/casestrainer/")?"/casestrainer":""}},methods:{handleFileChange:function(t){this.file=t.target.files[0],this.documentAnalysisResult=null},formatFileSize:function(t){if(0===t)return"0 Bytes";var e=1024,n=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,a)).toFixed(2))+" "+n[a]},analyzeDocument:function(){var t=this;if(this.file){this.isAnalyzing=!0,this.documentAnalysisResult=null,this.debugInfo="Debug: Starting file analysis...\n",this.debugInfo+="Request to ".concat(this.basePath,"/api/upload: [File data]\n");var e=new FormData;e.append("file",this.file),e.append("debug_info",this.debugInfo),q().post("".concat(this.basePath,"/api/upload"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.debugInfo+="Response received: Processing data...\n",t.debugInfo+="Success: ".concat(JSON.stringify(e.data,null,2),"\n"),t.documentAnalysisResult=e.data}))["catch"]((function(e){var n;console.error("Error analyzing document:",e),alert("Error analyzing document: ".concat((null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||e.message||"Unknown error")),t.debugInfo+="Error: ".concat(e.message,"\n"),e.response&&(t.debugInfo+="Response status: ".concat(e.response.status,"\n"),t.debugInfo+="Response data: ".concat(JSON.stringify(e.response.data,null,2),"\n"))}))["finally"]((function(){t.isAnalyzing=!1}))}else alert("Please select a file to upload")},getBadgeClass:function(t){switch(t){case"Landmark":return"bg-primary";case"CourtListener":return"bg-success";case"Multitool":return"bg-info";case"Other":return"bg-secondary";default:return"bg-dark"}},viewConfirmedCitations:function(){this.$router.push("/unconfirmed-citations?filter=confirmed")},viewUnconfirmedCitations:function(){this.$router.push("/unconfirmed-citations?filter=unconfirmed")}}},Kt=(0,L.A)(Ht,[["render",$t],["__scopeId","data-v-6a3a0a8c"]]),qt=Kt;var Yt={class:"enhanced-text-paste"},Zt={class:"card"},te={class:"card-body"},ee={class:"mb-3"},ne=["disabled"],ae={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},ie={key:0,class:"mt-4"},oe={class:"card"},se={class:"card-body"},re={class:"alert alert-success"},le={class:"mt-3"},ce={class:"list-group"},ue={class:"list-group-item d-flex justify-content-between align-items-center"},de={class:"badge bg-success rounded-pill"},fe={class:"mt-4"},me={class:"table-responsive"},pe={class:"table table-striped table-hover"},ve={key:1},ge={class:"mt-3"};function he(t,e,n,o,s,r){return(0,i.uX)(),(0,i.CE)("div",Yt,[(0,i.Lk)("div",Zt,[e[5]||(e[5]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",null,"Paste Text")],-1)),(0,i.Lk)("div",te,[(0,i.Lk)("div",ee,[e[4]||(e[4]=(0,i.Lk)("label",{for:"textInput",class:"form-label"},"Paste legal text to analyze for citations",-1)),(0,i.bo)((0,i.Lk)("textarea",{class:"form-control",id:"textInput","onUpdate:modelValue":e[0]||(e[0]=function(t){return s.pastedText=t}),rows:"10",placeholder:"Paste your legal document text here..."},null,512),[[a.Jo,s.pastedText]])]),(0,i.Lk)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return r.analyzeText&&r.analyzeText.apply(r,arguments)}),disabled:s.isAnalyzing||!s.pastedText},[s.isAnalyzing?((0,i.uX)(),(0,i.CE)("span",ae)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,x.v_)(s.isAnalyzing?"Analyzing...":"Analyze Citations"),1)],8,ne)])]),s.textAnalysisResult?((0,i.uX)(),(0,i.CE)("div",ie,[(0,i.Lk)("div",oe,[e[11]||(e[11]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",null,"Analysis Results")],-1)),(0,i.Lk)("div",se,[(0,i.Lk)("div",re,[e[6]||(e[6]=(0,i.Lk)("h5",null,"Analysis complete!",-1)),(0,i.Lk)("p",null,"Found "+(0,x.v_)(s.textAnalysisResult.citations_count)+" citations in your text.",1)]),(0,i.Lk)("div",le,[e[8]||(e[8]=(0,i.Lk)("h6",null,"Citation Summary:",-1)),(0,i.Lk)("ul",ce,[(0,i.Lk)("li",ue,[e[7]||(e[7]=(0,i.eW)(" Confirmed Citations ")),(0,i.Lk)("span",de,(0,x.v_)(r.confirmedCount),1)])])]),(0,i.Lk)("div",fe,[e[10]||(e[10]=(0,i.Lk)("h6",null,"Citations Found:",-1)),(0,i.Lk)("div",me,[(0,i.Lk)("table",pe,[e[9]||(e[9]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Status"),(0,i.Lk)("th",null,"Validation Method"),(0,i.Lk)("th",null,"Case Name")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.textAnalysisResult.validation_results,(function(t,e){return(0,i.uX)(),(0,i.CE)("tr",{key:e},[(0,i.Lk)("td",null,(0,x.v_)(t.citation),1),(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:(0,x.C4)(["badge",t.verified?"bg-success":"bg-danger"])},(0,x.v_)(t.verified?"Verified":"Not Verified"),3)]),(0,i.Lk)("td",null,[t.validation_method?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,x.C4)(["badge",r.getBadgeClass(t.validation_method)])},(0,x.v_)(t.validation_method),3)):((0,i.uX)(),(0,i.CE)("span",ve,"-"))]),(0,i.Lk)("td",null,(0,x.v_)(t.case_name||"-"),1)])})),128))])])])]),(0,i.Lk)("div",ge,[(0,i.Lk)("button",{class:"btn btn-outline-primary me-2",onClick:e[2]||(e[2]=function(){return r.viewConfirmedCitations&&r.viewConfirmedCitations.apply(r,arguments)})},"View All Confirmed"),(0,i.Lk)("button",{class:"btn btn-outline-danger",onClick:e[3]||(e[3]=function(){return r.viewUnconfirmedCitations&&r.viewUnconfirmedCitations.apply(r,arguments)})},"View All Unconfirmed")])])])])):(0,i.Q3)("",!0)])}n(8706);const ke={name:"EnhancedTextPaste",data:function(){return{pastedText:"",isAnalyzing:!1,textAnalysisResult:null,error:null,debugInfo:""}},computed:{confirmedCount:function(){return this.textAnalysisResult&&this.textAnalysisResult.validation_results?this.textAnalysisResult.validation_results.filter((function(t){return t.verified})).length:0},unconfirmedCount:function(){return this.textAnalysisResult&&this.textAnalysisResult.validation_results?this.textAnalysisResult.validation_results.filter((function(t){return!t.verified})).length:0},basePath:function(){var t=window.location.pathname;return t.includes("/casestrainer/")?"/casestrainer":""}},methods:{analyzeText:function(){var t=this;if(this.pastedText){this.isAnalyzing=!0,this.textAnalysisResult=null,this.debugInfo="Debug: Starting text analysis...\n",this.debugInfo+="Request to ".concat(this.basePath,"/api/upload: [Text data]\n");var e=new FormData;e.append("brief_text",this.pastedText),q().post("".concat(this.basePath,"/api/upload"),e).then((function(e){t.debugInfo+="Response received: Processing data...\n";var n=JSON.stringify(e.data,null,2);t.debugInfo+="Success: ".concat(n.substring(0,500)).concat(n.length>500?"... [truncated]":"","\n"),t.textAnalysisResult=e.data}))["catch"]((function(e){var n;console.error("Error analyzing text:",e),alert("Error analyzing text: ".concat((null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||e.message||"Unknown error")),t.debugInfo+="Error: ".concat(e.message,"\n"),e.response&&(t.debugInfo+="Response status: ".concat(e.response.status,"\n"),t.debugInfo+="Response data: ".concat(JSON.stringify(e.response.data,null,2),"\n"))}))["finally"]((function(){t.isAnalyzing=!1}))}else alert("Please paste some text to analyze")},getBadgeClass:function(t){switch(t){case"Landmark":return"bg-primary";case"CourtListener":return"bg-success";case"Multitool":return"bg-info";case"Other":return"bg-secondary";default:return"bg-dark"}},viewConfirmedCitations:function(){this.$router.push("/unconfirmed-citations?filter=confirmed")},viewUnconfirmedCitations:function(){this.$router.push("/unconfirmed-citations?filter=unconfirmed")}}},be=(0,L.A)(ke,[["render",he],["__scopeId","data-v-40a939d3"]]),Ce=be;var Le=n(5546),ye=n(5604);Le.A,ye.A;var _e=[{path:"/",name:"EnhancedValidator",component:function(){return n.e(108).then(n.bind(n,1108))}},{path:"/unconfirmed-citations",name:"UnconfirmedCitations",component:function(){return n.e(342).then(n.bind(n,4342))}},{path:"/multitool-confirmed",name:"MultitoolConfirmed",component:function(){return n.e(114).then(n.bind(n,3114))}},{path:"/citation-network",name:"CitationNetwork",component:function(){return n.e(198).then(n.bind(n,8198))}},{path:"/ml-classifier",name:"MLClassifier",component:function(){return n.e(116).then(n.bind(n,2116))}},{path:"/citation-tester",name:"CitationTester",component:function(){return n.e(569).then(n.bind(n,8569))}},{path:"/enhanced-validator",name:"EnhancedValidator",component:function(){return n.e(108).then(n.bind(n,1108))}},{path:"/about",name:"About",component:function(){return n.e(335).then(n.bind(n,7335))}}],Ee=(0,E.aE)({history:(0,E.LA)("/casestrainer/"),routes:_e});const xe=Ee;var Ae=n(6278),we=n(5492),Se=(n(4782),n(8430));const Te={namespaced:!0,state:{citations:[],filteredCitations:[],currentPage:1,itemsPerPage:10,totalItems:0,filters:{confidence:null,source:null,searchTerm:""},statistics:{total:0,highConfidence:0,mediumConfidence:0,lowConfidence:0}},mutations:{SET_CITATIONS:function(t,e){t.citations=e,t.totalItems=e.length},SET_FILTERED_CITATIONS:function(t,e){t.filteredCitations=e},SET_CURRENT_PAGE:function(t,e){t.currentPage=e},SET_FILTER:function(t,e){var n=e.type,a=e.value;t.filters[n]=a},SET_STATISTICS:function(t,e){t.statistics=e}},actions:{fetchCitations:function(t){return(0,H.A)((0,$.A)().mark((function e(){var n,a,i;return(0,$.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.dispatch,e.prev=1,n("SET_LOADING",!0,{root:!0}),e.next=5,Se.A.getUnconfirmedCitations();case 5:i=e.sent,n("SET_CITATIONS",i.data),a("calculateStatistics"),a("applyFilters"),n("SET_LOADING",!1,{root:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()},applyFilters:function(t){var e=t.commit,n=t.state,a=n.filters,i=a.confidence,o=a.source,s=a.searchTerm,r=(0,we.A)(n.citations);i&&(r=r.filter((function(t){return"high"===i?t.confidence>=.7:"medium"===i?t.confidence>=.4&&t.confidence<.7:"low"!==i||t.confidence<.4}))),o&&(r=r.filter((function(t){return t.source&&t.source.toLowerCase().includes(o.toLowerCase())}))),s&&(r=r.filter((function(t){return t.citation_text&&t.citation_text.toLowerCase().includes(s.toLowerCase())||t.case_name&&t.case_name.toLowerCase().includes(s.toLowerCase())}))),e("SET_FILTERED_CITATIONS",r)},calculateStatistics:function(t){var e=t.commit,n=t.state,a={total:n.citations.length,highConfidence:n.citations.filter((function(t){return t.confidence>=.7})).length,mediumConfidence:n.citations.filter((function(t){return t.confidence>=.4&&t.confidence<.7})).length,lowConfidence:n.citations.filter((function(t){return t.confidence<.4})).length};e("SET_STATISTICS",a)},setFilter:function(t,e){var n=t.commit,a=t.dispatch,i=e.type,o=e.value;n("SET_FILTER",{type:i,value:o}),a("applyFilters")},setCurrentPage:function(t,e){var n=t.commit;n("SET_CURRENT_PAGE",e)}},getters:{paginatedCitations:function(t){var e=(t.currentPage-1)*t.itemsPerPage,n=e+t.itemsPerPage;return t.filteredCitations.slice(e,n)},totalPages:function(t){return Math.ceil(t.filteredCitations.length/t.itemsPerPage)}}};n(3418),n(1415),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);const Ie={namespaced:!0,state:{citations:[],filteredCitations:[],currentPage:1,itemsPerPage:10,totalItems:0,filters:{verificationSource:null,confidence:null,searchTerm:""},statistics:{total:0,bySource:{}}},mutations:{SET_CITATIONS:function(t,e){t.citations=e,t.totalItems=e.length},SET_FILTERED_CITATIONS:function(t,e){t.filteredCitations=e},SET_CURRENT_PAGE:function(t,e){t.currentPage=e},SET_FILTER:function(t,e){var n=e.type,a=e.value;t.filters[n]=a},SET_STATISTICS:function(t,e){t.statistics=e}},actions:{fetchCitations:function(t){return(0,H.A)((0,$.A)().mark((function e(){var n,a,i;return(0,$.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.dispatch,e.prev=1,n("SET_LOADING",!0,{root:!0}),e.next=5,Se.A.getMultitoolConfirmedCitations();case 5:i=e.sent,n("SET_CITATIONS",i.data.citations),a("calculateStatistics"),a("applyFilters"),n("SET_LOADING",!1,{root:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()},applyFilters:function(t){var e=t.commit,n=t.state,a=n.filters,i=a.verificationSource,o=a.confidence,s=a.searchTerm,r=(0,we.A)(n.citations);i&&(r=r.filter((function(t){return t.verification_source&&t.verification_source.toLowerCase().includes(i.toLowerCase())}))),o&&(r=r.filter((function(t){var e=t.verification_confidence||0;return"high"===o?e>=.9:"medium"===o?e>=.8&&e<.9:"low"!==o||e<.8}))),s&&(r=r.filter((function(t){return t.citation_text&&t.citation_text.toLowerCase().includes(s.toLowerCase())||t.context&&t.context.toLowerCase().includes(s.toLowerCase())}))),e("SET_FILTERED_CITATIONS",r)},calculateStatistics:function(t){var e=t.commit,n=t.state,a={};n.citations.forEach((function(t){var e=t.verification_source||"Unknown";a[e]=(a[e]||0)+1}));var i={total:n.citations.length,bySource:a};e("SET_STATISTICS",i)},setFilter:function(t,e){var n=t.commit,a=t.dispatch,i=e.type,o=e.value;n("SET_FILTER",{type:i,value:o}),a("applyFilters")},setCurrentPage:function(t,e){var n=t.commit;n("SET_CURRENT_PAGE",e)}},getters:{paginatedCitations:function(t){var e=(t.currentPage-1)*t.itemsPerPage,n=e+t.itemsPerPage;return t.filteredCitations.slice(e,n)},totalPages:function(t){return Math.ceil(t.filteredCitations.length/t.itemsPerPage)},verificationSources:function(t){var e=new Set;return t.citations.forEach((function(t){t.verification_source&&e.add(t.verification_source)})),Array.from(e)}}},Re={namespaced:!0,state:{networkData:null,visualizationType:"force",filter:"all",depth:1,statistics:{nodes:0,edges:0,confirmedNodes:0,unconfirmedNodes:0,sourceDocuments:0}},mutations:{SET_NETWORK_DATA:function(t,e){t.networkData=e},SET_VISUALIZATION_TYPE:function(t,e){t.visualizationType=e},SET_FILTER:function(t,e){t.filter=e},SET_DEPTH:function(t,e){t.depth=e},SET_STATISTICS:function(t,e){t.statistics=e}},actions:{fetchNetworkData:function(t){return(0,H.A)((0,$.A)().mark((function e(){var n,a,i,o;return(0,$.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.dispatch,i=t.state,e.prev=1,n("SET_LOADING",!0,{root:!0}),e.next=5,Se.A.getCitationNetworkData(i.filter,i.depth);case 5:return o=e.sent,n("SET_NETWORK_DATA",o.data),a("calculateStatistics"),n("SET_LOADING",!1,{root:!0}),e.abrupt("return",o.data);case 12:throw e.prev=12,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0}),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,12]])})))()},setVisualizationType:function(t,e){var n=t.commit;n("SET_VISUALIZATION_TYPE",e)},setFilter:function(t,e){var n=t.commit;n("SET_FILTER",e)},setDepth:function(t,e){var n=t.commit;n("SET_DEPTH",e)},calculateStatistics:function(t){var e=t.commit,n=t.state;if(n.networkData){var a=n.networkData.nodes||[],i=n.networkData.links||[],o=a.filter((function(t){return"confirmed"===t.status})).length,s=a.filter((function(t){return"unconfirmed"===t.status})).length,r=a.filter((function(t){return"source_document"===t.type})).length,l={nodes:a.length,edges:i.length,confirmedNodes:o,unconfirmedNodes:s,sourceDocuments:r};e("SET_STATISTICS",l)}}},getters:{nodesByType:function(t){return function(e){return t.networkData&&t.networkData.nodes?t.networkData.nodes.filter((function(t){return t.type===e})):[]}},nodesByStatus:function(t){return function(e){return t.networkData&&t.networkData.nodes?t.networkData.nodes.filter((function(t){return t.status===e})):[]}}}};var Ne=n(9201);n(2712),n(1688),n(3288),n(8237),n(6031);const Fe={namespaced:!0,state:{classificationResult:null,batchResults:[],modelInfo:{accuracy:.95,precision:.92,recall:.93,lastTrained:null,trainingDataSize:650},citationInput:{text:"",caseName:""}},mutations:{SET_CLASSIFICATION_RESULT:function(t,e){t.classificationResult=e},SET_BATCH_RESULTS:function(t,e){t.batchResults=e},SET_CITATION_INPUT:function(t,e){var n=e.text,a=e.caseName;t.citationInput.text=n,t.citationInput.caseName=a||""},UPDATE_MODEL_INFO:function(t,e){t.modelInfo=(0,Ne.A)((0,Ne.A)({},t.modelInfo),e)},CLEAR_CLASSIFICATION_RESULT:function(t){t.classificationResult=null},CLEAR_BATCH_RESULTS:function(t){t.batchResults=[]}},actions:{classifyCitation:function(t){return(0,H.A)((0,$.A)().mark((function e(){var n,a,i;return(0,$.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.state,e.prev=1,n("SET_LOADING",!0,{root:!0}),e.next=5,Se.A.classifyCitation(a.citationInput.text,a.citationInput.caseName||null);case 5:return i=e.sent,n("SET_CLASSIFICATION_RESULT",i.data),n("SET_LOADING",!1,{root:!0}),e.abrupt("return",i.data);case 11:throw e.prev=11,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},trainModel:function(t){return(0,H.A)((0,$.A)().mark((function e(){var n,a;return(0,$.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,n("SET_LOADING",!0,{root:!0}),e.next=5,Se.A.trainMLClassifier();case 5:return a=e.sent,n("UPDATE_MODEL_INFO",(0,Ne.A)({lastTrained:(new Date).toISOString()},a.data.model_info)),n("SET_LOADING",!1,{root:!0}),e.abrupt("return",a.data);case 11:throw e.prev=11,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},processBatch:function(t,e){return(0,H.A)((0,$.A)().mark((function e(){var n;return(0,$.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,e.prev=1,n("SET_LOADING",!0,{root:!0}),setTimeout((function(){var t=[{citation:"347 U.S. 483",case_name:"Brown v. Board of Education",confidence:.98},{citation:"410 U.S. 113",case_name:"Roe v. Wade",confidence:.97},{citation:"384 U.S. 436",case_name:"Miranda v. Arizona",confidence:.95},{citation:"123 F.4d 456",case_name:"Smith v. Jones",confidence:.45},{citation:"789 P.3d 123",case_name:"Washington v. Oregon",confidence:.72}];n("SET_BATCH_RESULTS",t),n("SET_LOADING",!1,{root:!0})}),2e3),e.next=11;break;case 6:throw e.prev=6,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))()},setCitationInput:function(t,e){var n=t.commit,a=e.text,i=e.caseName;n("SET_CITATION_INPUT",{text:a,caseName:i})},clearClassificationResult:function(t){var e=t.commit;e("CLEAR_CLASSIFICATION_RESULT")},clearBatchResults:function(t){var e=t.commit;e("CLEAR_BATCH_RESULTS")}},getters:{confidenceBadgeClass:function(t){if(!t.classificationResult)return"";var e=t.classificationResult.confidence||0;return e>=.9?"bg-success":e>=.7?"bg-warning text-dark":"bg-danger"},predictionText:function(t){if(!t.classificationResult)return"";var e=t.classificationResult.confidence||0;return e>=.9?"Likely Real Citation":e>=.7?"Possibly Real Citation":"Likely Hallucinated Citation"},batchResultsSummary:function(t){var e=t.batchResults;if(!e.length)return null;var n=e.filter((function(t){return t.confidence>=.9})).length,a=e.filter((function(t){return t.confidence>=.7&&t.confidence<.9})).length,i=e.filter((function(t){return t.confidence<.7})).length;return{total:e.length,highConfidence:n,mediumConfidence:a,lowConfidence:i,avgConfidence:e.reduce((function(t,e){return t+e.confidence}),0)/e.length}}}},Oe=(0,Ae.y$)({state:{loading:!1,error:null},mutations:{SET_LOADING:function(t,e){t.loading=e},SET_ERROR:function(t,e){t.error=e}},actions:{setLoading:function(t,e){var n=t.commit;n("SET_LOADING",e)},setError:function(t,e){var n=t.commit;n("SET_ERROR",e)}},modules:{unconfirmedCitations:Te,multitoolConfirmed:Ie,citationNetwork:Re,mlClassifier:Fe}});n(8736);(0,a.Ef)(_).use(Oe).use(xe).mount("#app")}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,n),o.exports}n.m=t,(()=>{var t=[];n.O=(e,a,i,o)=>{if(!a){var s=1/0;for(u=0;u<t.length;u++){for(var[a,i,o]=t[u],r=!0,l=0;l<a.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((t=>n.O[t](a[l])))?a.splice(l--,1):(r=!1,o<s&&(s=o));if(r){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,i,o]}})(),(()=>{n.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return n.d(e,{a:e}),e}})(),(()=>{n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}})(),(()=>{n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,a)=>(n.f[a](t,e),e)),[]))})(),(()=>{n.u=t=>"js/"+t+"."+{108:"164023ac",114:"975949a3",116:"ca7041c7",198:"8f7ae7c8",335:"3cd1a518",342:"faf06b18",569:"20c8c837"}[t]+".js"})(),(()=>{n.miniCssF=t=>"css/"+t+"."+{108:"b9827a6d",114:"f91a3a05",342:"9789d246"}[t]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={},e="casestrainer-vue:";n.l=(a,i,o,s)=>{if(t[a])t[a].push(i);else{var r,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+o){r=d;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",e+o),r.src=a),t[a]=[i];var f=(e,n)=>{r.onerror=r.onload=null,clearTimeout(m);var i=t[a];if(delete t[a],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((t=>t(n))),e)return e(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=f.bind(null,r.onerror),r.onload=f.bind(null,r.onload),l&&document.head.appendChild(r)}}})(),(()=>{n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{n.p="/casestrainer/"})(),(()=>{if("undefined"!==typeof document){var t=(t,e,a,i,o)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",n.nc&&(s.nonce=n.nc);var r=n=>{if(s.onerror=s.onload=null,"load"===n.type)i();else{var a=n&&n.type,r=n&&n.target&&n.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+a+": "+r+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=r,s.parentNode&&s.parentNode.removeChild(s),o(l)}};return s.onerror=s.onload=r,s.href=e,a?a.parentNode.insertBefore(s,a.nextSibling):document.head.appendChild(s),s},e=(t,e)=>{for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var i=n[a],o=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(o===t||o===e))return i}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){i=s[a],o=i.getAttribute("data-href");if(o===t||o===e)return i}},a=a=>new Promise(((i,o)=>{var s=n.miniCssF(a),r=n.p+s;if(e(s,r))return i();t(a,r,null,i,o)})),i={524:0};n.f.miniCss=(t,e)=>{var n={108:1,114:1,342:1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=a(t).then((()=>{i[t]=0}),(e=>{throw delete i[t],e})))}}})(),(()=>{var t={524:0};n.f.j=(e,a)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)a.push(i[2]);else{var o=new Promise(((n,a)=>i=t[e]=[n,a]));a.push(i[2]=o);var s=n.p+n.u(e),r=new Error,l=a=>{if(n.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var o=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;r.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",r.name="ChunkLoadError",r.type=o,r.request=s,i[1](r)}};n.l(s,l,"chunk-"+e,e)}},n.O.j=e=>0===t[e];var e=(e,a)=>{var i,o,[s,r,l]=a,c=0;if(s.some((e=>0!==t[e]))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(l)var u=l(n)}for(e&&e(a);c<s.length;c++)o=s[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},a=self["webpackChunkcasestrainer_vue"]=self["webpackChunkcasestrainer_vue"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var a=n.O(void 0,[504],(()=>n(8777)));a=n.O(a)})();
//# sourceMappingURL=app.09ba646b.js.map