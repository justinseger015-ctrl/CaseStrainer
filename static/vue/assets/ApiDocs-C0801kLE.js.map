{"version":3,"file":"ApiDocs-C0801kLE.js","sources":["../../src/views/ApiDocs.vue"],"sourcesContent":["<template>\n  <div class=\"container py-4\">\n    <h1 class=\"mb-3\">API Documentation</h1>\n    <p class=\"lead\">Welcome to the CaseStrainer API documentation page.</p>\n    <p>\n      Here you will find information about available API endpoints, request/response formats, and usage examples.\n    </p>\n    <hr />\n    \n    <div class=\"mb-5\">\n      <h2>Available Endpoints</h2>\n      <ul>\n        <li><code>/casestrainer/api/analyze</code> &mdash; Analyze and validate citations</li>\n        <li><code>/casestrainer/api/task_status/{task_id}</code> &mdash; Check processing status</li>\n        <li><code>/casestrainer/api/health</code> &mdash; Health check endpoint</li>\n      </ul>\n    </div>\n\n    <div class=\"mb-5\">\n      <h2>Analyze Endpoint</h2>\n      <p class=\"text-muted\">POST <code>/casestrainer/api/analyze</code></p>\n      \n      <h3>Overview</h3>\n      <p>\n        The analyze endpoint processes legal documents and extracts/verifies citations. It supports three input types:\n        file uploads, direct text input, and URL content extraction. Processing is asynchronous and returns a task ID\n        that can be used to poll for results.\n      </p>\n\n      <h3>Input Types</h3>\n      \n      <div class=\"card mb-3\">\n        <div class=\"card-header\">\n          <h4 class=\"mb-0\">1. File Upload</h4>\n        </div>\n        <div class=\"card-body\">\n          <p><strong>Content-Type:</strong> <code>multipart/form-data</code></p>\n          <p><strong>Supported formats:</strong> PDF, DOC, DOCX, TXT</p>\n          <p><strong>Field name:</strong> <code>file</code></p>\n          \n          <h5>Example Request:</h5>\n          <pre><code>curl -X POST /casestrainer/api/analyze \\\n  -F \"file=@document.pdf\"</code></pre>\n        </div>\n      </div>\n\n      <div class=\"card mb-3\">\n        <div class=\"card-header\">\n          <h4 class=\"mb-0\">2. Text Input</h4>\n        </div>\n        <div class=\"card-body\">\n          <p><strong>Content-Type:</strong> <code>application/json</code> or <code>application/x-www-form-urlencoded</code></p>\n          \n          <h5>JSON Format:</h5>\n          <pre><code>{\n  \"type\": \"text\",\n  \"text\": \"The court held in Smith v. Jones, 123 F.3d 456 (9th Cir. 2020) that...\"\n}</code></pre>\n          \n          <h5>Form Data Format:</h5>\n          <pre><code>type=text&text=The court held in Smith v. Jones, 123 F.3d 456 (9th Cir. 2020) that...</code></pre>\n        </div>\n      </div>\n\n      <div class=\"card mb-3\">\n        <div class=\"card-header\">\n          <h4 class=\"mb-0\">3. URL Input</h4>\n        </div>\n        <div class=\"card-body\">\n          <p><strong>Content-Type:</strong> <code>application/json</code> or <code>application/x-www-form-urlencoded</code></p>\n          \n          <h5>JSON Format:</h5>\n          <pre><code>{\n  \"type\": \"url\",\n  \"url\": \"https://example.com/legal-document\"\n}</code></pre>\n          \n          <h5>Form Data Format:</h5>\n          <pre><code>type=url&url=https://example.com/legal-document</code></pre>\n        </div>\n      </div>\n\n      <h3>Response Format</h3>\n      <p>The analyze endpoint returns an immediate response with a task ID for tracking:</p>\n      \n      <div class=\"card mb-3\">\n        <div class=\"card-header\">\n          <h4 class=\"mb-0\">Initial Response</h4>\n        </div>\n        <div class=\"card-body\">\n          <pre><code>{\n  \"status\": \"processing\",\n  \"task_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"message\": \"File upload received, processing started\",\n  \"metadata\": {\n    \"source_type\": \"file\",\n    \"source_name\": \"document.pdf\",\n    \"file_type\": \".pdf\",\n    \"timestamp\": \"2024-01-15T10:30:00Z\",\n    \"user_agent\": \"curl/7.68.0\"\n  }\n}</code></pre>\n        </div>\n      </div>\n\n      <h3>Checking Results</h3>\n      <p>Use the task ID to poll for results using the task status endpoint:</p>\n      \n      <div class=\"card mb-3\">\n        <div class=\"card-header\">\n          <h4 class=\"mb-0\">Task Status Endpoint</h4>\n        </div>\n        <div class=\"card-body\">\n          <p><strong>GET</strong> <code>/casestrainer/api/task_status/{task_id}</code></p>\n          \n          <h5>Processing Response:</h5>\n          <pre><code>{\n  \"status\": \"processing\",\n  \"task_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"message\": \"Task is processing\",\n  \"progress\": 45,\n  \"status_message\": \"Extracting citations from content...\",\n  \"current_step\": \"Citation extraction\",\n  \"estimated_time_remaining\": 30\n}</code></pre>\n          \n          <h5>Completed Response:</h5>\n          <pre><code>{\n  \"status\": \"completed\",\n  \"task_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"citations\": [\n    {\n      \"citation\": \"123 F.3d 456\",\n      \"found\": true,\n      \"source\": \"CourtListener\",\n      \"canonical_name\": \"Smith v. Jones\",\n      \"extracted_case_name\": \"Smith v. Jones\",\n      \"url\": \"https://www.courtlistener.com/opinion/12345/\",\n      \"explanation\": \"Citation found and verified\",\n      \"is_westlaw\": false,\n      \"sources_checked\": [\"CourtListener\", \"Google Scholar\", \"Justia\"],\n      \"details\": {\n        \"court\": \"9th Cir.\",\n        \"year\": \"2020\",\n        \"reporter\": \"F.3d\",\n        \"volume\": \"123\",\n        \"page\": \"456\"\n      }\n    }\n  ],\n  \"metadata\": {\n    \"source_type\": \"file\",\n    \"source_name\": \"document.pdf\",\n    \"file_type\": \".pdf\",\n    \"timestamp\": \"2024-01-15T10:30:00Z\"\n  },\n  \"progress\": 100,\n  \"total_citations\": 1,\n  \"verified_citations\": 1\n}</code></pre>\n        </div>\n      </div>\n\n      <h3>Citation Result Fields</h3>\n      <div class=\"table-responsive\">\n        <table class=\"table table-striped\">\n          <thead>\n            <tr>\n              <th>Field</th>\n              <th>Type</th>\n              <th>Description</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td><code>citation</code></td>\n              <td>string</td>\n              <td>The original citation text</td>\n            </tr>\n            <tr>\n              <td><code>found</code></td>\n              <td>boolean</td>\n              <td>Whether the citation was found in legal databases</td>\n            </tr>\n            <tr>\n              <td><code>source</code></td>\n              <td>string</td>\n              <td>Primary source where citation was found (CourtListener, Google Scholar, Justia, etc.)</td>\n            </tr>\n            <tr>\n              <td><code>canonical_name</code></td>\n              <td>string</td>\n              <td>Official case name from the legal database</td>\n            </tr>\n            <tr>\n              <td><code>extracted_case_name</code></td>\n              <td>string</td>\n              <td>Case name extracted from the document text</td>\n            </tr>\n            <tr>\n              <td><code>url</code></td>\n              <td>string</td>\n              <td>Direct link to the case (if available)</td>\n            </tr>\n            <tr>\n              <td><code>explanation</code></td>\n              <td>string</td>\n              <td>Human-readable explanation of the verification result</td>\n            </tr>\n            <tr>\n              <td><code>is_westlaw</code></td>\n              <td>boolean</td>\n              <td>Whether this is a Westlaw citation</td>\n            </tr>\n            <tr>\n              <td><code>sources_checked</code></td>\n              <td>array</td>\n              <td>List of legal databases that were checked</td>\n            </tr>\n            <tr>\n              <td><code>details</code></td>\n              <td>object</td>\n              <td>Additional citation details (court, year, reporter, etc.)</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <h3>Error Responses</h3>\n      <div class=\"card mb-3\">\n        <div class=\"card-header\">\n          <h4 class=\"mb-0\">Error Format</h4>\n        </div>\n        <div class=\"card-body\">\n          <pre><code>{\n  \"status\": \"error\",\n  \"error_type\": \"input_validation\",\n  \"message\": \"No valid input provided\",\n  \"status_code\": 400,\n  \"metadata\": {\n    \"source_type\": \"text\",\n    \"source_name\": \"pasted_text\"\n  }\n}</code></pre>\n        </div>\n      </div>\n\n      <h3>Processing Times</h3>\n      <p>Typical processing times vary by input type:</p>\n      <ul>\n        <li><strong>Text input:</strong> 10-30 seconds</li>\n        <li><strong>File upload:</strong> 30-120 seconds (depends on file size and complexity)</li>\n        <li><strong>URL content:</strong> 60-300 seconds (includes download time)</li>\n      </ul>\n\n      <h3>Rate Limits</h3>\n      <p>To ensure fair usage, the API implements rate limiting:</p>\n      <ul>\n        <li>Maximum 10 requests per minute per IP address</li>\n        <li>Maximum file size: 50MB</li>\n        <li>Maximum text length: 100,000 characters</li>\n      </ul>\n\n      <h3>Complete Example</h3>\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h4 class=\"mb-0\">Full Workflow Example</h4>\n        </div>\n        <div class=\"card-body\">\n          <h5>1. Submit Analysis Request:</h5>\n          <pre><code>curl -X POST /casestrainer/api/analyze \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"type\": \"text\",\n    \"text\": \"The court held in Smith v. Jones, 123 F.3d 456 (9th Cir. 2020) that...\"\n  }'</code></pre>\n          \n          <h5>2. Get Task ID Response:</h5>\n          <pre><code>{\n  \"status\": \"processing\",\n  \"task_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"message\": \"Text received, processing started\"\n}</code></pre>\n          \n          <h5>3. Poll for Results:</h5>\n          <pre><code>curl /casestrainer/api/task_status/550e8400-e29b-41d4-a716-446655440000</code></pre>\n          \n          <h5>4. Get Final Results:</h5>\n          <pre><code>{\n  \"status\": \"completed\",\n  \"task_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"citations\": [\n    {\n      \"citation\": \"123 F.3d 456\",\n      \"found\": true,\n      \"source\": \"CourtListener\",\n      \"canonical_name\": \"Smith v. Jones\",\n      \"extracted_case_name\": \"Smith v. Jones\",\n      \"url\": \"https://www.courtlistener.com/opinion/12345/\",\n      \"explanation\": \"Citation found and verified\"\n    }\n  ]\n}</code></pre>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"mb-5\">\n      <h2>Health Check Endpoint</h2>\n      <p class=\"text-muted\">GET <code>/casestrainer/api/health</code></p>\n      <p>Returns the current status of the API service.</p>\n      \n      <h5>Response:</h5>\n      <pre><code>{\n  \"status\": \"healthy\",\n  \"timestamp\": \"2024-01-15T10:30:00Z\",\n  \"version\": \"0.5.8\"\n}</code></pre>\n    </div>\n\n    <div class=\"mb-5\">\n      <h2>Additional Resources</h2>\n      <p>For more detailed information, see the <a href=\"https://github.com/jafrank88/casestrainer\" target=\"_blank\">GitHub repository</a>.</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\n// No script needed for static docs\n</script>\n\n<style scoped>\nh1 {\n  color: #2563eb;\n}\n\n.card {\n  border: 1px solid #e5e7eb;\n  border-radius: 0.5rem;\n}\n\n.card-header {\n  background-color: #f9fafb;\n  border-bottom: 1px solid #e5e7eb;\n}\n\npre {\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 0.375rem;\n  padding: 1rem;\n  font-size: 0.875rem;\n  overflow-x: auto;\n}\n\ncode {\n  background-color: #f1f3f4;\n  padding: 0.125rem 0.25rem;\n  border-radius: 0.25rem;\n  font-size: 0.875em;\n}\n\n.table th {\n  background-color: #f8f9fa;\n  font-weight: 600;\n}\n</style> "],"names":["_openBlock","_createElementBlock"],"mappings":";;;;;;;AACE,aAAAA,UAAA,GAAAC,mBAmUM,OAnUN,YAmUM,OAAA,CAAA,MAAA,OAAA,CAAA,IAAA;AAAA;;;;;;"}