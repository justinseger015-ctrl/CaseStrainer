import{r as a,s as e,u as l,p as t,c as s,o as i,b as r,v as n,l as u,x as c,y as o,g as d,z as v,t as p,A as m,B as f,C as b}from"./vendor-DCBXmWkU.js";import{a as h}from"./api-Do78aeUW.js";import{_ as y}from"./index-_MoI-wmh.js";const g={class:"home"},x={class:"container"},k={class:"main-content-wrapper"},w={class:"main-input-area"},C={class:"input-container"},q={class:"input-methods"},D={key:0,class:"active-indicator"},P={key:0,class:"active-indicator"},M={key:0,class:"active-indicator"},S={class:"input-content-area"},U={key:0,class:"input-tab-content"},z={class:"form-group"},F={key:0,class:"input-quality-indicators"},R={class:"quality-item"},T={class:"quality-value"},A={class:"quality-item"},I={class:"quality-value"},O={class:"quality-item"},L={class:"quality-value"},_={key:1,class:"input-tab-content"},B={class:"form-group"},E={key:0,class:"selected-file"},V={class:"file-info"},X={class:"file-name"},$={class:"file-size"},N={key:1,class:"text-danger mt-2"},W={key:2,class:"input-tab-content"},j={class:"form-group"},G={key:0,class:"text-danger mt-2"},K={key:1,class:"form-text mt-2"},H={class:"analyze-button-container"},Y=["disabled"],Z={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},J={key:1,class:"bi bi-search me-2"},Q={key:0,class:"progress-section"},aa={class:"progress-info mb-3"},ea={class:"progress-stats"},la={class:"stat"},ta={class:"stat"},sa={class:"progress-container"},ia={class:"progress",style:{height:"1.5rem","border-radius":"0.75rem"}},ra=["aria-valuenow"],na={class:"progress-text"},ua=y({__name:"HomeView",setup(y){const ua=b(),ca=a("paste"),oa=a(""),da=a(""),va=a(null),pa=a(!1),ma=a(!1),fa=a(""),ba=a(""),ha=a(0),ya=a(0),ga=a(0),xa=a(null),ka=a(null);e(()=>{const a=l();a.query.tab&&(ca.value=a.query.tab,a.query.text&&(oa.value=a.query.text),a.query.url&&(da.value=a.query.url))});const wa=t(()=>oa.value?oa.value.trim().split(/\s+/).length:0),Ca=t(()=>{if(!oa.value)return 0;let a=0;return[/\d+\s+[Uu]\.?[Ss]\.?\s+\d+/g,/\d+\s+[Ff]\.?\d*\s+\d+/g,/\d+\s+[Ss]\.?\s+\d+/g,/\d+\s+[Aa]pp\.?\s+\d+/g,/\d+\s+[A-Z][a-z]*\.?\s*(?:2d|3d)?\s+\d+/g].forEach(e=>{const l=oa.value.match(e);l&&(a+=l.length)}),Math.max(a,Math.floor(wa.value/100))}),qa=t(()=>{if(!oa.value)return 0;const a=oa.value.match(/\b(19|20)\d{2}\b/g);return a?new Set(a).size:0}),Da=t(()=>{switch(ca.value){case"paste":return oa.value.trim().length>=10;case"file":return null!==va.value;case"url":return""!==da.value.trim()&&!ba.value;default:return!1}}),Pa=t(()=>ya.value?Math.min(100,Math.round(ha.value/ya.value*100)):0),Ma=t(()=>Pa.value>=80?"bg-success":Pa.value>=50?"bg-info":Pa.value>=30?"bg-warning":"bg-danger"),Sa=()=>{if(fa.value="",ba.value="","url"===ca.value&&da.value.trim())try{new URL(da.value)}catch{ba.value="Please enter a valid URL"}},Ua=a=>{const e=a.target.files[0];e&&Fa(e)},za=a=>{a.preventDefault(),ma.value=!1;const e=a.dataTransfer.files[0];e&&Fa(e)},Fa=a=>{fa.value="";["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(a.type)?a.size>52428800?fa.value="File size must be less than 50MB":va.value=a:fa.value="Please select a valid file type (PDF, DOC, DOCX, or TXT)"},Ra=a(null),Ta=()=>{!pa.value&&Ra.value&&Ra.value.click()},Aa=()=>{va.value=null,fa.value="",Ra.value&&(Ra.value.value="")},Ia=a=>{if(0===a)return"0 Bytes";const e=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,e)).toFixed(2))+" "+["Bytes","KB","MB","GB"][e]},Oa=a=>{if(!a||a<0)return"0s";const e=Math.floor(a/3600),l=Math.floor(a%3600/60),t=Math.floor(a%60);return e>0?`${e}:${l.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`:`${l}:${t.toString().padStart(2,"0")}`},La=async()=>{var a,e;if(Da.value&&!pa.value){pa.value=!0,(()=>{ka.value=Date.now(),ha.value=0,ya.value=Ca.value||10,xa.value=setInterval(()=>{ga.value=Math.floor((Date.now()-ka.value)/1e3)},1e3);const a=setInterval(()=>{ha.value<ya.value&&pa.value?ha.value++:clearInterval(a)},2e3)})();try{ca.value,oa.value,da.value,va.value&&va.value.name,(new Date).toISOString();let a;if("url"===ca.value&&da.value.trim())return void ua.push({path:"/enhanced-validator",query:{tab:ca.value,url:da.value.trim()}});switch(ca.value){case"paste":oa.value.trim()&&(a=await h({text:oa.value.trim(),type:"text"}));break;case"file":if(va.value){const e=new FormData;e.append("file",va.value),e.append("type","file"),a=await h(e)}}if(a&&a.task_id)return void ua.push({name:"EnhancedValidator",query:{task_id:a.task_id}});a&&ua.push({path:"/enhanced-validator",query:{tab:ca.value,..."paste"===ca.value&&oa.value.trim()?{text:oa.value.trim()}:{}},state:{results:a}})}catch(l){let t="An error occurred during analysis. Please try again.";if(l.response)switch(l.response.status){case 400:t=(null==(a=l.response.data)?void 0:a.message)||"Invalid input. Please check your data and try again.";break;case 413:t="File too large. Please use a smaller file.";break;case 429:t="Too many requests. Please wait a moment and try again.";break;case 500:t="Server error. Please try again later.";break;default:t=(null==(e=l.response.data)?void 0:e.message)||`Server error (${l.response.status}). Please try again.`}else"ECONNABORTED"===l.code?t="Request timed out. Please try again.":"NETWORK_ERROR"===l.code&&(t="Network error. Please check your connection and try again.");alert(t)}finally{pa.value=!1,xa.value&&(clearInterval(xa.value),xa.value=null),ka.value=null,ga.value=0,ha.value=0,ya.value=0}}};return(a,e)=>(i(),s("div",g,[e[31]||(e[31]=r("div",{class:"background-pattern"},null,-1)),r("div",x,[r("div",k,[r("div",w,[e[30]||(e[30]=n('<div class="hero-content" data-v-51459339><div class="hero-text" data-v-51459339><h1 class="hero-title" data-v-51459339><i class="bi bi-shield-check me-3" data-v-51459339></i> Legal Citation Verification </h1><p class="hero-subtitle" data-v-51459339> Upload legal documents, paste text, or provide URLs to automatically extract and verify citations against authoritative legal databases. </p></div><div class="experimental-banner" data-v-51459339><i class="bi bi-flask me-2" data-v-51459339></i><strong data-v-51459339>Experimental Use:</strong> This tool is for research and educational purposes. Always verify results independently. </div></div>',1)),r("div",C,[r("div",q,[r("div",{class:c(["input-method-card",{active:"paste"===ca.value}]),onClick:e[0]||(e[0]=a=>ca.value="paste")},[e[8]||(e[8]=r("div",{class:"method-icon"},[r("i",{class:"bi bi-clipboard-text"})],-1)),e[9]||(e[9]=r("div",{class:"method-content"},[r("h4",null,"Paste Text"),r("p",null,"Copy and paste legal text directly")],-1)),"paste"===ca.value?(i(),s("div",D,e[7]||(e[7]=[r("i",{class:"bi bi-check"},null,-1)]))):u("",!0)],2),r("div",{class:c(["input-method-card",{active:"file"===ca.value}]),onClick:e[1]||(e[1]=a=>ca.value="file")},[e[11]||(e[11]=r("div",{class:"method-icon"},[r("i",{class:"bi bi-file-earmark-text"})],-1)),e[12]||(e[12]=r("div",{class:"method-content"},[r("h4",null,"Upload File"),r("p",null,"Upload PDF, DOC, DOCX, or TXT files")],-1)),"file"===ca.value?(i(),s("div",P,e[10]||(e[10]=[r("i",{class:"bi bi-check"},null,-1)]))):u("",!0)],2),r("div",{class:c(["input-method-card",{active:"url"===ca.value}]),onClick:e[2]||(e[2]=a=>ca.value="url")},[e[14]||(e[14]=r("div",{class:"method-icon"},[r("i",{class:"bi bi-link-45deg"})],-1)),e[15]||(e[15]=r("div",{class:"method-content"},[r("h4",null,"URL Input"),r("p",null,"Provide a URL to analyze online content")],-1)),"url"===ca.value?(i(),s("div",M,e[13]||(e[13]=[r("i",{class:"bi bi-check"},null,-1)]))):u("",!0)],2)]),r("div",S,["paste"===ca.value?(i(),s("div",U,[r("div",z,[e[19]||(e[19]=r("label",{class:"form-label"},[r("i",{class:"bi bi-clipboard-text me-2"}),d(" Legal Text Content ")],-1)),o(r("textarea",{"onUpdate:modelValue":e[3]||(e[3]=a=>oa.value=a),class:"form-control input-field",rows:"8",placeholder:"Paste your legal text here... (minimum 10 characters)",onInput:Sa},null,544),[[v,oa.value]]),oa.value?(i(),s("div",F,[r("div",R,[e[16]||(e[16]=r("span",{class:"quality-label"},"Words:",-1)),r("span",T,p(wa.value),1)]),r("div",A,[e[17]||(e[17]=r("span",{class:"quality-label"},"Est. Citations:",-1)),r("span",I,p(Ca.value),1)]),r("div",O,[e[18]||(e[18]=r("span",{class:"quality-label"},"Years:",-1)),r("span",L,p(qa.value),1)])])):u("",!0)])])):u("",!0),"file"===ca.value?(i(),s("div",_,[r("div",B,[e[24]||(e[24]=r("label",{class:"form-label"},[r("i",{class:"bi bi-file-earmark-text me-2"}),d(" Document File ")],-1)),r("div",{class:c(["file-drop-zone",{"drag-over":ma.value}]),onDrop:za,onDragover:e[4]||(e[4]=m(a=>ma.value=!0,["prevent"])),onDragleave:e[5]||(e[5]=m(a=>ma.value=!1,["prevent"])),onClick:Ta},[e[20]||(e[20]=r("div",{class:"file-drop-content"},[r("i",{class:"bi bi-cloud-upload file-drop-icon"}),r("p",{class:"file-drop-text"},[r("strong",null,"Click to select"),d(" or drag and drop your file here ")]),r("p",{class:"file-drop-hint"}," Supported formats: PDF, DOC, DOCX, TXT (max 50MB) ")],-1)),r("input",{ref_key:"fileInput",ref:Ra,type:"file",class:"file-input-hidden",accept:".pdf,.doc,.docx,.txt",onChange:Ua},null,544)],34),va.value?(i(),s("div",E,[r("div",V,[e[21]||(e[21]=r("i",{class:"bi bi-file-earmark-text me-2"},null,-1)),r("span",X,p(va.value.name),1),r("span",$,"("+p(Ia(va.value.size))+")",1)]),r("button",{onClick:Aa,class:"btn btn-sm btn-outline-danger"},e[22]||(e[22]=[r("i",{class:"bi bi-x"},null,-1)]))])):u("",!0),fa.value?(i(),s("div",N,[e[23]||(e[23]=r("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),d(" "+p(fa.value),1)])):u("",!0)])])):u("",!0),"url"===ca.value?(i(),s("div",W,[r("div",j,[e[27]||(e[27]=r("label",{class:"form-label"},[r("i",{class:"bi bi-link-45deg me-2"}),d(" Document URL ")],-1)),o(r("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>da.value=a),type:"url",class:"form-control input-field",placeholder:"https://example.com/legal-document",onInput:Sa},null,544),[[v,da.value]]),ba.value?(i(),s("div",G,[e[25]||(e[25]=r("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),d(" "+p(ba.value),1)])):da.value&&!ba.value?(i(),s("div",K,e[26]||(e[26]=[r("i",{class:"bi bi-info-circle me-1"},null,-1),d(" We'll fetch and analyze the document from the provided URL ")]))):u("",!0)])])):u("",!0)]),r("div",H,[r("button",{class:c(["btn","analyze-btn",{disabled:!Da.value||pa.value}]),disabled:!Da.value||pa.value,onClick:La},[pa.value?(i(),s("span",Z)):(i(),s("i",J)),r("span",null,p(pa.value?"Analyzing...":"Analyze Content"),1)],10,Y)]),pa.value?(i(),s("div",Q,[r("div",aa,[r("div",ea,[r("span",la,[e[28]||(e[28]=r("i",{class:"bi bi-list-ol text-primary"},null,-1)),d(" "+p(ha.value)+" of "+p(ya.value)+" citations ",1)]),r("span",ta,[e[29]||(e[29]=r("i",{class:"bi bi-clock text-primary"},null,-1)),d(" "+p(Oa(ga.value))+" elapsed ",1)])])]),r("div",sa,[r("div",ia,[r("div",{class:c(["progress-bar progress-bar-striped progress-bar-animated",Ma.value]),role:"progressbar",style:f({width:Pa.value+"%"}),"aria-valuenow":Pa.value,"aria-valuemin":"0","aria-valuemax":"100"},[r("span",na,p(Pa.value)+"%",1)],14,ra)])])])):u("",!0)])])])]),e[32]||(e[32]=n('<div class="container" data-v-51459339><div class="features-section" data-v-51459339><div class="text-center mb-3" data-v-51459339><h3 class="text-white mb-2" data-v-51459339>Citation Analysis Features</h3><p class="text-white opacity-75 small" data-v-51459339>Comprehensive legal citation verification</p></div><div class="features-grid" data-v-51459339><div class="feature-card" data-v-51459339><div class="feature-icon" data-v-51459339><i class="bi bi-search" data-v-51459339></i></div><h4 class="feature-title" data-v-51459339>Smart Detection</h4><p class="feature-description" data-v-51459339>Automatically identifies and extracts citations from complex legal documents using advanced pattern recognition.</p></div><div class="feature-card" data-v-51459339><div class="feature-icon" data-v-51459339><i class="bi bi-shield-check" data-v-51459339></i></div><h4 class="feature-title" data-v-51459339>Accuracy Verification</h4><p class="feature-description" data-v-51459339>Cross-references citations against authoritative legal databases to ensure accuracy and validity.</p></div><div class="feature-card" data-v-51459339><div class="feature-icon" data-v-51459339><i class="bi bi-lightning" data-v-51459339></i></div><h4 class="feature-title" data-v-51459339>Instant Analysis</h4><p class="feature-description" data-v-51459339>Get comprehensive results in seconds with detailed breakdowns of citation quality and completeness.</p></div><div class="feature-card" data-v-51459339><div class="feature-icon" data-v-51459339><i class="bi bi-file-earmark-text" data-v-51459339></i></div><h4 class="feature-title" data-v-51459339>Multiple Formats</h4><p class="feature-description" data-v-51459339>Supports PDF, Word documents, plain text, and direct URL analysis for maximum flexibility.</p></div></div></div></div>',1))]))}},[["__scopeId","data-v-51459339"]]);export{ua as default};
