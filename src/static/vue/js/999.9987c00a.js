"use strict";(self["webpackChunkcasestrainer_vue"]=self["webpackChunkcasestrainer_vue"]||[]).push([[999],{375:(e,t,n)=>{var a=n(6518),r=n(9504),i=n(7750),s=n(1291),o=n(655),l=r("".slice),u=Math.max,c=Math.min,d=!"".substr||"b"!=="ab".substr(-1);a({target:"String",proto:!0,forced:d},{substr:function(e,t){var n,a,r=o(i(this)),d=r.length,h=s(e);return h===1/0&&(h=0),h<0&&(h=u(d+h,0)),n=void 0===t?d:s(t),n<=0||n===1/0?"":(a=c(h+n,d),h>=a?"":l(r,h,a))}})},2999:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});n(4346);var a=n(641),r=n(33),i=n(3751),s={class:"enhanced-validator"},o={class:"nav nav-tabs",id:"validationTabs",role:"tablist"},l={class:"nav-item",role:"presentation"},u={class:"nav-item",role:"presentation"},c={class:"nav-item",role:"presentation"},d={class:"nav-item",role:"presentation"},h={class:"tab-content",id:"validationTabsContent"},f={class:"card"},p={class:"card-body"},v={key:0,class:"alert alert-danger mt-4"},m={class:"form-group"},g=["disabled"],y={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},b={key:1},x={key:2},k={class:"card"},w={class:"card-body"},R={class:"form-group"},A={class:"input-group"},L={class:"input-group-append"},_=["disabled"],S={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},C={key:0,class:"validation-methods mt-3"},U={class:"form-check form-check-inline"},E={class:"form-check form-check-inline"},P={class:"form-check form-check-inline"},T={key:1,class:"validation-results mt-4"},I={key:0,class:"alert alert-info"},z={key:0,class:"alert alert-danger mt-4"},O={key:1,class:"alert alert-danger mt-4"};function q(e,t,n,q,H,V){var D=(0,a.g2)("ReusableResults"),j=(0,a.g2)("CitationResults"),F=(0,a.g2)("EnhancedFileUpload"),M=(0,a.g2)("EnhancedTextPaste");return(0,a.uX)(),(0,a.CE)("div",s,[t[27]||(t[27]=(0,a.Lk)("h2",null,"Enhanced Citation Validator",-1)),t[28]||(t[28]=(0,a.Lk)("p",{class:"lead"}," This advanced tool validates legal citations using multiple sources and provides detailed citation information, context, and correction suggestions. ",-1)),(0,a.Lk)("ul",o,[(0,a.Lk)("li",l,[(0,a.Lk)("button",{class:(0,r.C4)(["nav-link",{active:"single"===H.activeTab}]),onClick:t[0]||(t[0]=function(e){return H.activeTab="single"}),type:"button"}," Single Citation ",2)]),(0,a.Lk)("li",u,[(0,a.Lk)("button",{class:(0,r.C4)(["nav-link",{active:"document"===H.activeTab}]),onClick:t[1]||(t[1]=function(e){return H.activeTab="document"}),type:"button"}," Upload Document ",2)]),(0,a.Lk)("li",c,[(0,a.Lk)("button",{class:(0,r.C4)(["nav-link",{active:"text"===H.activeTab}]),onClick:t[2]||(t[2]=function(e){return H.activeTab="text"}),type:"button"}," Paste Text ",2)]),(0,a.Lk)("li",d,[(0,a.Lk)("button",{class:(0,r.C4)(["nav-link",{active:"url"===H.activeTab}]),onClick:t[3]||(t[3]=function(e){return H.activeTab="url"}),type:"button"}," URL Check ",2)])]),(0,a.Lk)("div",h,[(0,a.bo)((0,a.Lk)("div",null,[(0,a.Lk)("div",f,[t[17]||(t[17]=(0,a.Lk)("div",{class:"card-header bg-primary text-white"},[(0,a.Lk)("h5",{class:"mb-0"},"Check Citations from URL")],-1)),(0,a.Lk)("div",p,[H.urlAnalysisResult&&H.urlAnalysisResult.error?((0,a.uX)(),(0,a.CE)("div",v,[t[13]||(t[13]=(0,a.Lk)("strong",null,"Error:",-1)),(0,a.eW)(" "+(0,r.v_)(H.urlAnalysisResult.error),1)])):(0,a.Q3)("",!0),(0,a.Lk)("div",m,[t[14]||(t[14]=(0,a.Lk)("label",{for:"url-input"},"Paste a URL to a legal document:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"url-input",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(e){return H.urlInput=e}),placeholder:"https://example.com/legal-document",onKeyup:t[5]||(t[5]=(0,i.jR)((function(){return V.analyzeUrl&&V.analyzeUrl.apply(V,arguments)}),["enter"]))},null,544),[[i.Jo,H.urlInput]])]),(0,a.Lk)("button",{class:"btn btn-primary mt-3",onClick:t[6]||(t[6]=function(){return V.analyzeUrl&&V.analyzeUrl.apply(V,arguments)}),disabled:H.isAnalyzingUrl||!H.urlInput},[H.isAnalyzingUrl?((0,a.uX)(),(0,a.CE)("span",y)):(0,a.Q3)("",!0),t[15]||(t[15]=(0,a.eW)(" Analyze URL "))],8,g),H.urlAnalysisResult&&V.transformedUrlResults?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.bF)(D,{results:V.transformedUrlResults},null,8,["results"])])):!H.urlAnalysisResult||V.transformedUrlResults&&Array.isArray(V.transformedUrlResults.citations)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",x,t[16]||(t[16]=[(0,a.Lk)("div",{class:"alert alert-danger mt-4"}," Unable to display citation results. The server returned invalid or incomplete data. ",-1)])))])])],512),[[i.aG,"url"===H.activeTab]]),(0,a.bo)((0,a.Lk)("div",null,[(0,a.Lk)("div",k,[t[24]||(t[24]=(0,a.Lk)("div",{class:"card-header bg-primary text-white"},[(0,a.Lk)("h5",{class:"mb-0"},"Validate Citation")],-1)),(0,a.Lk)("div",w,[(0,a.Lk)("div",R,[t[19]||(t[19]=(0,a.Lk)("label",{for:"citation-input"},"Enter Citation:",-1)),(0,a.Lk)("div",A,[(0,a.bo)((0,a.Lk)("input",{type:"text",id:"citation-input",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=function(e){return H.citationText=e}),placeholder:"e.g., 410 U.S. 113",onKeyup:t[8]||(t[8]=(0,i.jR)((function(){return V.validateCitation&&V.validateCitation.apply(V,arguments)}),["enter"]))},null,544),[[i.Jo,H.citationText]]),(0,a.Lk)("div",L,[(0,a.Lk)("button",{class:"btn btn-primary",onClick:t[9]||(t[9]=function(){return V.validateCitation&&V.validateCitation.apply(V,arguments)}),disabled:H.isValidating},[H.isValidating?((0,a.uX)(),(0,a.CE)("span",S)):(0,a.Q3)("",!0),t[18]||(t[18]=(0,a.eW)(" Validate "))],8,_)])])]),H.isValidating?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("div",U,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"checkbox",id:"use-enhanced","onUpdate:modelValue":t[10]||(t[10]=function(e){return H.useEnhanced=e}),checked:""},null,512),[[i.lH,H.useEnhanced]]),t[20]||(t[20]=(0,a.Lk)("label",{class:"form-check-label",for:"use-enhanced"},"Enhanced Validation",-1))]),(0,a.Lk)("div",E,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"checkbox",id:"use-ml","onUpdate:modelValue":t[11]||(t[11]=function(e){return H.useML=e}),checked:""},null,512),[[i.lH,H.useML]]),t[21]||(t[21]=(0,a.Lk)("label",{class:"form-check-label",for:"use-ml"},"ML Classifier",-1))]),(0,a.Lk)("div",P,[(0,a.bo)((0,a.Lk)("input",{class:"form-check-input",type:"checkbox",id:"use-correction","onUpdate:modelValue":t[12]||(t[12]=function(e){return H.useCorrection=e}),checked:""},null,512),[[i.lH,H.useCorrection]]),t[22]||(t[22]=(0,a.Lk)("label",{class:"form-check-label",for:"use-correction"},"Suggest Corrections",-1))])])),H.validationResult?((0,a.uX)(),(0,a.CE)("div",T,[V.transformedValidationResult?((0,a.uX)(),(0,a.Wv)(j,{results:V.transformedValidationResult,key:"citation-results-"+(H.validationResult.citation||"none")},null,8,["results"])):((0,a.uX)(),(0,a.CE)("div",I,t[23]||(t[23]=[(0,a.Lk)("i",{class:"fas fa-spinner fa-spin me-2"},null,-1),(0,a.eW)(" Processing results... ")])))])):(0,a.Q3)("",!0)])])],512),[[i.aG,"single"===H.activeTab]]),H.documentAnalysisResult&&H.documentAnalysisResult.error?((0,a.uX)(),(0,a.CE)("div",z,[t[25]||(t[25]=(0,a.Lk)("strong",null,"Error:",-1)),(0,a.eW)(" "+(0,r.v_)(H.documentAnalysisResult.error),1)])):(0,a.Q3)("",!0),(0,a.bo)((0,a.bF)(F,null,null,512),[[i.aG,"document"===H.activeTab]]),H.textAnalysisResult&&H.textAnalysisResult.error?((0,a.uX)(),(0,a.CE)("div",O,[t[26]||(t[26]=(0,a.Lk)("strong",null,"Error:",-1)),(0,a.eW)(" "+(0,r.v_)(H.textAnalysisResult.error),1)])):(0,a.Q3)("",!0),(0,a.bo)((0,a.bF)(M,null,null,512),[[i.aG,"text"===H.activeTab]])])])}var H,V=n(4048),D=n(388),j=n(4119),F=n(9201),M=(n(6280),n(6918),n(8706),n(2008),n(1629),n(4423),n(8598),n(2062),n(4114),n(9089),n(1688),n(3288),n(2010),n(8111),n(2489),n(7588),n(1701),n(6099),n(8459),n(4864),n(7465),n(7495),n(7745),n(906),n(8781),n(1699),n(7764),n(5440),n(375),n(2762),n(3500),n(2953),n(3296),n(7208),n(8408),n(4603),n(7566),n(8721),n(2505)),B=n.n(M),X=n(5016),N=n(6131),W=n(6753),Q=null===(H=(0,a.nI)())||void 0===H||null===(H=H.appContext)||void 0===H?void 0:H.app;const $={name:"EnhancedValidator",components:{CitationResults:W.A,EnhancedFileUpload:X.A,EnhancedTextPaste:N.A},data:function(){return{activeTab:"single",citationText:"",isValidating:!1,validationResult:null,mlResult:null,correctionResult:null,citationContext:"",fileLink:"",useEnhanced:!0,useML:!0,useCorrection:!0,contextResult:null,isAnalyzing:!1,documentAnalysisResult:null,pastedText:"",textAnalysisResult:null,urlInput:"",isAnalyzingUrl:!1,urlAnalysisResult:{citations:[],metadata:{},error:null}}},computed:{formattedContext:function(){var e=this;if(!this.contextResult||!this.contextResult.context)return"";var t=this.contextResult.context.split("\n\n");return t.map((function(t){return e.citationText&&t.includes(e.citationText)?t.replace(new RegExp(e.citationText,"g"),"<mark>".concat(e.citationText,"</mark>")):t})).join("<br><br>")},basePath:function(){return"/casestrainer/api"},transformedValidationResult:function(){if(!this.validationResult)return this.getEmptyResultsObject();try{var e,t,n;console.log("[EnhancedValidator] Starting transformation of validation result");var a=this.validationResult||{},r="courtlistener"===a.source||String(a.verified_by||"").toLowerCase().includes("courtlistener"),i=a.citation||this.citationText||"Unknown",s={id:"citation-".concat(Date.now()),citation:i,citation_text:a.citation_text||i,case_name:a.case_name||i,verified:!!a.verified,status:a.verified?"verified":"unverified",validation_method:a.validation_method||(r?"CourtListener":"Local Validation"),confidence:parseFloat(a.confidence)||0,source:a.source||"unknown",verified_by:a.verified_by||(r?"CourtListener":"Local"),contexts:Array.isArray(a.contexts)?a.contexts:[],context:Array.isArray(a.contexts)&&null!==(e=a.contexts[0])&&void 0!==e&&e.text?a.contexts[0].text:"",details:a.details||{},metadata:(0,F.A)((0,F.A)({},a.metadata||{}),{},{url:(null===(t=a.details)||void 0===t?void 0:t.url)||a.url||"",source:a.source||"unknown",verified:!!a.verified,timestamp:a.timestamp||(new Date).toISOString()}),url:(null===(n=a.details)||void 0===n?void 0:n.url)||a.url||"",error:a.error||null,verification_steps:Array.isArray(a.verification_steps)?a.verification_steps:[],sources:a.sources||{}},o=s.verified?1:0,l=s.verified?0:1,u={validation_results:[(0,F.A)((0,F.A)({},s),{},{status:s.verified?"verified":"unverified",source:s.source||"unknown",verified:!!s.verified,metadata:(0,F.A)((0,F.A)({},s.metadata||{}),{},{url:s.url||"",source:s.source||"unknown",verified:!!s.verified,timestamp:s.timestamp||(new Date).toISOString()})})],citations:[(0,F.A)((0,F.A)({},s),{},{status:s.verified?"verified":"unverified",source:s.source||"unknown",verified:!!s.verified,metadata:(0,F.A)((0,F.A)({},s.metadata||{}),{},{url:s.url||"",source:s.source||"unknown",verified:!!s.verified,timestamp:s.timestamp||(new Date).toISOString()})})],total_citations:1,verified_count:o,unverified_count:l,status:"completed",execution_time:0,metadata:(0,F.A)((0,F.A)({},s.metadata||{}),{},{timestamp:s.timestamp||(new Date).toISOString()})};return console.log("[EnhancedValidator] Transformed validation result:",u),u}catch(c){return console.error("[EnhancedValidator] Error transforming validation result:",c),this.getEmptyResultsObject()}},transformedDocumentResults:function(){if(!this.documentAnalysisResult)return this.getEmptyResultsObject();try{console.log("[EnhancedValidator] Transforming document analysis results");var e=this.documentAnalysisResult||{},t=Array.isArray(e.citations)?e.citations:[];return(0,F.A)((0,F.A)({},this.getEmptyResultsObject()),{},{validation_results:t,citations:t,metadata:e.metadata||{},status:e.status||"completed",execution_time:e.execution_time||0,verified_count:e.verified_count||0,unverified_count:e.unverified_count||0})}catch(n){return console.error("[EnhancedValidator] Error transforming document results:",n),this.getEmptyResultsObject()}},transformedTextResults:function(){if(!this.textAnalysisResult)return{citations:[],validation_results:[],confirmedCount:0,totalCitations:0,confirmed_count:0,citations_count:0,metadata:{}};var e=(this.textAnalysisResult.citations||[]).filter((function(e){return e&&"object"===(0,j.A)(e)})).map((function(e){return(0,F.A)((0,F.A)({},e),{},{id:e.id||"text-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,6)),citation:e.citation||e.citation_text||"Unknown",case_name:e.case_name||e.citation||"Unknown Case",verified:!!e.verified,validation_method:e.validation_method||"Text Analysis",confidence:e.confidence||0,contexts:Array.isArray(e.contexts)?e.contexts:[],details:e.details||{},error:e.error||null})})),t=e.filter((function(e){return e.verified})).length,n=e.length;return{citations:e,validation_results:e,confirmedCount:t,totalCitations:n,confirmed_count:t,citations_count:n,metadata:this.textAnalysisResult.metadata||{},error:this.textAnalysisResult.error||null}},transformedUrlResults:function(){if(!this.urlAnalysisResult||"object"!==(0,j.A)(this.urlAnalysisResult))return{citations:[],validation_results:[],confirmedCount:0,totalCitations:0,confirmed_count:0,citations_count:0,metadata:{}};var e=(Array.isArray(this.urlAnalysisResult.citations)?this.urlAnalysisResult.citations:[]).filter((function(e){return e&&"object"===(0,j.A)(e)})).map((function(e){return(0,F.A)((0,F.A)({},e),{},{id:e.id||"url-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,6)),citation:e.citation||e.citation_text||"Unknown",case_name:e.case_name||e.citation||"Unknown Case",verified:!!e.verified,validation_method:e.validation_method||"URL Analysis",confidence:e.confidence||0,contexts:Array.isArray(e.contexts)?e.contexts:[],details:e.details||{},error:e.error||null,source:e.source||"URL Analysis",verified_by:e.verified_by||(e.verified?"URL Analysis":"Not Verified")})})),t=e.filter((function(e){return e.verified})).length,n=e.length;return{citations:e,validation_results:e,confirmedCount:t,totalCitations:n,confirmed_count:t,citations_count:n,metadata:this.urlAnalysisResult.metadata||{},error:this.urlAnalysisResult.error||null}}},methods:{getEmptyResultsObject:function(){var e={validation_results:[],citations:[],total_citations:0,verified_count:0,unverified_count:0,status:"completed",execution_time:0,metadata:{timestamp:(new Date).toISOString(),source:"none",verified:!1}};return console.log("[EnhancedValidator] Returning empty results object:",e),e},transformApiResponse:function(e){var t=this;try{if(console.log("[EnhancedValidator] Transforming API response for CitationResults"),!e||!e.validation_results)return console.warn("[EnhancedValidator] No validation_results in API response"),this.getEmptyResultsObject();var n={validation_results:[],total_citations:0,verified_count:0,unverified_count:0,metadata:{}};return e.validation_results.forEach((function(e,a){var r,i,s,o,l,u,c,d=e.validation||e,h="courtlistener"===d.source||String(d.verified_by||"").toLowerCase().includes("courtlistener"),f=d.citation||t.citationText||"Unknown",p={id:"citation-".concat(Date.now(),"-").concat(a),citation:f,citation_text:d.citation_text||f,case_name:d.case_name||(null===(r=d.details)||void 0===r?void 0:r.case_name)||(null===(i=d.metadata)||void 0===i?void 0:i.case_name)||(null!==(s=d.details)&&void 0!==s&&s.title?d.details.title.replace(/<[^>]+>/g,""):null)||(null!==(o=d.contexts)&&void 0!==o&&null!==(o=o[0])&&void 0!==o&&o.case_name?d.contexts[0].case_name:null)||"Unknown Case",verified:!!d.verified,status:d.verified?"verified":"unverified",validation_method:d.validation_method||(h?"CourtListener":"Local Validation"),confidence:parseFloat(d.confidence)||0,source:d.source||"unknown",verified_by:d.verified_by||(h?"CourtListener":"Local"),contexts:Array.isArray(d.contexts)?d.contexts:[],context:Array.isArray(d.contexts)&&null!==(l=d.contexts[0])&&void 0!==l&&l.text?d.contexts[0].text:"",details:d.details||{},metadata:(0,F.A)((0,F.A)({},d.metadata||{}),{},{url:(null===(u=d.details)||void 0===u?void 0:u.url)||d.url||"",source:d.source||"unknown",verified:!!d.verified,timestamp:d.timestamp||(new Date).toISOString()}),url:(null===(c=d.details)||void 0===c?void 0:c.url)||d.url||"",error:d.error||null,verification_steps:Array.isArray(d.verification_steps)?d.verification_steps:[],sources:d.sources||{}};p.case_name&&(p.case_name=p.case_name.replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim(),/^\d+\s+[A-Za-z0-9.]+\s+\d+$/.test(p.case_name)&&(p.case_name="Unknown Case")),p.verified?n.verified_count++:n.unverified_count++,n.validation_results.push(p)})),n.total_citations=n.validation_results.length,console.log("[EnhancedValidator] Transformed results:",n),n}catch(a){return console.error("[EnhancedValidator] Error transforming API response:",a),this.getEmptyResultsObject()}},analyzeUrl:function(){var e=this;return(0,D.A)((0,V.A)().mark((function t(){var n,a,r,i,s;return(0,V.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.urlInput){t.next=3;break}return e.urlAnalysisResult={error:"No URL provided",details:"Please enter a URL to analyze",status:400,citations:[],metadata:{},eyecite_processed:!1},t.abrupt("return");case 3:t.prev=3,new URL(e.urlInput),t.next=11;break;case 7:return t.prev=7,t.t0=t["catch"](3),e.urlAnalysisResult={error:"Invalid URL",details:"Please enter a valid URL (e.g., https://example.com)",status:400,citations:[],metadata:{},eyecite_processed:!1},t.abrupt("return");case 11:return e.isAnalyzingUrl=!0,e.urlAnalysisResult={citations:[],metadata:{},eyecite_processed:!1,error:null},t.prev=13,t.next=16,B().post("/casestrainer/api/analyze",{url:e.urlInput},{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e5});case 16:if(n=t.sent,!n||!n.data||"object"!==(0,j.A)(n.data)){t.next=22;break}a=Array.isArray(n.data.citations)?n.data.citations.map((function(t){return(0,F.A)((0,F.A)({},t),{},{id:t.id||"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),url:(null===t||void 0===t?void 0:t.url)||e.urlInput,contexts:Array.isArray(t.contexts)?t.contexts:[],verified:t.verified||!1,verification_status:t.verification_status||(t.verified?"confirmed_by_courtlistener":"unverified"),validation_method:t.validation_method||"url_analysis"})})):[],e.urlAnalysisResult=(0,F.A)((0,F.A)({},n.data),{},{citations:a,validation_results:a,metadata:(0,F.A)((0,F.A)({},n.data.metadata||{}),{},{url:e.urlInput,processedAt:(new Date).toISOString(),citationCount:a.length}),eyecite_processed:n.data.eyecite_processed||!1,error:n.data.error||null}),t.next=23;break;case 22:throw new Error("Invalid response format from server");case 23:t.next=30;break;case 25:t.prev=25,t.t1=t["catch"](13),console.error("URL analysis error:",t.t1),s=t.t1.response||{},e.urlAnalysisResult={error:(null===(r=s.data)||void 0===r?void 0:r.message)||t.t1.message||"Failed to analyze URL",details:(null===(i=s.data)||void 0===i?void 0:i.details)||s.statusText||"An error occurred while analyzing the URL",status:s.status||500,code:t.t1.code,citations:[],metadata:{url:e.urlInput,processedAt:(new Date).toISOString()},eyecite_processed:!1};case 30:return t.prev=30,e.isAnalyzingUrl=!1,t.finish(30);case 33:case"end":return t.stop()}}),t,null,[[3,7],[13,25,30,33]])})))()},validateCitation:function(){var e=this;return(0,D.A)((0,V.A)().mark((function t(){var n,a,r,i,s,o,l,u,c,d,h,f;return(0,V.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=(null===(n=e.citationText)||void 0===n?void 0:n.trim())||"",a){t.next=5;break}return e.validationResult={error:"No citation provided",details:"Please enter a citation to validate",status:400,verified:!1,citation:""},e.$toast.warning("Please enter a citation to validate"),t.abrupt("return");case 5:if(e.isValidating=!0,e.validationResult=null,e.mlResult=null,e.correctionResult=null,e.citationContext="",e.fileLink="",t.prev=11,!e.useEnhanced){t.next=30;break}return console.log("[EnhancedValidator] Sending request to validate citation:",a),t.next=16,B().post("/casestrainer/api/analyze",{text:a},{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Accept:"application/json"},timeout:3e5});case 16:if(r=t.sent,null===r||void 0===r||!r.data){t.next=30;break}if(console.log("[EnhancedValidator] Received API response:",r.data),!((null===(i=r.data.validation_results)||void 0===i?void 0:i.length)>0)){t.next=29;break}if(s=e.transformApiResponse(r.data),console.log("[EnhancedValidator] Transformed results for CitationResults:",s),e.validationResult=s.validation_results[0],console.log("[EnhancedValidator] Processed validation result:",e.validationResult),!e.validationResult.verified){t.next=27;break}return t.next=27,e.getCitationContext();case 27:t.next=30;break;case 29:r.data.error?(console.error("[EnhancedValidator] API returned error:",r.data.error),e.validationResult={error:r.data.error,details:r.data.message||"Failed to validate citation",status:r.status||500,citation:a,verified:!1,source:"api_error",metadata:{error:r.data.error,status:r.status||500,timestamp:(new Date).toISOString()}},Q.logger.error("API Error:",e.validationResult)):(e.validationResult={error:"No validation results",details:"The citation could not be validated. The response format was unexpected.",status:404,citation:a,verified:!1,source:"validation_error",metadata:{response_data:r.data,timestamp:(new Date).toISOString()}},Q.logger.warn("Unexpected API response format:",r.data));case 30:if(!e.useML){t.next=41;break}return t.prev=31,t.next=34,B().post("/casestrainer/api/classify-citation",{citation:a},{headers:{"Content-Type":"application/json"},timeout:3e4});case 34:o=t.sent,null!==o&&void 0!==o&&o.data&&(e.mlResult=(0,F.A)((0,F.A)({},o.data),{},{processed_at:(new Date).toISOString()})),t.next=41;break;case 38:t.prev=38,t.t0=t["catch"](31),console.warn("ML classification failed:",t.t0);case 41:if(!e.useCorrection){t.next=53;break}return t.prev=42,t.next=45,B().post("/casestrainer/api/suggest-citation-corrections",{citation:a},{headers:{"Content-Type":"application/json"},timeout:3e4});case 45:l=t.sent,null!==l&&void 0!==l&&l.data&&((null===(u=l.data.suggestions)||void 0===u?void 0:u.length)>0||l.data.error?e.correctionResult=(0,F.A)((0,F.A)({},l.data),{},{processed_at:(new Date).toISOString()}):l.data.warning&&e.$toast.warning(l.data.warning,{position:"top-right",timeout:8e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0})),t.next=53;break;case 49:t.prev=49,t.t1=t["catch"](42),console.warn("Correction suggestion failed:",t.t1),e.$toast.error("Failed to get correction suggestions. "+((null===(c=t.t1.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.error)||t.t1.message||""),{position:"top-right",timeout:1e4,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0});case 53:t.next=60;break;case 55:t.prev=55,t.t2=t["catch"](11),console.error("Citation validation error:",t.t2),f=t.t2.response||{},e.validationResult={error:(null===(d=f.data)||void 0===d?void 0:d.message)||t.t2.message||"Failed to validate citation",details:(null===(h=f.data)||void 0===h?void 0:h.details)||f.statusText||"An unexpected error occurred",status:f.status||500,code:t.t2.code,citation:a,verified:!1,processed_at:(new Date).toISOString()};case 60:return t.prev=60,e.isValidating=!1,t.finish(60);case 63:case"end":return t.stop()}}),t,null,[[11,55,60,63],[31,38],[42,49]])})))()},getCitationContext:function(){var e=this;return(0,D.A)((0,V.A)().mark((function t(){var n,a,r,i,s,o,l,u,c,d,h,f,p,v,m,g,y,b;return(0,V.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==(n=e.validationResult)&&void 0!==n&&n.verified){t.next=3;break}return console.warn("Cannot get context for unverified citation"),t.abrupt("return");case 3:if(r=null===(a=e.citationText)||void 0===a?void 0:a.trim(),r){t.next=7;break}return console.warn("No citation text available for context lookup"),t.abrupt("return");case 7:({citation:r,case_name:e.validationResult.case_name,citation_id:e.validationResult.id||null,source:e.validationResult.source||"unknown"}),i={headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e4,validateStatus:function(e){return e>=200&&e<500}},t.prev=9,l=["/casestrainer/api/citation-context","/api/citation-context","".concat(e.basePath,"/citation-context")],u=null,c=0,d=l;case 13:if(!(c<d.length)){t.next=46;break}return h=d[c],t.prev=15,p=new URLSearchParams({citation:encodeURIComponent(r),case_name:encodeURIComponent((null===(f=e.validationResult)||void 0===f?void 0:f.case_name)||"")}),v="".concat(h,"?").concat(p.toString()),t.next=20,B().get(v,i);case 20:if(m=t.sent,200!==m.status||!m.data){t.next=30;break}return g=m.data,e.contextResult=g,e.citationContext=g.context||"",e.fileLink=g.file_link||"",e.validationResult&&(e.validationResult.context_available=!0,e.validationResult.context_retrieved_at=(new Date).toISOString(),e.validationResult.context_source=g.source||h),t.abrupt("return");case 30:if(404!==m.status){t.next=35;break}return u=new Error("Context endpoint not found"),t.abrupt("continue",43);case 35:return u=new Error((null===(y=m.data)||void 0===y?void 0:y.message)||"HTTP ".concat(m.status)),t.abrupt("continue",43);case 37:t.next=43;break;case 39:t.prev=39,t.t0=t["catch"](15),u=t.t0,console.warn("Context lookup failed at ".concat(h,":"),t.t0);case 43:c++,t.next=13;break;case 46:console.error("All context endpoints failed:",u),e.contextResult={error:"Failed to retrieve citation context",details:(null===(s=u)||void 0===s?void 0:s.message)||"All context endpoints failed",status:(null===(o=u)||void 0===o||null===(o=o.response)||void 0===o?void 0:o.status)||500,citation:r,timestamp:(new Date).toISOString()},t.next=54;break;case 50:t.prev=50,t.t1=t["catch"](9),console.error("Unexpected error in getCitationContext:",t.t1),e.contextResult={error:"Unexpected error retrieving context",details:t.t1.message||"An unexpected error occurred",status:(null===(b=t.t1.response)||void 0===b?void 0:b.status)||500,citation:r,timestamp:(new Date).toISOString()};case 54:return t.prev=54,e.validationResult&&(e.validationResult.context_retrieval_complete=!0),t.finish(54);case 57:case"end":return t.stop()}}),t,null,[[9,50,54,57],[15,39]])})))()},applySuggestion:function(e){this.citationText=e,this.validateCitation()},getBadgeClass:function(e){switch(e){case"Landmark":return"bg-primary";case"CourtListener":return"bg-success";case"Multitool":return"bg-info";case"Other":return"bg-secondary";default:return"bg-dark"}},analyzeDocument:function(){var e=this;return(0,D.A)((0,V.A)().mark((function t(){var n,a,r,i,s,o,l,u,c;return(0,V.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$refs.documentUpload,n.files&&0!==n.files.length){t.next=4;break}return e.documentAnalysisResult={error:"No file selected",details:"Please select a file to upload",status:400},t.abrupt("return");case 4:if(a=n.files[0],e.isAnalyzing=!0,e.documentAnalysisResult=null,r=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],i=10485760,r.includes(a.type)){t.next=13;break}return e.documentAnalysisResult={error:"Invalid file type",details:"Please upload a PDF or Word document",status:400},e.isAnalyzing=!1,t.abrupt("return");case 13:if(!(a.size>i)){t.next=17;break}return e.documentAnalysisResult={error:"File too large",details:"Maximum file size is 10MB",status:400},e.isAnalyzing=!1,t.abrupt("return");case 17:return s=new FormData,s.append("file",a),t.prev=19,t.next=22,B().post("/casestrainer/api/analyze",s,{headers:{"Content-Type":"multipart/form-data","X-Requested-With":"XMLHttpRequest"},timeout:3e5});case 22:o=t.sent,e.documentAnalysisResult=(0,F.A)((0,F.A)({},o.data),{},{metadata:(0,F.A)((0,F.A)({},o.data.metadata),{},{fileName:a.name,fileSize:a.size,fileType:a.type,processedAt:(new Date).toISOString()}),error:o.data.error||null}),t.next=31;break;case 26:t.prev=26,t.t0=t["catch"](19),c=t.t0.response||{},e.documentAnalysisResult={error:(null===(l=c.data)||void 0===l?void 0:l.message)||t.t0.message||"Failed to process document",details:(null===(u=c.data)||void 0===u?void 0:u.details)||c.statusText,status:c.status||500,code:t.t0.code,metadata:{fileName:a.name,fileSize:a.size,fileType:a.type}},console.error("Document analysis error:",t.t0);case 31:return t.prev=31,e.isAnalyzing=!1,t.finish(31);case 34:case"end":return t.stop()}}),t,null,[[19,26,31,34]])})))()},analyzeText:function(){var e=this;return(0,D.A)((0,V.A)().mark((function t(){var n,a,r,i,s;return(0,V.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.pastedText){t.next=3;break}return e.textAnalysisResult={error:"No text provided",details:"Please enter or paste some text to analyze",status:400},t.abrupt("return");case 3:if(!(e.pastedText.length>1e4)){t.next=6;break}return e.textAnalysisResult={error:"Text too long",details:"Maximum text length is 10,000 characters",status:400},t.abrupt("return");case 6:return e.isAnalyzing=!0,e.textAnalysisResult=null,t.prev=8,t.next=11,B().post("/casestrainer/api/analyze",{text:e.pastedText},{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e5});case 11:a=t.sent,e.textAnalysisResult=(0,F.A)((0,F.A)({},a.data),{},{metadata:(0,F.A)((0,F.A)({},a.data.metadata),{},{textLength:e.pastedText.length,processedAt:(new Date).toISOString(),citationCount:(null===(n=a.data.citations)||void 0===n?void 0:n.length)||0}),error:a.data.error||null}),t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](8),s=t.t0.response||{},e.textAnalysisResult={error:(null===(r=s.data)||void 0===r?void 0:r.message)||t.t0.message||"Failed to analyze text",details:(null===(i=s.data)||void 0===i?void 0:i.details)||s.statusText,status:s.status||500,code:t.t0.code,metadata:{textLength:e.pastedText.length,processedAt:(new Date).toISOString()}},console.error("Text analysis error:",t.t0);case 20:return t.prev=20,e.isAnalyzing=!1,t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[8,15,20,23]])})))()}}};var G=n(6262);const J=(0,G.A)($,[["render",q]]),K=J},3296:(e,t,n)=>{n(5806)},4488:(e,t,n)=>{var a=n(7680),r=Math.floor,i=function(e,t){var n=e.length;if(n<8){var s,o,l=1;while(l<n){o=l,s=e[l];while(o&&t(e[o-1],s)>0)e[o]=e[--o];o!==l++&&(e[o]=s)}}else{var u=r(n/2),c=i(a(e,0,u),t),d=i(a(e,u),t),h=c.length,f=d.length,p=0,v=0;while(p<h||v<f)e[p+v]=p<h&&v<f?t(c[p],d[v])<=0?c[p++]:d[v++]:p<h?c[p++]:d[v++]}return e};e.exports=i},4603:(e,t,n)=>{var a=n(6840),r=n(9504),i=n(655),s=n(2812),o=URLSearchParams,l=o.prototype,u=r(l.append),c=r(l["delete"]),d=r(l.forEach),h=r([].push),f=new o("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&a(l,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var a=[];d(this,(function(e,t){h(a,{key:t,value:e})})),s(t,1);var r,o=i(e),l=i(n),f=0,p=0,v=!1,m=a.length;while(f<m)r=a[f++],v||r.key===o?(v=!0,c(this,r.key)):p++;while(p<m)r=a[p++],r.key===o&&r.value===l||u(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},4864:(e,t,n)=>{var a=n(3724),r=n(2195),i=n(9504),s=n(2796),o=n(3167),l=n(6699),u=n(2360),c=n(8480).f,d=n(1625),h=n(788),f=n(655),p=n(1034),v=n(8429),m=n(1056),g=n(6840),y=n(9039),b=n(9297),x=n(1181).enforce,k=n(7633),w=n(8227),R=n(3635),A=n(8814),L=w("match"),_=r.RegExp,S=_.prototype,C=r.SyntaxError,U=i(S.exec),E=i("".charAt),P=i("".replace),T=i("".indexOf),I=i("".slice),z=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,O=/a/g,q=/a/g,H=new _(O)!==O,V=v.MISSED_STICKY,D=v.UNSUPPORTED_Y,j=a&&(!H||V||R||A||y((function(){return q[L]=!1,_(O)!==O||_(q)===q||"/a/i"!==String(_(O,"i"))}))),F=function(e){for(var t,n=e.length,a=0,r="",i=!1;a<=n;a++)t=E(e,a),"\\"!==t?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),r+=t):r+="[\\s\\S]":r+=t+E(e,++a);return r},M=function(e){for(var t,n=e.length,a=0,r="",i=[],s=u(null),o=!1,l=!1,c=0,d="";a<=n;a++){if(t=E(e,a),"\\"===t)t+=E(e,++a);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:if(r+=t,"?:"===I(e,a+1,a+3))continue;U(z,I(e,a+1))&&(a+=2,l=!0),c++;continue;case">"===t&&l:if(""===d||b(s,d))throw new C("Invalid capture group name");s[d]=!0,i[i.length]=[d,c],l=!1,d="";continue}l?d+=t:r+=t}return[r,i]};if(s("RegExp",j)){for(var B=function(e,t){var n,a,r,i,s,u,c=d(S,this),v=h(e),m=void 0===t,g=[],y=e;if(!c&&v&&m&&e.constructor===B)return e;if((v||d(S,e))&&(e=e.source,m&&(t=p(y))),e=void 0===e?"":f(e),t=void 0===t?"":f(t),y=e,R&&"dotAll"in O&&(a=!!t&&T(t,"s")>-1,a&&(t=P(t,/s/g,""))),n=t,V&&"sticky"in O&&(r=!!t&&T(t,"y")>-1,r&&D&&(t=P(t,/y/g,""))),A&&(i=M(e),e=i[0],g=i[1]),s=o(_(e,t),c?this:S,B),(a||r||g.length)&&(u=x(s),a&&(u.dotAll=!0,u.raw=B(F(e),n)),r&&(u.sticky=!0),g.length&&(u.groups=g)),e!==y)try{l(s,"source",""===y?"(?:)":y)}catch(b){}return s},X=c(_),N=0;X.length>N;)m(B,_,X[N++]);S.constructor=B,B.prototype=S,g(r,"RegExp",B,{constructor:!0})}k("RegExp")},5806:(e,t,n)=>{n(7764);var a,r=n(6518),i=n(3724),s=n(7416),o=n(2195),l=n(6080),u=n(9504),c=n(6840),d=n(2106),h=n(679),f=n(9297),p=n(4213),v=n(7916),m=n(7680),g=n(8183).codeAt,y=n(6098),b=n(655),x=n(687),k=n(2812),w=n(8406),R=n(1181),A=R.set,L=R.getterFor("URL"),_=w.URLSearchParams,S=w.getState,C=o.URL,U=o.TypeError,E=o.parseInt,P=Math.floor,T=Math.pow,I=u("".charAt),z=u(/./.exec),O=u([].join),q=u(1..toString),H=u([].pop),V=u([].push),D=u("".replace),j=u([].shift),F=u("".split),M=u("".slice),B=u("".toLowerCase),X=u([].unshift),N="Invalid authority",W="Invalid scheme",Q="Invalid host",$="Invalid port",G=/[a-z]/i,J=/[\d+-.a-z]/i,K=/\d/,Y=/^0x/i,Z=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ne=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ae=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,se=/[\t\n\r]/g,oe=function(e){var t,n,a,r,i,s,o,l=F(e,".");if(l.length&&""===l[l.length-1]&&l.length--,t=l.length,t>4)return e;for(n=[],a=0;a<t;a++){if(r=l[a],""===r)return e;if(i=10,r.length>1&&"0"===I(r,0)&&(i=z(Y,r)?16:8,r=M(r,8===i?1:2)),""===r)s=0;else{if(!z(10===i?ee:8===i?Z:te,r))return e;s=E(r,i)}V(n,s)}for(a=0;a<t;a++)if(s=n[a],a===t-1){if(s>=T(256,5-t))return null}else if(s>255)return null;for(o=H(n),a=0;a<n.length;a++)o+=n[a]*T(256,3-a);return o},le=function(e){var t,n,a,r,i,s,o,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,h=function(){return I(e,d)};if(":"===h()){if(":"!==I(e,1))return;d+=2,u++,c=u}while(h()){if(8===u)return;if(":"!==h()){t=n=0;while(n<4&&z(te,h()))t=16*t+E(h(),16),d++,n++;if("."===h()){if(0===n)return;if(d-=n,u>6)return;a=0;while(h()){if(r=null,a>0){if(!("."===h()&&a<4))return;d++}if(!z(K,h()))return;while(z(K,h())){if(i=E(h(),10),null===r)r=i;else{if(0===r)return;r=10*r+i}if(r>255)return;d++}l[u]=256*l[u]+r,a++,2!==a&&4!==a||u++}if(4!==a)return;break}if(":"===h()){if(d++,!h())return}else if(h())return;l[u++]=t}else{if(null!==c)return;d++,u++,c=u}}if(null!==c){s=u-c,u=7;while(0!==u&&s>0)o=l[u],l[u--]=l[c+s-1],l[c+--s]=o}else if(8!==u)return;return l},ue=function(e){for(var t=null,n=1,a=null,r=0,i=0;i<8;i++)0!==e[i]?(r>n&&(t=a,n=r),a=null,r=0):(null===a&&(a=i),++r);return r>n?a:t},ce=function(e){var t,n,a,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)X(t,e%256),e=P(e/256);return O(t,".")}if("object"==typeof e){for(t="",a=ue(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),a===n?(t+=n?":":"::",r=!0):(t+=q(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},de={},he=p({},de,{" ":1,'"':1,"<":1,">":1,"`":1}),fe=p({},he,{"#":1,"?":1,"{":1,"}":1}),pe=p({},fe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ve=function(e,t){var n=g(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},me={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ge=function(e,t){var n;return 2===e.length&&z(G,I(e,0))&&(":"===(n=I(e,1))||!t&&"|"===n)},ye=function(e){var t;return e.length>1&&ge(M(e,0,2))&&(2===e.length||"/"===(t=I(e,2))||"\\"===t||"?"===t||"#"===t)},be=function(e){return"."===e||"%2e"===B(e)},xe=function(e){return e=B(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ke={},we={},Re={},Ae={},Le={},_e={},Se={},Ce={},Ue={},Ee={},Pe={},Te={},Ie={},ze={},Oe={},qe={},He={},Ve={},De={},je={},Fe={},Me=function(e,t,n){var a,r,i,s=b(e);if(t){if(r=this.parse(s),r)throw new U(r);this.searchParams=null}else{if(void 0!==n&&(a=new Me(n,!0)),r=this.parse(s,null,a),r)throw new U(r);i=S(new _),i.bindURL(this),this.searchParams=i}};Me.prototype={type:"URL",parse:function(e,t,n){var r,i,s,o,l=this,u=t||ke,c=0,d="",h=!1,p=!1,g=!1;e=b(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=D(e,re,""),e=D(e,ie,"$1")),e=D(e,se,""),r=v(e);while(c<=r.length){switch(i=r[c],u){case ke:if(!i||!z(G,i)){if(t)return W;u=Re;continue}d+=B(i),u=we;break;case we:if(i&&(z(J,i)||"+"===i||"-"===i||"."===i))d+=B(i);else{if(":"!==i){if(t)return W;d="",u=Re,c=0;continue}if(t&&(l.isSpecial()!==f(me,d)||"file"===d&&(l.includesCredentials()||null!==l.port)||"file"===l.scheme&&!l.host))return;if(l.scheme=d,t)return void(l.isSpecial()&&me[l.scheme]===l.port&&(l.port=null));d="","file"===l.scheme?u=ze:l.isSpecial()&&n&&n.scheme===l.scheme?u=Ae:l.isSpecial()?u=Ce:"/"===r[c+1]?(u=Le,c++):(l.cannotBeABaseURL=!0,V(l.path,""),u=De)}break;case Re:if(!n||n.cannotBeABaseURL&&"#"!==i)return W;if(n.cannotBeABaseURL&&"#"===i){l.scheme=n.scheme,l.path=m(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,u=Fe;break}u="file"===n.scheme?ze:_e;continue;case Ae:if("/"!==i||"/"!==r[c+1]){u=_e;continue}u=Ue,c++;break;case Le:if("/"===i){u=Ee;break}u=Ve;continue;case _e:if(l.scheme=n.scheme,i===a)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query;else if("/"===i||"\\"===i&&l.isSpecial())u=Se;else if("?"===i)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query="",u=je;else{if("#"!==i){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.path.length--,u=Ve;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query,l.fragment="",u=Fe}break;case Se:if(!l.isSpecial()||"/"!==i&&"\\"!==i){if("/"!==i){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,u=Ve;continue}u=Ee}else u=Ue;break;case Ce:if(u=Ue,"/"!==i||"/"!==I(d,c+1))continue;c++;break;case Ue:if("/"!==i&&"\\"!==i){u=Ee;continue}break;case Ee:if("@"===i){h&&(d="%40"+d),h=!0,s=v(d);for(var y=0;y<s.length;y++){var x=s[y];if(":"!==x||g){var k=ve(x,pe);g?l.password+=k:l.username+=k}else g=!0}d=""}else if(i===a||"/"===i||"?"===i||"#"===i||"\\"===i&&l.isSpecial()){if(h&&""===d)return N;c-=v(d).length+1,d="",u=Pe}else d+=i;break;case Pe:case Te:if(t&&"file"===l.scheme){u=qe;continue}if(":"!==i||p){if(i===a||"/"===i||"?"===i||"#"===i||"\\"===i&&l.isSpecial()){if(l.isSpecial()&&""===d)return Q;if(t&&""===d&&(l.includesCredentials()||null!==l.port))return;if(o=l.parseHost(d),o)return o;if(d="",u=He,t)return;continue}"["===i?p=!0:"]"===i&&(p=!1),d+=i}else{if(""===d)return Q;if(o=l.parseHost(d),o)return o;if(d="",u=Ie,t===Te)return}break;case Ie:if(!z(K,i)){if(i===a||"/"===i||"?"===i||"#"===i||"\\"===i&&l.isSpecial()||t){if(""!==d){var w=E(d,10);if(w>65535)return $;l.port=l.isSpecial()&&w===me[l.scheme]?null:w,d=""}if(t)return;u=He;continue}return $}d+=i;break;case ze:if(l.scheme="file","/"===i||"\\"===i)u=Oe;else{if(!n||"file"!==n.scheme){u=Ve;continue}switch(i){case a:l.host=n.host,l.path=m(n.path),l.query=n.query;break;case"?":l.host=n.host,l.path=m(n.path),l.query="",u=je;break;case"#":l.host=n.host,l.path=m(n.path),l.query=n.query,l.fragment="",u=Fe;break;default:ye(O(m(r,c),""))||(l.host=n.host,l.path=m(n.path),l.shortenPath()),u=Ve;continue}}break;case Oe:if("/"===i||"\\"===i){u=qe;break}n&&"file"===n.scheme&&!ye(O(m(r,c),""))&&(ge(n.path[0],!0)?V(l.path,n.path[0]):l.host=n.host),u=Ve;continue;case qe:if(i===a||"/"===i||"\\"===i||"?"===i||"#"===i){if(!t&&ge(d))u=Ve;else if(""===d){if(l.host="",t)return;u=He}else{if(o=l.parseHost(d),o)return o;if("localhost"===l.host&&(l.host=""),t)return;d="",u=He}continue}d+=i;break;case He:if(l.isSpecial()){if(u=Ve,"/"!==i&&"\\"!==i)continue}else if(t||"?"!==i)if(t||"#"!==i){if(i!==a&&(u=Ve,"/"!==i))continue}else l.fragment="",u=Fe;else l.query="",u=je;break;case Ve:if(i===a||"/"===i||"\\"===i&&l.isSpecial()||!t&&("?"===i||"#"===i)){if(xe(d)?(l.shortenPath(),"/"===i||"\\"===i&&l.isSpecial()||V(l.path,"")):be(d)?"/"===i||"\\"===i&&l.isSpecial()||V(l.path,""):("file"===l.scheme&&!l.path.length&&ge(d)&&(l.host&&(l.host=""),d=I(d,0)+":"),V(l.path,d)),d="","file"===l.scheme&&(i===a||"?"===i||"#"===i))while(l.path.length>1&&""===l.path[0])j(l.path);"?"===i?(l.query="",u=je):"#"===i&&(l.fragment="",u=Fe)}else d+=ve(i,fe);break;case De:"?"===i?(l.query="",u=je):"#"===i?(l.fragment="",u=Fe):i!==a&&(l.path[0]+=ve(i,de));break;case je:t||"#"!==i?i!==a&&("'"===i&&l.isSpecial()?l.query+="%27":l.query+="#"===i?"%23":ve(i,de)):(l.fragment="",u=Fe);break;case Fe:i!==a&&(l.fragment+=ve(i,he));break}c++}},parseHost:function(e){var t,n,a;if("["===I(e,0)){if("]"!==I(e,e.length-1))return Q;if(t=le(M(e,1,-1)),!t)return Q;this.host=t}else if(this.isSpecial()){if(e=y(e),z(ne,e))return Q;if(t=oe(e),null===t)return Q;this.host=t}else{if(z(ae,e))return Q;for(t="",n=v(e),a=0;a<n.length;a++)t+=ve(n[a],de);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return f(me,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&ge(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,a=e.password,r=e.host,i=e.port,s=e.path,o=e.query,l=e.fragment,u=t+":";return null!==r?(u+="//",e.includesCredentials()&&(u+=n+(a?":"+a:"")+"@"),u+=ce(r),null!==i&&(u+=":"+i)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?s[0]:s.length?"/"+O(s,"/"):"",null!==o&&(u+="?"+o),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw new U(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Be(e.path[0]).origin}catch(n){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+ce(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ke)},getUsername:function(){return this.username},setUsername:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ve(t[n],pe)}},getPassword:function(){return this.password},setPassword:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ve(t[n],pe)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ce(e):ce(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Pe)},getHostname:function(){var e=this.host;return null===e?"":ce(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=b(e),""===e?this.port=null:this.parse(e,Ie))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+O(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,He))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=b(e),""===e?this.query=null:("?"===I(e,0)&&(e=M(e,1)),this.query="",this.parse(e,je)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=b(e),""!==e?("#"===I(e,0)&&(e=M(e,1)),this.fragment="",this.parse(e,Fe)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Be=function(e){var t=h(this,Xe),n=k(arguments.length,1)>1?arguments[1]:void 0,a=A(t,new Me(e,!1,n));i||(t.href=a.serialize(),t.origin=a.getOrigin(),t.protocol=a.getProtocol(),t.username=a.getUsername(),t.password=a.getPassword(),t.host=a.getHost(),t.hostname=a.getHostname(),t.port=a.getPort(),t.pathname=a.getPathname(),t.search=a.getSearch(),t.searchParams=a.getSearchParams(),t.hash=a.getHash())},Xe=Be.prototype,Ne=function(e,t){return{get:function(){return L(this)[e]()},set:t&&function(e){return L(this)[t](e)},configurable:!0,enumerable:!0}};if(i&&(d(Xe,"href",Ne("serialize","setHref")),d(Xe,"origin",Ne("getOrigin")),d(Xe,"protocol",Ne("getProtocol","setProtocol")),d(Xe,"username",Ne("getUsername","setUsername")),d(Xe,"password",Ne("getPassword","setPassword")),d(Xe,"host",Ne("getHost","setHost")),d(Xe,"hostname",Ne("getHostname","setHostname")),d(Xe,"port",Ne("getPort","setPort")),d(Xe,"pathname",Ne("getPathname","setPathname")),d(Xe,"search",Ne("getSearch","setSearch")),d(Xe,"searchParams",Ne("getSearchParams")),d(Xe,"hash",Ne("getHash","setHash"))),c(Xe,"toJSON",(function(){return L(this).serialize()}),{enumerable:!0}),c(Xe,"toString",(function(){return L(this).serialize()}),{enumerable:!0}),C){var We=C.createObjectURL,Qe=C.revokeObjectURL;We&&c(Be,"createObjectURL",l(We,C)),Qe&&c(Be,"revokeObjectURL",l(Qe,C))}x(Be,"URL"),r({global:!0,constructor:!0,forced:!s,sham:!i},{URL:Be})},6098:(e,t,n)=>{var a=n(9504),r=2147483647,i=36,s=1,o=26,l=38,u=700,c=72,d=128,h="-",f=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,v="Overflow: input needs wider integers to process",m=i-s,g=RangeError,y=a(p.exec),b=Math.floor,x=String.fromCharCode,k=a("".charCodeAt),w=a([].join),R=a([].push),A=a("".replace),L=a("".split),_=a("".toLowerCase),S=function(e){var t=[],n=0,a=e.length;while(n<a){var r=k(e,n++);if(r>=55296&&r<=56319&&n<a){var i=k(e,n++);56320===(64512&i)?R(t,((1023&r)<<10)+(1023&i)+65536):(R(t,r),n--)}else R(t,r)}return t},C=function(e){return e+22+75*(e<26)},U=function(e,t,n){var a=0;e=n?b(e/u):e>>1,e+=b(e/t);while(e>m*o>>1)e=b(e/m),a+=i;return b(a+(m+1)*e/(e+l))},E=function(e){var t=[];e=S(e);var n,a,l=e.length,u=d,f=0,p=c;for(n=0;n<e.length;n++)a=e[n],a<128&&R(t,x(a));var m=t.length,y=m;m&&R(t,h);while(y<l){var k=r;for(n=0;n<e.length;n++)a=e[n],a>=u&&a<k&&(k=a);var A=y+1;if(k-u>b((r-f)/A))throw new g(v);for(f+=(k-u)*A,u=k,n=0;n<e.length;n++){if(a=e[n],a<u&&++f>r)throw new g(v);if(a===u){var L=f,_=i;while(1){var E=_<=p?s:_>=p+o?o:_-p;if(L<E)break;var P=L-E,T=i-E;R(t,x(C(E+P%T))),L=b(P/T),_+=i}R(t,x(C(L))),p=U(f,A,y===m),f=0,y++}}f++,u++}return w(t,"")};e.exports=function(e){var t,n,a=[],r=L(A(_(e),p,"."),".");for(t=0;t<r.length;t++)n=r[t],R(a,y(f,n)?"xn--"+E(n):n);return w(a,".")}},7208:(e,t,n)=>{var a=n(6518),r=n(9565);a({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},7337:(e,t,n)=>{var a=n(6518),r=n(9504),i=n(5610),s=RangeError,o=String.fromCharCode,l=String.fromCodePoint,u=r([].join),c=!!l&&1!==l.length;a({target:"String",stat:!0,arity:1,forced:c},{fromCodePoint:function(e){var t,n=[],a=arguments.length,r=0;while(a>r){if(t=+arguments[r++],i(t,1114111)!==t)throw new s(t+" is not a valid code point");n[r]=t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320)}return u(n,"")}})},7416:(e,t,n)=>{var a=n(9039),r=n(8227),i=n(3724),s=n(6395),o=r("iterator");e.exports=!a((function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),a="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),a+=n+e})),n["delete"]("a",2),n["delete"]("b",void 0),s&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(s||!i)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==a||"x"!==new URL("https://x",void 0).host}))},7465:(e,t,n)=>{var a=n(3724),r=n(3635),i=n(4576),s=n(2106),o=n(1181).get,l=RegExp.prototype,u=TypeError;a&&r&&s(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===i(this))return!!o(this).dotAll;throw new u("Incompatible receiver, RegExp required")}}})},7566:(e,t,n)=>{var a=n(6840),r=n(9504),i=n(655),s=n(2812),o=URLSearchParams,l=o.prototype,u=r(l.getAll),c=r(l.has),d=new o("a=1");!d.has("a",2)&&d.has("a",void 0)||a(l,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var a=u(this,e);s(t,1);var r=i(n),o=0;while(o<a.length)if(a[o++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},7745:(e,t,n)=>{var a=n(3724),r=n(8429).MISSED_STICKY,i=n(4576),s=n(2106),o=n(1181).get,l=RegExp.prototype,u=TypeError;a&&r&&s(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===i(this))return!!o(this).sticky;throw new u("Incompatible receiver, RegExp required")}}})},8406:(e,t,n)=>{n(3792),n(7337);var a=n(6518),r=n(2195),i=n(3389),s=n(7751),o=n(9565),l=n(9504),u=n(3724),c=n(7416),d=n(6840),h=n(2106),f=n(6279),p=n(687),v=n(3994),m=n(1181),g=n(679),y=n(4901),b=n(9297),x=n(6080),k=n(6955),w=n(8551),R=n(34),A=n(655),L=n(2360),_=n(6980),S=n(81),C=n(851),U=n(2529),E=n(2812),P=n(8227),T=n(4488),I=P("iterator"),z="URLSearchParams",O=z+"Iterator",q=m.set,H=m.getterFor(z),V=m.getterFor(O),D=i("fetch"),j=i("Request"),F=i("Headers"),M=j&&j.prototype,B=F&&F.prototype,X=r.TypeError,N=r.encodeURIComponent,W=String.fromCharCode,Q=s("String","fromCodePoint"),$=parseInt,G=l("".charAt),J=l([].join),K=l([].push),Y=l("".replace),Z=l([].shift),ee=l([].splice),te=l("".split),ne=l("".slice),ae=l(/./.exec),re=/\+/g,ie="�",se=/^[0-9a-f]+$/i,oe=function(e,t){var n=ne(e,t,t+2);return ae(se,n)?$(n,16):NaN},le=function(e){for(var t=0,n=128;n>0&&0!==(e&n);n>>=1)t++;return t},ue=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3];break}return t>1114111?null:t},ce=function(e){e=Y(e,re," ");var t=e.length,n="",a=0;while(a<t){var r=G(e,a);if("%"===r){if("%"===G(e,a+1)||a+3>t){n+="%",a++;continue}var i=oe(e,a+1);if(i!==i){n+=r,a++;continue}a+=2;var s=le(i);if(0===s)r=W(i);else{if(1===s||s>4){n+=ie,a++;continue}var o=[i],l=1;while(l<s){if(a++,a+3>t||"%"!==G(e,a))break;var u=oe(e,a+1);if(u!==u){a+=3;break}if(u>191||u<128)break;K(o,u),a+=2,l++}if(o.length!==s){n+=ie;continue}var c=ue(o);null===c?n+=ie:r=Q(c)}}n+=r,a++}return n},de=/[!'()~]|%20/g,he={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},fe=function(e){return he[e]},pe=function(e){return Y(N(e),de,fe)},ve=v((function(e,t){q(this,{type:O,target:H(e).entries,index:0,kind:t})}),z,(function(){var e=V(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,U(void 0,!0);var a=t[n];switch(e.kind){case"keys":return U(a.key,!1);case"values":return U(a.value,!1)}return U([a.key,a.value],!1)}),!0),me=function(e){this.entries=[],this.url=null,void 0!==e&&(R(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?ne(e,1):e:A(e)))};me.prototype={type:z,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,a,r,i,s,l,u=this.entries,c=C(e);if(c){t=S(e,c),n=t.next;while(!(a=o(n,t)).done){if(r=S(w(a.value)),i=r.next,(s=o(i,r)).done||(l=o(i,r)).done||!o(i,r).done)throw new X("Expected sequence with length 2");K(u,{key:A(s.value),value:A(l.value)})}}else for(var d in e)b(e,d)&&K(u,{key:d,value:A(e[d])})},parseQuery:function(e){if(e){var t,n,a=this.entries,r=te(e,"&"),i=0;while(i<r.length)t=r[i++],t.length&&(n=te(t,"="),K(a,{key:ce(Z(n)),value:ce(J(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],a=0;while(a<t.length)e=t[a++],K(n,pe(e.key)+"="+pe(e.value));return J(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ge=function(){g(this,ye);var e=arguments.length>0?arguments[0]:void 0,t=q(this,new me(e));u||(this.size=t.entries.length)},ye=ge.prototype;if(f(ye,{append:function(e,t){var n=H(this);E(arguments.length,2),K(n.entries,{key:A(e),value:A(t)}),u||this.length++,n.updateURL()},delete:function(e){var t=H(this),n=E(arguments.length,1),a=t.entries,r=A(e),i=n<2?void 0:arguments[1],s=void 0===i?i:A(i),o=0;while(o<a.length){var l=a[o];if(l.key!==r||void 0!==s&&l.value!==s)o++;else if(ee(a,o,1),void 0!==s)break}u||(this.size=a.length),t.updateURL()},get:function(e){var t=H(this).entries;E(arguments.length,1);for(var n=A(e),a=0;a<t.length;a++)if(t[a].key===n)return t[a].value;return null},getAll:function(e){var t=H(this).entries;E(arguments.length,1);for(var n=A(e),a=[],r=0;r<t.length;r++)t[r].key===n&&K(a,t[r].value);return a},has:function(e){var t=H(this).entries,n=E(arguments.length,1),a=A(e),r=n<2?void 0:arguments[1],i=void 0===r?r:A(r),s=0;while(s<t.length){var o=t[s++];if(o.key===a&&(void 0===i||o.value===i))return!0}return!1},set:function(e,t){var n=H(this);E(arguments.length,1);for(var a,r=n.entries,i=!1,s=A(e),o=A(t),l=0;l<r.length;l++)a=r[l],a.key===s&&(i?ee(r,l--,1):(i=!0,a.value=o));i||K(r,{key:s,value:o}),u||(this.size=r.length),n.updateURL()},sort:function(){var e=H(this);T(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=H(this).entries,a=x(e,arguments.length>1?arguments[1]:void 0),r=0;while(r<n.length)t=n[r++],a(t.value,t.key,this)},keys:function(){return new ve(this,"keys")},values:function(){return new ve(this,"values")},entries:function(){return new ve(this,"entries")}},{enumerable:!0}),d(ye,I,ye.entries,{name:"entries"}),d(ye,"toString",(function(){return H(this).serialize()}),{enumerable:!0}),u&&h(ye,"size",{get:function(){return H(this).entries.length},configurable:!0,enumerable:!0}),p(ge,z),a({global:!0,constructor:!0,forced:!c},{URLSearchParams:ge}),!c&&y(F)){var be=l(B.has),xe=l(B.set),ke=function(e){if(R(e)){var t,n=e.body;if(k(n)===z)return t=e.headers?new F(e.headers):new F,be(t,"content-type")||xe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),L(e,{body:_(0,A(n)),headers:_(0,t)})}return e};if(y(D)&&a({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return D(e,arguments.length>1?ke(arguments[1]):{})}}),y(j)){var we=function(e){return g(this,M),new j(e,arguments.length>1?ke(arguments[1]):{})};M.constructor=we,we.prototype=M,a({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:we})}}e.exports={URLSearchParams:ge,getState:H}},8408:(e,t,n)=>{n(8406)},8721:(e,t,n)=>{var a=n(3724),r=n(9504),i=n(2106),s=URLSearchParams.prototype,o=r(s.forEach);a&&!("size"in s)&&i(s,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})},9089:(e,t,n)=>{var a=n(6518),r=n(9504),i=Date,s=r(i.prototype.getTime);a({target:"Date",stat:!0},{now:function(){return s(new i)}})}}]);
//# sourceMappingURL=999.9987c00a.js.map