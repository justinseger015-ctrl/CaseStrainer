(()=>{"use strict";var t={2825:(t,e,n)=>{n.d(e,{A:()=>ct});var i=n(641),a=n(33),s=n(3751),o={class:"unconfirmed-citations"},r={key:0,class:"text-center py-4"},l={key:1,class:"alert alert-danger"},c={key:2},u={class:"modal fade",id:"contextModal",tabindex:"-1","aria-labelledby":"contextModalLabel","aria-hidden":"true"},d={class:"modal-dialog modal-lg"},f={class:"modal-content"},v={class:"modal-body"},m={key:0},g=["innerHTML"],p={key:0,class:"citation-details mb-3"},k={class:"row"},h={key:0,class:"col-md-4"},b={key:1,class:"col-md-4"},C={key:2,class:"col-md-4"},y={class:"row mt-2"},L={key:0,class:"col-md-6"},_={key:1,class:"col-md-6"},w={class:"context-text"},E={key:1,class:"mt-3"},x=["href"],A={key:1},T={class:"modal fade",id:"suggestionsModal",tabindex:"-1","aria-labelledby":"suggestionsModalLabel","aria-hidden":"true"},S={class:"modal-dialog modal-lg"},I={class:"modal-content"},R={class:"modal-body"},F={key:0,class:"text-center py-4"},X={key:1,class:"alert alert-danger"},N={key:2,class:"alert alert-info"},M={key:3},O={class:"list-group mt-3"},P=["onClick"],D={class:"d-flex w-100 justify-content-between"},U=["innerHTML"],W={class:"text-success"},z={class:"mb-1"},V={key:0},B=["href"];function Q(t,e,n,Q,j,G){var H,$=(0,i.g2)("ResultsViewer");return(0,i.uX)(),(0,i.CE)("div",o,[j.loading?((0,i.uX)(),(0,i.CE)("div",r,e[0]||(e[0]=[(0,i.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,i.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,i.Lk)("p",{class:"mt-2"},"Loading unconfirmed citations...",-1)]))):j.error?((0,i.uX)(),(0,i.CE)("div",l,[e[1]||(e[1]=(0,i.Lk)("h5",null,"Error",-1)),(0,i.Lk)("p",null,(0,a.v_)(j.error),1)])):((0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)($,{results:G.transformedResults},null,8,["results"])])),(0,i.Lk)("div",u,[(0,i.Lk)("div",d,[(0,i.Lk)("div",f,[e[12]||(e[12]=(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title",id:"contextModalLabel"},"Citation Context"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,i.Lk)("div",v,[j.selectedCitation?((0,i.uX)(),(0,i.CE)("div",m,[(0,i.Lk)("h6",null,[e[2]||(e[2]=(0,i.eW)("Citation: ")),(0,i.Lk)("span",{innerHTML:G.formatCitation(j.selectedCitation.citation_text)},null,8,g)]),j.selectedCitation.volume||j.selectedCitation.reporter||j.selectedCitation.page||j.selectedCitation.court||j.selectedCitation.year?((0,i.uX)(),(0,i.CE)("div",p,[e[8]||(e[8]=(0,i.Lk)("h6",null,"Citation Details:",-1)),(0,i.Lk)("div",k,[j.selectedCitation.volume?((0,i.uX)(),(0,i.CE)("div",h,[e[3]||(e[3]=(0,i.Lk)("strong",null,"Volume:",-1)),(0,i.eW)(" "+(0,a.v_)(j.selectedCitation.volume),1)])):(0,i.Q3)("",!0),j.selectedCitation.reporter?((0,i.uX)(),(0,i.CE)("div",b,[e[4]||(e[4]=(0,i.Lk)("strong",null,"Reporter:",-1)),(0,i.eW)(" "+(0,a.v_)(j.selectedCitation.reporter),1)])):(0,i.Q3)("",!0),j.selectedCitation.page?((0,i.uX)(),(0,i.CE)("div",C,[e[5]||(e[5]=(0,i.Lk)("strong",null,"Page:",-1)),(0,i.eW)(" "+(0,a.v_)(j.selectedCitation.page),1)])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",y,[j.selectedCitation.court?((0,i.uX)(),(0,i.CE)("div",L,[e[6]||(e[6]=(0,i.Lk)("strong",null,"Court:",-1)),(0,i.eW)(" "+(0,a.v_)(j.selectedCitation.court),1)])):(0,i.Q3)("",!0),j.selectedCitation.year?((0,i.uX)(),(0,i.CE)("div",_,[e[7]||(e[7]=(0,i.Lk)("strong",null,"Year:",-1)),(0,i.eW)(" "+(0,a.v_)(j.selectedCitation.year),1)])):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0),e[10]||(e[10]=(0,i.Lk)("h6",null,"Citation Context:",-1)),(0,i.Lk)("p",w,(0,a.v_)(j.selectedCitation.context||"No context available"),1),j.selectedCitation.file_link?((0,i.uX)(),(0,i.CE)("div",E,[(0,i.Lk)("a",{href:j.selectedCitation.file_link,target:"_blank",class:"btn btn-outline-primary"},e[9]||(e[9]=[(0,i.Lk)("i",{class:"bi bi-file-earmark-text"},null,-1),(0,i.eW)(" View Source Document ")]),8,x)])):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("div",A,e[11]||(e[11]=[(0,i.Lk)("p",null,"No citation selected or citation data is not available.",-1)])))]),e[13]||(e[13]=(0,i.Lk)("div",{class:"modal-footer"},[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])]),(0,i.Lk)("div",T,[(0,i.Lk)("div",S,[(0,i.Lk)("div",I,[e[17]||(e[17]=(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title",id:"suggestionsModalLabel"},"Citation Correction Suggestions"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,i.Lk)("div",R,[t.loadingSuggestions?((0,i.uX)(),(0,i.CE)("div",F,e[14]||(e[14]=[(0,i.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,i.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,i.Lk)("p",{class:"mt-2"},"Loading suggestions...",-1)]))):t.suggestionError?((0,i.uX)(),(0,i.CE)("div",X,[e[15]||(e[15]=(0,i.Lk)("h5",null,"Error",-1)),(0,i.Lk)("p",null,(0,a.v_)(t.suggestionError),1)])):0===j.suggestions.length?((0,i.uX)(),(0,i.CE)("div",N,e[16]||(e[16]=[(0,i.Lk)("p",null,"No correction suggestions available for this citation.",-1)]))):((0,i.uX)(),(0,i.CE)("div",M,[(0,i.Lk)("h6",null,"Original Citation: "+(0,a.v_)(null===(H=j.selectedCitation)||void 0===H?void 0:H.citation_text),1),(0,i.Lk)("div",O,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(j.suggestions,(function(t,e){return(0,i.uX)(),(0,i.CE)("a",{key:e,href:"#",class:"list-group-item list-group-item-action",onClick:(0,s.D$)((function(e){return G.applySuggestion(t)}),["prevent"])},[(0,i.Lk)("div",D,[(0,i.Lk)("h6",{class:"mb-1",innerHTML:G.formatCitation(t.corrected_citation)},null,8,U),(0,i.Lk)("small",W,(0,a.v_)(Math.round(100*t.confidence))+"% match",1)]),(0,i.Lk)("p",z,(0,a.v_)(t.explanation),1),t.source_url?((0,i.uX)(),(0,i.CE)("small",V,[(0,i.Lk)("a",{href:t.source_url,target:"_blank"},"View Source",8,B)])):(0,i.Q3)("",!0)],8,P)})),128))])]))]),e[18]||(e[18]=(0,i.Lk)("div",{class:"modal-footer"},[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])])])}var j=n(9201),G=n(4048),H=n(388),$=(n(113),n(8980),n(4346),n(2062),n(4554),n(8111),n(116),n(1701),n(6099),n(2505)),K=n.n($),q=n(454),J=n(3300),Y={class:"not-citation-feedback"},Z={key:1,class:"text-success"},tt={key:2,class:"mt-2"};function et(t,e,n,a,o,r){return(0,i.uX)(),(0,i.CE)("div",Y,[o.isFlagged?((0,i.uX)(),(0,i.CE)("span",Z,"Flagged as not a citation")):((0,i.uX)(),(0,i.CE)("button",{key:0,class:"btn btn-outline-danger btn-sm",onClick:e[0]||(e[0]=function(){return r.flagNotCitation&&r.flagNotCitation.apply(r,arguments)})}," Not a citation ")),o.showPatternInput?((0,i.uX)(),(0,i.CE)("div",tt,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.pattern=t}),placeholder:"Enter regex pattern (optional)",class:"form-control form-control-sm"},null,512),[[s.Jo,o.pattern]]),(0,i.Lk)("button",{class:"btn btn-primary btn-sm mt-1",onClick:e[2]||(e[2]=function(){return r.submitPattern&&r.submitPattern.apply(r,arguments)})},"Submit Pattern"),(0,i.Lk)("button",{class:"btn btn-secondary btn-sm mt-1 ms-2",onClick:e[3]||(e[3]=function(){return r.cancelPattern&&r.cancelPattern.apply(r,arguments)})},"Cancel")])):(0,i.Q3)("",!0)])}const nt={name:"NotCitationFeedback",props:{citation:{type:String,required:!0}},data:function(){return{isFlagged:!1,showPatternInput:!1,pattern:""}},methods:{flagNotCitation:function(){this.showPatternInput=!0,this.pattern=this.citation},submitPattern:function(){var t=this;return(0,H.A)((0,G.A)().mark((function e(){var n;return(0,G.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.pattern!==t.citation,e.prev=1,e.next=4,K().post("/casestrainer/api/not_citations",{pattern:t.pattern,is_regex:n});case 4:t.isFlagged=!0,t.showPatternInput=!1,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),alert("Failed to submit pattern: "+e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},cancelPattern:function(){this.showPatternInput=!1}}};var it=n(6262);const at=(0,it.A)(nt,[["render",et],["__scopeId","data-v-eb2299a0"]]),st=at;var ot=n(3603);const rt={name:"UnconfirmedCitations",data:function(){return{citations:[],loading:!0,error:null,currentContext:null,contextModal:null,reprocessing:null,suggestions:[],selectedCitation:null,suggestionsModal:null}},computed:{transformedResults:function(){return{validation_results:this.citations.map((function(t){return{citation:t.citation_text,case_name:t.case_name||"Unknown",verified:!1,validation_method:"Unverified",metadata:{explanation:t.explanation||"Could not be verified in any source",source:t.source,volume:t.volume,reporter:t.reporter,page:t.page,court:t.court,year:t.year,confidence:t.confidence?Math.round(100*t.confidence)+"%":"N/A",url:t.url}}})),unconfirmedCount:this.citations.length,totalCitations:this.citations.length}}},components:{NotCitationFeedback:st,ResultsViewer:ot.A},methods:{formatCitation:J.P,fetchCitations:function(){var t=this;return(0,H.A)((0,G.A)().mark((function e(){var n,i,a;return(0,G.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.error=null,e.prev=2,e.prev=3,e.next=6,K().get("/citation_verification_results.json");case 6:if(n=e.sent,!(n.data&&n.data.still_unconfirmed&&n.data.still_unconfirmed.length>0)){e.next=12;break}return t.citations=n.data.still_unconfirmed.map((function(t){return{citation_text:t.citation_text,case_name:t.case_name||"Unknown",confidence:t.confidence||.3,explanation:t.explanation||"No explanation available",document:t.document||"",summaries:t.summaries||[]}})),console.log("Loaded",t.citations.length,"unconfirmed citations from JSON file"),t.loading=!1,e.abrupt("return");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](3),console.warn("Error loading from JSON file directly:",e.t0);case 17:return e.prev=17,e.next=20,K().get("/api/unconfirmed_citations_data");case 20:i=e.sent,e.next=38;break;case 23:return e.prev=23,e.t1=e["catch"](17),console.warn("First endpoint attempt failed, trying alternate endpoint:",e.t1),e.prev=26,e.next=29,K().get("/api/unconfirmed-citations-data");case 29:i=e.sent,e.next=38;break;case 32:return e.prev=32,e.t2=e["catch"](26),console.warn("Second endpoint attempt failed, trying with full path:",e.t2),e.next=37,K().get("/casestrainer/api/unconfirmed_citations_data");case 37:i=e.sent;case 38:i.data&&i.data.citations&&(t.citations=i.data.citations),e.next=45;break;case 41:e.prev=41,e.t3=e["catch"](2),console.error("Error fetching unconfirmed citations:",e.t3),t.error=(null===(a=e.t3.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.error)||"An error occurred while fetching citations";case 45:return e.prev=45,t.loading=!1,e.finish(45);case 48:case"end":return e.stop()}}),e,null,[[2,41,45,48],[3,14],[17,23],[26,32]])})))()},showContext:function(t){this.selectedCitation=t,this.contextModal.show()},showSuggestions:function(t){var e=this;return(0,H.A)((0,G.A)().mark((function n(){var i,a;return(0,G.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.selectedCitation=t,e.loadingSuggestions=!0,e.suggestionError=null,e.suggestions=[],e.suggestionsModal.show(),n.prev=5,n.next=8,K().post("/casestrainer/api/suggest-citation-corrections",{citation:t.citation_text});case 8:i=n.sent,i.data.warning&&(e.suggestionError=i.data.warning),e.suggestions=i.data.suggestions||[],n.next=17;break;case 13:n.prev=13,n.t0=n["catch"](5),console.error("Error fetching correction suggestions:",n.t0),e.suggestionError=(null===(a=n.t0.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.error)||"An error occurred while fetching suggestions";case 17:return n.prev=17,e.loadingSuggestions=!1,n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[5,13,17,20]])})))()},reprocessCitation:function(t){var e=this;return(0,H.A)((0,G.A)().mark((function n(){var i,a,s,o,r;return(0,G.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.reprocessing=t.citation_text,n.prev=1,n.next=4,K().post("/api/reprocess-citations",{citations:[t.citation_text]});case 4:i=n.sent,a=e.citations.findIndex((function(e){return e.citation_text===t.citation_text})),-1!==a&&(s=Array.isArray(i.data.results)?i.data.results:[],o=s.find((function(e){return e.citation_text===t.citation_text})),o&&(o.found?e.citations.splice(a,1):e.citations[a]=(0,j.A)((0,j.A)({},e.citations[a]),o))),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](1),console.error("Error reprocessing citation:",n.t0),alert("Error reprocessing citation: "+((null===(r=n.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"An unknown error occurred"));case 13:return n.prev=13,e.reprocessing=null,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})))()},applySuggestion:function(t){this.selectedCitation&&(this.reprocessCitation((0,j.A)((0,j.A)({},this.selectedCitation),{},{citation_text:t.corrected_citation})),this.suggestionsModal.hide())}},mounted:function(){this.fetchCitations(),this.contextModal=new q.aF(document.getElementById("contextModal")),this.suggestionsModal=new q.aF(document.getElementById("suggestionsModal"))}},lt=(0,it.A)(rt,[["render",Q],["__scopeId","data-v-41169498"]]),ct=lt},2960:(t,e,n)=>{n(3792),n(3362),n(9085),n(9391);var i=n(3751),a=n(641),s=n(33),o={class:"app-container"},r={class:"navbar navbar-expand-lg navbar-dark bg-primary"},l={class:"container-fluid position-relative"},c={class:"collapse navbar-collapse",id:"navbarNav",ref:"navbarCollapse"},u={class:"navbar-nav"},d={class:"nav-item"},f={class:"nav-item"},v={class:"nav-item"},m={class:"nav-item"},g={class:"nav-item"},p={class:"nav-item"},k={class:"nav-item"},h={class:"version-badge position-absolute top-0 end-0 mt-2 me-3 bg-light text-primary px-2 py-1 rounded",style:{"font-size":"0.95rem","font-weight":"bold"}},b={class:"container mt-4 flex-grow-1"},C={class:"container mt-4"};function y(t,e,n,i,y,L){var _=(0,a.g2)("router-link"),w=(0,a.g2)("router-view"),E=(0,a.g2)("FeedbackForm");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("nav",r,[(0,a.Lk)("div",l,[(0,a.bF)(_,{class:"navbar-brand",to:"/"},{default:(0,a.k6)((function(){return e[1]||(e[1]=[(0,a.eW)("CaseStrainer")])})),_:1}),(0,a.bF)(_,{class:"nav-link highlight-nav ms-2 d-inline-block",style:{"min-width":"170px"},to:"/enhanced-validator"},{default:(0,a.k6)((function(){return e[2]||(e[2]=[(0,a.eW)("Enhanced Validator")])})),_:1}),(0,a.Lk)("button",{class:"navbar-toggler",type:"button","aria-label":"Toggle navigation",onClick:e[0]||(e[0]=function(){return L.toggleNavbar&&L.toggleNavbar.apply(L,arguments)}),ref:"navbarToggler"},e[3]||(e[3]=[(0,a.Lk)("span",{class:"navbar-toggler-icon"},null,-1)]),512),(0,a.Lk)("div",c,[(0,a.Lk)("ul",u,[(0,a.Lk)("li",d,[(0,a.bF)(_,{class:"nav-link",to:"/"},{default:(0,a.k6)((function(){return e[4]||(e[4]=[(0,a.eW)("Home")])})),_:1})]),(0,a.Lk)("li",f,[(0,a.bF)(_,{class:"nav-link",to:"/unconfirmed-citations"},{default:(0,a.k6)((function(){return e[5]||(e[5]=[(0,a.eW)("Unconfirmed Citations")])})),_:1})]),(0,a.Lk)("li",v,[(0,a.bF)(_,{class:"nav-link",to:"/multitool-confirmed"},{default:(0,a.k6)((function(){return e[6]||(e[6]=[(0,a.eW)("Confirmed with Multitool")])})),_:1})]),(0,a.Lk)("li",m,[(0,a.bF)(_,{class:"nav-link",to:"/citation-network"},{default:(0,a.k6)((function(){return e[7]||(e[7]=[(0,a.eW)("Citation Network")])})),_:1})]),(0,a.Lk)("li",g,[(0,a.bF)(_,{class:"nav-link",to:"/ml-classifier"},{default:(0,a.k6)((function(){return e[8]||(e[8]=[(0,a.eW)("ML Classifier")])})),_:1})]),(0,a.Lk)("li",p,[(0,a.bF)(_,{class:"nav-link",to:"/citation-tester"},{default:(0,a.k6)((function(){return e[9]||(e[9]=[(0,a.eW)("Citation Tester")])})),_:1})]),(0,a.Lk)("li",k,[(0,a.bF)(_,{class:"nav-link",to:"/about"},{default:(0,a.k6)((function(){return e[10]||(e[10]=[(0,a.eW)("About")])})),_:1})])])],512)]),(0,a.Lk)("span",h," v"+(0,s.v_)(y.version||"?"),1)]),(0,a.Lk)("main",b,[(0,a.bF)(w)]),(0,a.Lk)("div",C,[(0,a.bF)(E)]),e[11]||(e[11]=(0,a.Lk)("footer",{class:"footer py-3 bg-light"},[(0,a.Lk)("div",{class:"container text-center"},[(0,a.Lk)("span",{class:"text-muted"},"CaseStrainer © 2025 - University of Washington")])],-1))])}var L=n(4048),_=n(388),w=n(2505),E=n.n(w);function x(){return A.apply(this,arguments)}function A(){return A=(0,_.A)((0,L.A)().mark((function t(){var e;return(0,L.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E().get("/casestrainer/api/version");case 3:return e=t.sent,t.abrupt("return",e.data.version||"unknown");case 7:return t.prev=7,t.t0=t["catch"](0),console.error("Error fetching version:",t.t0),t.abrupt("return","unknown");case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),A.apply(this,arguments)}var T={class:"feedback-form"},S={key:0,class:"feedback-content"},I={class:"form-group"},R={class:"form-actions"},F=["disabled"],X={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function N(t,e,n,o,r,l){return(0,a.uX)(),(0,a.CE)("div",T,[(0,a.Lk)("div",{class:"feedback-toggle",onClick:e[0]||(e[0]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},(0,s.v_)(r.isOpen?"Hide Feedback Form":"Send Feedback"),1),r.isOpen?((0,a.uX)(),(0,a.CE)("div",S,[e[5]||(e[5]=(0,a.Lk)("h3",null,"Send Feedback",-1)),r.message?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,s.C4)(["alert",r.messageType])},(0,s.v_)(r.message),3)):(0,a.Q3)("",!0),(0,a.Lk)("form",{onSubmit:e[3]||(e[3]=(0,i.D$)((function(){return l.submitFeedback&&l.submitFeedback.apply(l,arguments)}),["prevent"]))},[(0,a.Lk)("div",I,[e[4]||(e[4]=(0,a.Lk)("label",{for:"feedback-message"},"Your Feedback:",-1)),(0,a.bo)((0,a.Lk)("textarea",{id:"feedback-message","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.feedback=t}),class:"form-control",rows:"3",required:"",placeholder:"Please share your feedback, questions, or report any issues..."},null,512),[[i.Jo,r.feedback]])]),(0,a.Lk)("div",R,[(0,a.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:r.isSubmitting},[r.isSubmitting?((0,a.uX)(),(0,a.CE)("span",X)):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,s.v_)(r.isSubmitting?"Sending...":"Send Feedback"),1)],8,F),(0,a.Lk)("button",{type:"button",class:"btn btn-outline-secondary ml-2",onClick:e[2]||(e[2]=function(){return l.resetForm&&l.resetForm.apply(l,arguments)})}," Cancel ")])],32)])):(0,a.Q3)("",!0)])}n(2762),n(6031);const M={name:"FeedbackForm",data:function(){return{isOpen:!1,feedback:"",isSubmitting:!1,message:"",messageType:""}},methods:{toggleForm:function(){this.isOpen=!this.isOpen,this.isOpen||this.resetForm()},submitFeedback:function(){var t=this;return(0,_.A)((0,L.A)().mark((function e(){return(0,L.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.feedback.trim()){e.next=2;break}return e.abrupt("return");case 2:return t.isSubmitting=!0,t.message="",e.prev=4,e.next=7,t.$http.post("/api/send_feedback",{message:t.feedback,page:window.location.href,userAgent:navigator.userAgent});case 7:e.sent,t.message="Thank you for your feedback! We'll get back to you soon.",t.messageType="alert-success",t.feedback="",setTimeout((function(){t.isOpen=!1,t.resetForm()}),3e3),e.next=19;break;case 14:e.prev=14,e.t0=e["catch"](4),console.error("Error sending feedback:",e.t0),t.message="Failed to send feedback. Please try again later.",t.messageType="alert-danger";case 19:return e.prev=19,t.isSubmitting=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,14,19,22]])})))()},resetForm:function(){this.feedback="",this.message="",this.messageType=""}}};var O=n(6262);const P=(0,O.A)(M,[["render",N],["__scopeId","data-v-e28a74dc"]]),D=P,U={name:"App",components:{FeedbackForm:D},data:function(){return{version:null}},mounted:function(){var t=this;x().then((function(e){t.version=e}))},methods:{toggleNavbar:function(){var t=this.$refs.navbarCollapse;t&&(t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show"))}}},W=(0,O.A)(U,[["render",y]]),z=W;n(6099),n(7764),n(2953);var V=n(5220);n(1629),n(8111),n(7588),n(3500),n(2010);var B={class:"file-upload"},Q={class:"card"},j={class:"card-body"},G={class:"mb-3"},H={key:0,class:"mb-3"},$={class:"alert alert-info"},K=["disabled"],q={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},J={key:1,class:"mt-4 alert alert-danger"};function Y(t,e,n,i,o,r){var l=(0,a.g2)("ProgressBar"),c=(0,a.g2)("ReusableResults");return(0,a.uX)(),(0,a.CE)("div",B,[(0,a.Lk)("div",Q,[e[5]||(e[5]=(0,a.Lk)("div",{class:"card-header"},[(0,a.Lk)("h5",null,"Upload a Document")],-1)),(0,a.Lk)("div",j,[(0,a.Lk)("div",G,[e[2]||(e[2]=(0,a.Lk)("label",{for:"fileUpload",class:"form-label"},"Select a file to analyze for citations",-1)),(0,a.Lk)("input",{class:"form-control",type:"file",id:"fileUpload",onChange:e[0]||(e[0]=function(){return r.handleFileChange&&r.handleFileChange.apply(r,arguments)}),accept:".pdf,.docx,.txt,.rtf,.doc,.html,.htm"},null,32),e[3]||(e[3]=(0,a.Lk)("div",{class:"form-text"},"Supported formats: PDF, DOCX, TXT, RTF, DOC, HTML",-1))]),o.file?((0,a.uX)(),(0,a.CE)("div",H,[(0,a.Lk)("div",$,[e[4]||(e[4]=(0,a.Lk)("strong",null,"Selected file:",-1)),(0,a.eW)(" "+(0,s.v_)(o.file.name)+" ("+(0,s.v_)(r.formatFileSize(o.file.size))+") ",1)])])):(0,a.Q3)("",!0),(0,a.bF)(l,{loading:o.isUploading,message:"Uploading & Analyzing..."},null,8,["loading"]),(0,a.Lk)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return r.uploadFile&&r.uploadFile.apply(r,arguments)}),disabled:!o.file||o.isUploading},[o.isUploading?((0,a.uX)(),(0,a.CE)("span",q)):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,s.v_)(o.isUploading?"Analyzing...":"Analyze Citations"),1)],8,K)])]),o.results?((0,a.uX)(),(0,a.Wv)(c,{key:0,results:o.results},null,8,["results"])):(0,a.Q3)("",!0),o.error?((0,a.uX)(),(0,a.CE)("div",J,[e[6]||(e[6]=(0,a.Lk)("h5",null,"Error",-1)),(0,a.Lk)("p",null,(0,s.v_)(o.error),1)])):(0,a.Q3)("",!0)])}n(2008),n(4114),n(739),n(2489),n(3110),n(8940);var Z=n(5023),tt=n(6118);const et={name:"FileUpload",components:{ProgressBar:Z.A,ReusableResults:tt.A},data:function(){return{file:null,isUploading:!1,results:null,error:null,debugInfo:""}},methods:{handleFileChange:function(t){this.file=t.target.files[0],this.error=null,this.results=null},formatFileSize:function(t){var e=["Bytes","KB","MB","GB"];if(0===t)return"0 Bytes";var n=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,n),2)+" "+e[n]},uploadFile:function(){var t=this;return(0,_.A)((0,L.A)().mark((function e(){var n,i,a;return(0,L.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.file){e.next=3;break}return t.error="Please select a file to upload",e.abrupt("return");case 3:return t.isUploading=!0,t.error=null,t.debugInfo="Debug: Starting file analysis...\n",e.prev=6,n=new FormData,n.append("file",t.file),n.append("debug_info",t.debugInfo),t.debugInfo+="Request to /api/analyze: [File data]\n",e.next=13,E().post("/api/analyze",n,{headers:{"Content-Type":"multipart/form-data"}});case 13:i=e.sent,t.debugInfo+="Response received: Processing data...\n",t.debugInfo+="Success: ".concat(JSON.stringify(i.data,null,2),"\n"),t.results={totalCitations:i.data.citations.length,confirmedCount:i.data.citations.filter((function(t){return t.valid})).length,unconfirmedCount:i.data.citations.filter((function(t){return!t.valid})).length,multitoolCount:i.data.citations.filter((function(t){return t.valid&&"courtlistener_api"!==t.source})).length,analysisId:i.data.analysis_id,citations:i.data.citations},localStorage.setItem("lastAnalysisResults",JSON.stringify(t.results)),e.next=25;break;case 20:e.prev=20,e.t0=e["catch"](6),t.error=(null===(a=e.t0.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.error)||"An error occurred while analyzing the file",t.debugInfo+="Error: ".concat(e.t0.message,"\n"),e.t0.response&&(t.debugInfo+="Response status: ".concat(e.t0.response.status,"\n"),t.debugInfo+="Response data: ".concat(JSON.stringify(e.t0.response.data,null,2),"\n"));case 25:return e.prev=25,t.isUploading=!1,e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[6,20,25,28]])})))()},viewConfirmedCitations:function(){this.$router.push("/confirmed-citations")},viewUnconfirmedCitations:function(){this.$router.push("/unconfirmed-citations")},viewMultitoolCitations:function(){this.$router.push("/multitool-confirmed")}}},nt=(0,O.A)(et,[["render",Y],["__scopeId","data-v-2482f0a2"]]),it=nt;var at={class:"text-paste"},st={class:"card"},ot={class:"card-body"},rt={class:"mb-3"},lt=["disabled"],ct={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},ut={key:0,class:"mt-4"},dt={class:"card"},ft={class:"card-body"},vt={class:"tab-content"},mt={class:"tab-pane fade show active",id:"results-content",role:"tabpanel"},gt={class:"alert alert-success"},pt={class:"mt-3"},kt={class:"list-group"},ht={class:"list-group-item d-flex justify-content-between align-items-center"},bt={class:"badge bg-success rounded-pill"},Ct={class:"list-group-item d-flex justify-content-between align-items-center"},yt={class:"badge bg-danger rounded-pill"},Lt={class:"list-group-item d-flex justify-content-between align-items-center"},_t={class:"badge bg-info rounded-pill"},wt={class:"mt-3"},Et={key:1,class:"mt-4 alert alert-danger"};function xt(t,e,n,o,r,l){return(0,a.uX)(),(0,a.CE)("div",at,[(0,a.Lk)("div",st,[e[6]||(e[6]=(0,a.Lk)("div",{class:"card-header"},[(0,a.Lk)("h5",null,"Paste Text")],-1)),(0,a.Lk)("div",ot,[(0,a.Lk)("div",rt,[e[5]||(e[5]=(0,a.Lk)("label",{for:"textInput",class:"form-label"},"Paste text containing legal citations",-1)),(0,a.bo)((0,a.Lk)("textarea",{class:"form-control",id:"textInput",rows:"10","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.text=t}),placeholder:"Paste text from a legal document containing citations..."},null,512),[[i.Jo,r.text]])]),(0,a.Lk)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return l.analyzeText&&l.analyzeText.apply(l,arguments)}),disabled:!r.text||r.isAnalyzing},[r.isAnalyzing?((0,a.uX)(),(0,a.CE)("span",ct)):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,s.v_)(r.isAnalyzing?"Analyzing...":"Analyze Citations"),1)],8,lt)])]),r.results?((0,a.uX)(),(0,a.CE)("div",ut,[(0,a.Lk)("div",dt,[e[12]||(e[12]=(0,a.Lk)("div",{class:"card-header"},[(0,a.Lk)("ul",{class:"nav nav-tabs card-header-tabs",id:"result-tabs"},[(0,a.Lk)("li",{class:"nav-item"},[(0,a.Lk)("a",{class:"nav-link active",id:"results-tab","data-bs-toggle":"tab",href:"#results-content",role:"tab"}," Analysis Results ")])])],-1)),(0,a.Lk)("div",ft,[(0,a.Lk)("div",vt,[(0,a.Lk)("div",mt,[(0,a.Lk)("div",gt,[e[7]||(e[7]=(0,a.Lk)("h5",null,"Analysis complete!",-1)),(0,a.Lk)("p",null,"Found "+(0,s.v_)(r.results.totalCitations)+" citations in your text.",1)]),(0,a.Lk)("div",pt,[e[11]||(e[11]=(0,a.Lk)("h6",null,"Citation Summary:",-1)),(0,a.Lk)("ul",kt,[(0,a.Lk)("li",ht,[e[8]||(e[8]=(0,a.eW)(" Confirmed Citations ")),(0,a.Lk)("span",bt,(0,s.v_)(r.results.confirmedCount),1)]),(0,a.Lk)("li",Ct,[e[9]||(e[9]=(0,a.eW)(" Unconfirmed Citations ")),(0,a.Lk)("span",yt,(0,s.v_)(r.results.unconfirmedCount),1)]),(0,a.Lk)("li",Lt,[e[10]||(e[10]=(0,a.eW)(" Verified with Multi-tool ")),(0,a.Lk)("span",_t,(0,s.v_)(r.results.multitoolCount),1)])])]),(0,a.Lk)("div",wt,[(0,a.Lk)("button",{class:"btn btn-outline-primary me-2",onClick:e[2]||(e[2]=function(){return l.viewConfirmedCitations&&l.viewConfirmedCitations.apply(l,arguments)})}," View Confirmed Citations "),(0,a.Lk)("button",{class:"btn btn-outline-danger me-2",onClick:e[3]||(e[3]=function(){return l.viewUnconfirmedCitations&&l.viewUnconfirmedCitations.apply(l,arguments)})}," View Unconfirmed Citations "),(0,a.Lk)("button",{class:"btn btn-outline-info",onClick:e[4]||(e[4]=function(){return l.viewMultitoolCitations&&l.viewMultitoolCitations.apply(l,arguments)})}," View Multi-tool Verified ")])])])])])])):(0,a.Q3)("",!0),r.error?((0,a.uX)(),(0,a.CE)("div",Et,[e[13]||(e[13]=(0,a.Lk)("h5",null,"Error",-1)),(0,a.Lk)("p",null,(0,s.v_)(r.error),1)])):(0,a.Q3)("",!0)])}const At={name:"TextPaste",components:{ProgressBar:Z.A,ReusableResults:tt.A},data:function(){return{text:"",isAnalyzing:!1,results:null,error:null,debugInfo:""}},methods:{analyzeText:function(){var t=this;return(0,_.A)((0,L.A)().mark((function e(){var n,i;return(0,L.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.text){e.next=3;break}return t.error="Please enter some text to analyze",e.abrupt("return");case 3:return t.isAnalyzing=!0,t.error=null,t.debugInfo="Debug: Starting text analysis...\n",e.prev=6,t.debugInfo+="Request to /api/analyze: [Text data]\n",e.next=10,E().post("/api/analyze",{text:t.text,debugInfo:t.debugInfo});case 10:n=e.sent,t.debugInfo+="Response received: Processing data...\n",t.debugInfo+="Success: ".concat(JSON.stringify(n.data,null,2),"\n"),t.results={totalCitations:n.data.citations.length,confirmedCount:n.data.citations.filter((function(t){return t.valid})).length,unconfirmedCount:n.data.citations.filter((function(t){return!t.valid})).length,multitoolCount:n.data.citations.filter((function(t){return t.valid&&"courtlistener_api"!==t.source})).length,analysisId:n.data.analysis_id,citations:n.data.citations},localStorage.setItem("lastAnalysisResults",JSON.stringify(t.results)),e.next=23;break;case 17:e.prev=17,e.t0=e["catch"](6),console.error("Error analyzing text:",e.t0),t.error=(null===(i=e.t0.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"An error occurred while analyzing the text",t.debugInfo+="Error: ".concat(e.t0.message,"\n"),e.t0.response&&(t.debugInfo+="Response status: ".concat(e.t0.response.status,"\n"),t.debugInfo+="Response data: ".concat(JSON.stringify(e.t0.response.data,null,2),"\n"));case 23:return e.prev=23,t.isAnalyzing=!1,e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[6,17,23,26]])})))()},viewConfirmedCitations:function(){this.$router.push("/confirmed-citations")},viewUnconfirmedCitations:function(){this.$router.push("/unconfirmed-citations")},viewMultitoolCitations:function(){this.$router.push("/multitool-confirmed")}}},Tt=(0,O.A)(At,[["render",xt],["__scopeId","data-v-2ddf4c1f"]]),St=Tt;var It=n(5016),Rt=n(6131),Ft=n(3502),Xt=n(2825);It.A,Rt.A,Ft.A,Xt.A;var Nt=[{path:"/",name:"Home",redirect:"/enhanced-validator"},{path:"/enhanced-validator",name:"EnhancedValidator",component:function(){return n.e(999).then(n.bind(n,2999))}},{path:"/unconfirmed-citations",name:"UnconfirmedCitations",component:function(){return n.e(342).then(n.bind(n,4342))}},{path:"/multitool-confirmed",name:"MultitoolConfirmed",component:function(){return n.e(114).then(n.bind(n,3114))}},{path:"/citation-network",name:"CitationNetwork",component:function(){return n.e(198).then(n.bind(n,8198))}},{path:"/ml-classifier",name:"MLClassifier",component:function(){return n.e(762).then(n.bind(n,5762))}},{path:"/citation-tester",name:"CitationTester",component:function(){return n.e(765).then(n.bind(n,8765))}},{path:"/about",name:"About",component:function(){return n.e(335).then(n.bind(n,7335))}}],Mt=(0,V.aE)({history:(0,V.LA)("/casestrainer/"),routes:Nt});const Ot=Mt;var Pt=n(6278),Dt=n(5492),Ut=(n(4423),n(4782),n(1699),n(8430));const Wt={namespaced:!0,state:{citations:[],filteredCitations:[],currentPage:1,itemsPerPage:10,totalItems:0,filters:{confidence:null,source:null,searchTerm:""},statistics:{total:0,highConfidence:0,mediumConfidence:0,lowConfidence:0}},mutations:{SET_CITATIONS:function(t,e){t.citations=e,t.totalItems=e.length},SET_FILTERED_CITATIONS:function(t,e){t.filteredCitations=e},SET_CURRENT_PAGE:function(t,e){t.currentPage=e},SET_FILTER:function(t,e){var n=e.type,i=e.value;t.filters[n]=i},SET_STATISTICS:function(t,e){t.statistics=e}},actions:{fetchCitations:function(t){return(0,_.A)((0,L.A)().mark((function e(){var n,i,a;return(0,L.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,i=t.dispatch,e.prev=1,n("SET_LOADING",!0,{root:!0}),e.next=5,Ut.A.getUnconfirmedCitations();case 5:a=e.sent,n("SET_CITATIONS",a.data),i("calculateStatistics"),i("applyFilters"),n("SET_LOADING",!1,{root:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()},applyFilters:function(t){var e=t.commit,n=t.state,i=n.filters,a=i.confidence,s=i.source,o=i.searchTerm,r=(0,Dt.A)(n.citations);a&&(r=r.filter((function(t){return"high"===a?t.confidence>=.7:"medium"===a?t.confidence>=.4&&t.confidence<.7:"low"!==a||t.confidence<.4}))),s&&(r=r.filter((function(t){return t.source&&t.source.toLowerCase().includes(s.toLowerCase())}))),o&&(r=r.filter((function(t){return t.citation_text&&t.citation_text.toLowerCase().includes(o.toLowerCase())||t.case_name&&t.case_name.toLowerCase().includes(o.toLowerCase())}))),e("SET_FILTERED_CITATIONS",r)},calculateStatistics:function(t){var e=t.commit,n=t.state,i={total:n.citations.length,highConfidence:n.citations.filter((function(t){return t.confidence>=.7})).length,mediumConfidence:n.citations.filter((function(t){return t.confidence>=.4&&t.confidence<.7})).length,lowConfidence:n.citations.filter((function(t){return t.confidence<.4})).length};e("SET_STATISTICS",i)},setFilter:function(t,e){var n=t.commit,i=t.dispatch,a=e.type,s=e.value;n("SET_FILTER",{type:a,value:s}),i("applyFilters")},setCurrentPage:function(t,e){var n=t.commit;n("SET_CURRENT_PAGE",e)}},getters:{paginatedCitations:function(t){var e=(t.currentPage-1)*t.itemsPerPage,n=e+t.itemsPerPage;return t.filteredCitations.slice(e,n)},totalPages:function(t){return Math.ceil(t.filteredCitations.length/t.itemsPerPage)}}};n(3418),n(1415),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);const zt={namespaced:!0,state:{citations:[],filteredCitations:[],currentPage:1,itemsPerPage:10,totalItems:0,filters:{verificationSource:null,confidence:null,searchTerm:""},statistics:{total:0,bySource:{}}},mutations:{SET_CITATIONS:function(t,e){t.citations=e,t.totalItems=e.length},SET_FILTERED_CITATIONS:function(t,e){t.filteredCitations=e},SET_CURRENT_PAGE:function(t,e){t.currentPage=e},SET_FILTER:function(t,e){var n=e.type,i=e.value;t.filters[n]=i},SET_STATISTICS:function(t,e){t.statistics=e}},actions:{fetchCitations:function(t){return(0,_.A)((0,L.A)().mark((function e(){var n,i,a;return(0,L.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,i=t.dispatch,e.prev=1,n("SET_LOADING",!0,{root:!0}),e.next=5,Ut.A.getMultitoolConfirmedCitations();case 5:a=e.sent,n("SET_CITATIONS",a.data.citations),i("calculateStatistics"),i("applyFilters"),n("SET_LOADING",!1,{root:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()},applyFilters:function(t){var e=t.commit,n=t.state,i=n.filters,a=i.verificationSource,s=i.confidence,o=i.searchTerm,r=(0,Dt.A)(n.citations);a&&(r=r.filter((function(t){return t.verification_source&&t.verification_source.toLowerCase().includes(a.toLowerCase())}))),s&&(r=r.filter((function(t){var e=t.verification_confidence||0;return"high"===s?e>=.9:"medium"===s?e>=.8&&e<.9:"low"!==s||e<.8}))),o&&(r=r.filter((function(t){return t.citation_text&&t.citation_text.toLowerCase().includes(o.toLowerCase())||t.context&&t.context.toLowerCase().includes(o.toLowerCase())}))),e("SET_FILTERED_CITATIONS",r)},calculateStatistics:function(t){var e=t.commit,n=t.state,i={};n.citations.forEach((function(t){var e=t.verification_source||"Unknown";i[e]=(i[e]||0)+1}));var a={total:n.citations.length,bySource:i};e("SET_STATISTICS",a)},setFilter:function(t,e){var n=t.commit,i=t.dispatch,a=e.type,s=e.value;n("SET_FILTER",{type:a,value:s}),i("applyFilters")},setCurrentPage:function(t,e){var n=t.commit;n("SET_CURRENT_PAGE",e)}},getters:{paginatedCitations:function(t){var e=(t.currentPage-1)*t.itemsPerPage,n=e+t.itemsPerPage;return t.filteredCitations.slice(e,n)},totalPages:function(t){return Math.ceil(t.filteredCitations.length/t.itemsPerPage)},verificationSources:function(t){var e=new Set;return t.citations.forEach((function(t){t.verification_source&&e.add(t.verification_source)})),Array.from(e)}}},Vt={namespaced:!0,state:{networkData:null,visualizationType:"force",filter:"all",depth:1,statistics:{nodes:0,edges:0,confirmedNodes:0,unconfirmedNodes:0,sourceDocuments:0}},mutations:{SET_NETWORK_DATA:function(t,e){t.networkData=e},SET_VISUALIZATION_TYPE:function(t,e){t.visualizationType=e},SET_FILTER:function(t,e){t.filter=e},SET_DEPTH:function(t,e){t.depth=e},SET_STATISTICS:function(t,e){t.statistics=e}},actions:{fetchNetworkData:function(t){return(0,_.A)((0,L.A)().mark((function e(){var n,i,a,s;return(0,L.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,i=t.dispatch,a=t.state,e.prev=1,n("SET_LOADING",!0,{root:!0}),e.next=5,Ut.A.getCitationNetworkData(a.filter,a.depth);case 5:return s=e.sent,n("SET_NETWORK_DATA",s.data),i("calculateStatistics"),n("SET_LOADING",!1,{root:!0}),e.abrupt("return",s.data);case 12:throw e.prev=12,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0}),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,12]])})))()},setVisualizationType:function(t,e){var n=t.commit;n("SET_VISUALIZATION_TYPE",e)},setFilter:function(t,e){var n=t.commit;n("SET_FILTER",e)},setDepth:function(t,e){var n=t.commit;n("SET_DEPTH",e)},calculateStatistics:function(t){var e=t.commit,n=t.state;if(n.networkData){var i=n.networkData.nodes||[],a=n.networkData.links||[],s=i.filter((function(t){return"confirmed"===t.status})).length,o=i.filter((function(t){return"unconfirmed"===t.status})).length,r=i.filter((function(t){return"source_document"===t.type})).length,l={nodes:i.length,edges:a.length,confirmedNodes:s,unconfirmedNodes:o,sourceDocuments:r};e("SET_STATISTICS",l)}}},getters:{nodesByType:function(t){return function(e){return t.networkData&&t.networkData.nodes?t.networkData.nodes.filter((function(t){return t.type===e})):[]}},nodesByStatus:function(t){return function(e){return t.networkData&&t.networkData.nodes?t.networkData.nodes.filter((function(t){return t.status===e})):[]}}}};var Bt=n(9201);n(2712),n(1688),n(3288),n(8237);const Qt={namespaced:!0,state:{classificationResult:null,batchResults:[],modelInfo:{accuracy:.95,precision:.92,recall:.93,lastTrained:null,trainingDataSize:650},citationInput:{text:"",caseName:""}},mutations:{SET_CLASSIFICATION_RESULT:function(t,e){t.classificationResult=e},SET_BATCH_RESULTS:function(t,e){t.batchResults=e},SET_CITATION_INPUT:function(t,e){var n=e.text,i=e.caseName;t.citationInput.text=n,t.citationInput.caseName=i||""},UPDATE_MODEL_INFO:function(t,e){t.modelInfo=(0,Bt.A)((0,Bt.A)({},t.modelInfo),e)},CLEAR_CLASSIFICATION_RESULT:function(t){t.classificationResult=null},CLEAR_BATCH_RESULTS:function(t){t.batchResults=[]}},actions:{classifyCitation:function(t){return(0,_.A)((0,L.A)().mark((function e(){var n,i,a;return(0,L.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,i=t.state,e.prev=1,n("SET_LOADING",!0,{root:!0}),e.next=5,Ut.A.classifyCitation(i.citationInput.text,i.citationInput.caseName||null);case 5:return a=e.sent,n("SET_CLASSIFICATION_RESULT",a.data),n("SET_LOADING",!1,{root:!0}),e.abrupt("return",a.data);case 11:throw e.prev=11,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},trainModel:function(t){return(0,_.A)((0,L.A)().mark((function e(){var n,i;return(0,L.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,n("SET_LOADING",!0,{root:!0}),e.next=5,Ut.A.trainMLClassifier();case 5:return i=e.sent,n("UPDATE_MODEL_INFO",(0,Bt.A)({lastTrained:(new Date).toISOString()},i.data.model_info)),n("SET_LOADING",!1,{root:!0}),e.abrupt("return",i.data);case 11:throw e.prev=11,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},processBatch:function(t,e){return(0,_.A)((0,L.A)().mark((function e(){var n;return(0,L.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,e.prev=1,n("SET_LOADING",!0,{root:!0}),setTimeout((function(){var t=[{citation:"347 U.S. 483",case_name:"Brown v. Board of Education",confidence:.98},{citation:"410 U.S. 113",case_name:"Roe v. Wade",confidence:.97},{citation:"384 U.S. 436",case_name:"Miranda v. Arizona",confidence:.95},{citation:"123 F.4d 456",case_name:"Smith v. Jones",confidence:.45},{citation:"789 P.3d 123",case_name:"Washington v. Oregon",confidence:.72}];n("SET_BATCH_RESULTS",t),n("SET_LOADING",!1,{root:!0})}),2e3),e.next=11;break;case 6:throw e.prev=6,e.t0=e["catch"](1),n("SET_ERROR",e.t0.message,{root:!0}),n("SET_LOADING",!1,{root:!0}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))()},setCitationInput:function(t,e){var n=t.commit,i=e.text,a=e.caseName;n("SET_CITATION_INPUT",{text:i,caseName:a})},clearClassificationResult:function(t){var e=t.commit;e("CLEAR_CLASSIFICATION_RESULT")},clearBatchResults:function(t){var e=t.commit;e("CLEAR_BATCH_RESULTS")}},getters:{confidenceBadgeClass:function(t){if(!t.classificationResult)return"";var e=t.classificationResult.confidence||0;return e>=.9?"bg-success":e>=.7?"bg-warning text-dark":"bg-danger"},predictionText:function(t){if(!t.classificationResult)return"";var e=t.classificationResult.confidence||0;return e>=.9?"Likely Real Citation":e>=.7?"Possibly Real Citation":"Likely Hallucinated Citation"},batchResultsSummary:function(t){var e=t.batchResults;if(!e.length)return null;var n=e.filter((function(t){return t.confidence>=.9})).length,i=e.filter((function(t){return t.confidence>=.7&&t.confidence<.9})).length,a=e.filter((function(t){return t.confidence<.7})).length;return{total:e.length,highConfidence:n,mediumConfidence:i,lowConfidence:a,avgConfidence:e.reduce((function(t,e){return t+e.confidence}),0)/e.length}}}},jt=(0,Pt.y$)({state:{loading:!1,error:null},mutations:{SET_LOADING:function(t,e){t.loading=e},SET_ERROR:function(t,e){t.error=e}},actions:{setLoading:function(t,e){var n=t.commit;n("SET_LOADING",e)},setError:function(t,e){var n=t.commit;n("SET_ERROR",e)}},modules:{unconfirmedCitations:Wt,multitoolConfirmed:zt,citationNetwork:Vt,mlClassifier:Qt}});n(8736);(0,i.Ef)(z).use(jt).use(Ot).mount("#app")},3300:(t,e,n)=>{n.d(e,{P:()=>i});n(8706),n(1629),n(6099),n(7495),n(5440);function i(t){if(!t)return"&nbsp;";var e=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");e=e.replace(/(\b[A-Z]\s*\.\s*\d+)(d|th|rd|nd|st)?\b/gi,(function(t,e,n){return n?"".concat(e,'<span class="reporter-suffix">').concat(n,"</span>"):t})),e=e.replace(/(\b[A-Z]\s*\.\s*)(\d+)(d|th|rd|nd|st)\b/gi,(function(t,e,n,i){return"".concat(e).concat(n,'<span class="reporter-suffix">').concat(i,"</span>")}));var n=[{regex:/(\b\d+\s+)(F\.?\s*)(\d+)(d|th|rd|nd|st)\b/gi,replace:'$1$2$3<span class="reporter-suffix">$4</span>'},{regex:/(\b\d+\s+U\.?\s*S\.?\s*)(\d+)\b/gi,replace:"$1$2"},{regex:/(\b\d+\s+S\.?\s*Ct\.?\s*)(\d+)\b/gi,replace:"$1$2"},{regex:/(\b\d+\s+L\.?\s*Ed\.?\s*)(\d+)\b/gi,replace:"$1$2"}];return n.forEach((function(t){e=e.replace(t.regex,t.replace)})),e}},3502:(t,e,n)=>{n.d(e,{A:()=>E});var i=n(641),a=n(33),s={class:"multitool-confirmed"},o={key:0,class:"text-center py-4"},r={key:1,class:"alert alert-danger"},l={key:2},c={class:"modal fade",id:"contextModal",tabindex:"-1","aria-labelledby":"contextModalLabel","aria-hidden":"true"},u={class:"modal-dialog modal-lg"},d={class:"modal-content"},f={class:"modal-body"},v={key:0},m={key:1};function g(t,e,n,g,p,k){var h=(0,i.g2)("ResultsViewer");return(0,i.uX)(),(0,i.CE)("div",s,[p.loading?((0,i.uX)(),(0,i.CE)("div",o,e[0]||(e[0]=[(0,i.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,i.Lk)("span",{class:"visually-hidden"},"Loading...")],-1),(0,i.Lk)("p",{class:"mt-2"},"Loading citations...",-1)]))):p.error?((0,i.uX)(),(0,i.CE)("div",r,[e[1]||(e[1]=(0,i.Lk)("h5",null,"Error",-1)),(0,i.Lk)("p",null,(0,a.v_)(p.error),1)])):((0,i.uX)(),(0,i.CE)("div",l,[(0,i.bF)(h,{results:k.transformedResults},null,8,["results"])])),(0,i.Lk)("div",c,[(0,i.Lk)("div",u,[(0,i.Lk)("div",d,[e[2]||(e[2]=(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title",id:"contextModalLabel"},"Citation Context"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),(0,i.Lk)("div",f,[p.currentContext?((0,i.uX)(),(0,i.CE)("pre",v,(0,a.v_)(p.currentContext),1)):((0,i.uX)(),(0,i.CE)("div",m,"No context available."))]),e[3]||(e[3]=(0,i.Lk)("div",{class:"modal-footer"},[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])])])}var p=n(4048),k=n(388),h=(n(2062),n(8111),n(1701),n(6099),n(2505)),b=n.n(h),C=n(454),y=n(3603);const L={name:"MultitoolConfirmed",components:{ResultsViewer:y.A},data:function(){return{citations:[],loading:!0,error:null,currentContext:null,contextModal:null}},computed:{transformedResults:function(){return{validation_results:this.citations.map((function(t){return{citation:t.citation_text,case_name:t.case_name||"Unknown",verified:!0,validation_method:"Multi-tool",metadata:{explanation:"Verified using multiple sources",source:t.source,volume:t.volume,reporter:t.reporter,page:t.page,court:t.court,year:t.year,confidence:t.confidence?Math.round(100*t.confidence)+"%":null,url:t.url}}})),confirmedCount:this.citations.length,totalCitations:this.citations.length}}},methods:{fetchCitations:function(){var t=this;return(0,k.A)((0,p.A)().mark((function e(){var n;return(0,p.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.error=null,e.prev=2,e.next=5,b().get("/api/citations/multitool-confirmed");case 5:n=e.sent,t.citations=n.data.citations||[],e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.error("Error fetching multitool confirmed citations:",e.t0),t.error="Failed to load citations. Please try again later.";case 13:return e.prev=13,t.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})))()},showContext:function(t){this.currentContext=t.context||"No context available.",this.contextModal||(this.contextModal=new C.aF(document.getElementById("contextModal"))),this.contextModal.show()}},mounted:function(){this.fetchCitations()}};var _=n(6262);const w=(0,_.A)(L,[["render",g],["__scopeId","data-v-558d4b90"]]),E=w},3603:(t,e,n)=>{n.d(e,{A:()=>R});n(2675),n(9463);var i=n(641),a=n(33),s={class:"results-viewer"},o={class:"d-flex justify-content-between align-items-center mb-3"},r={class:"view-title"},l={class:"mb-0"},c={key:0,class:"badge bg-primary ms-2"},u={class:"text-muted"},d={class:"btn-group",role:"group","aria-label":"View mode"},f=["onClick","title"],v={class:"view-container"},m={class:"modal fade",id:"viewInfoModal",tabindex:"-1","aria-hidden":"true"},g={class:"modal-dialog"},p={class:"modal-content"},k={class:"modal-header"},h={class:"modal-title"},b={class:"modal-body"},C={key:0,class:"alert alert-info"};function y(t,e,n,y,L,_){var w=(0,i.g2)("CitationResults"),E=(0,i.g2)("ReusableResults");return(0,i.uX)(),(0,i.CE)("div",s,[(0,i.Lk)("div",o,[(0,i.Lk)("div",r,[(0,i.Lk)("h5",l,[(0,i.Lk)("i",{class:(0,a.C4)(["fas",y.viewIcon])},null,2),(0,i.eW)(" "+(0,a.v_)(y.viewTitle)+" ",1),y.isNewView?((0,i.uX)(),(0,i.CE)("span",c,"New")):(0,i.Q3)("",!0)]),(0,i.Lk)("small",u,(0,a.v_)(y.viewDescription),1)]),(0,i.Lk)("div",d,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(y.viewModes,(function(t){return(0,i.uX)(),(0,i.CE)("button",{key:t.id,class:(0,a.C4)(["btn",y.getButtonClass(t.id)]),onClick:function(e){return y.setViewMode(t.id)},title:t.description,"data-bs-toggle":"tooltip","data-bs-placement":"bottom"},[(0,i.Lk)("i",{class:(0,a.C4)(t.icon)},null,2),(0,i.eW)(" "+(0,a.v_)(t.label),1)],10,f)})),128))])]),(0,i.Lk)("div",v,["citation"===y.viewMode?((0,i.uX)(),(0,i.Wv)(w,{key:0,results:n.results},null,8,["results"])):((0,i.uX)(),(0,i.Wv)(E,{key:1,results:n.results},null,8,["results"]))]),(0,i.Lk)("div",m,[(0,i.Lk)("div",g,[(0,i.Lk)("div",p,[(0,i.Lk)("div",k,[(0,i.Lk)("h5",h,[(0,i.Lk)("i",{class:(0,a.C4)(y.currentView.icon)},null,2),(0,i.eW)(" "+(0,a.v_)(y.currentView.label)+" View ",1)]),e[0]||(e[0]=(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,i.Lk)("div",b,[(0,i.Lk)("p",null,(0,a.v_)(y.currentView.description),1),"citation"===y.currentView.id?((0,i.uX)(),(0,i.CE)("div",C,e[1]||(e[1]=[(0,i.Lk)("i",{class:"fas fa-info-circle me-2"},null,-1),(0,i.eW)(" Try the new Citation View and provide feedback! ")]))):(0,i.Q3)("",!0)]),e[2]||(e[2]=(0,i.Lk)("div",{class:"modal-footer"},[(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])])])}n(1629),n(3418),n(4423),n(2062),n(8111),n(7588),n(1701),n(9432),n(6099),n(6034),n(1699),n(7764),n(3500);var L=n(953),_=n(454),w=n(6753),E=n(6118),x="caseStrainerResultsView",A={reusable:{id:"reusable",label:"Classic",icon:"fas fa-table",description:"Original view with detailed citation analysis",isNew:!1},citation:{id:"citation",label:"Citation",icon:"fas fa-list-check",description:"New streamlined view focusing on citation verification",isNew:!0}};const T={name:"ResultsViewer",components:{CitationResults:w.A,ReusableResults:E.A},props:{results:{type:Object,required:!0},defaultView:{type:String,default:"citation",validator:function(t){return Object.keys(A).includes(t)}}},setup:function(t){var e=(0,L.KR)(t.defaultView),n=[],a=function(){try{var t=localStorage.getItem(x);t&&A[t]&&(e.value=t)}catch(n){console.warn("Failed to load view preference:",n)}},s=function(t){try{localStorage.setItem(x,t)}catch(e){console.warn("Failed to save view preference:",e)}},o=function(t){e.value!==t&&(e.value=t,s(t),r(t))},r=function(t){if("citation"===t){var e=document.getElementById("viewInfoModal");if(e){var n=new _.aF(e);n.show()}}},l=(0,i.EW)((function(){return A[e.value]||A.reusable})),c=(0,i.EW)((function(){return Object.values(A)})),u=(0,i.EW)((function(){return l.value.isNew})),d=(0,i.EW)((function(){return"".concat(l.value.label," View")})),f=(0,i.EW)((function(){return l.value.icon})),v=(0,i.EW)((function(){return l.value.description})),m=function(t){return{"btn-outline-primary":e.value===t,"btn-outline-secondary":e.value!==t,"position-relative":A[t].isNew}},g=function(){n=Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(t){return new _.m_(t)}))},p=function(){n.forEach((function(t){return t.dispose()})),n=[]};return(0,i.sV)((function(){a(),g();var t=sessionStorage.getItem("hasSeenCitationInfo");"citation"!==e.value||t||(r("citation"),sessionStorage.setItem("hasSeenCitationInfo","true"))})),{viewMode:e,viewModes:c,currentView:l,isNewView:u,viewTitle:d,viewIcon:f,viewDescription:v,setViewMode:o,getButtonClass:m,initTooltips:g,destroyTooltips:p}},beforeUnmount:function(){this.destroyTooltips()},updated:function(){this.initTooltips()}};var S=n(6262);const I=(0,S.A)(T,[["render",y],["__scopeId","data-v-52adb9f3"]]),R=I},5016:(t,e,n)=>{n.d(e,{A:()=>U});n(2008),n(2010),n(8111),n(2489),n(6099),n(7495),n(5440);var i=n(641),a=n(33),s={class:"enhanced-file-upload"},o={class:"card"},r={class:"card-body"},l={class:"mb-3"},c={key:0,class:"mb-3"},u={class:"alert alert-info"},d=["disabled"],f={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},v={key:0,class:"mt-4"},m={class:"nav nav-tabs mb-3",id:"citationTabs",role:"tablist"},g={class:"nav-item",role:"presentation"},p={class:"nav-link active",id:"confirmed-tab","data-bs-toggle":"tab","data-bs-target":"#confirmed",type:"button",role:"tab","aria-controls":"confirmed","aria-selected":"true"},k={class:"nav-item",role:"presentation"},h={class:"nav-link",id:"unconfirmed-tab","data-bs-toggle":"tab","data-bs-target":"#unconfirmed",type:"button",role:"tab","aria-controls":"unconfirmed","aria-selected":"false"},b={class:"tab-content",id:"citationTabsContent"},C={class:"tab-pane fade show active",id:"confirmed",role:"tabpanel","aria-labelledby":"confirmed-tab"},y={class:"table-responsive"},L={class:"table table-striped table-hover"},_=["innerHTML"],w={key:1},E={class:"tab-pane fade",id:"unconfirmed",role:"tabpanel","aria-labelledby":"unconfirmed-tab"},x={class:"table-responsive"},A={class:"table table-striped table-hover"},T=["innerHTML"],S={key:1};function I(t,e,n,I,R,F){var X=(0,i.g2)("ProgressBar"),N=(0,i.g2)("ResultsViewer");return(0,i.uX)(),(0,i.CE)("div",s,[(0,i.Lk)("div",o,[e[5]||(e[5]=(0,i.Lk)("div",{class:"bg-primary text-white p-3 rounded-top"},[(0,i.Lk)("h5",{class:"mb-0"},"Upload Document")],-1)),(0,i.Lk)("div",r,[(0,i.Lk)("div",l,[e[2]||(e[2]=(0,i.Lk)("label",{for:"enhancedFileUpload",class:"form-label"},"Select a file to analyze for citations",-1)),(0,i.Lk)("input",{class:"form-control",type:"file",id:"enhancedFileUpload",ref:"fileUpload",onChange:e[0]||(e[0]=function(){return F.handleFileChange&&F.handleFileChange.apply(F,arguments)}),accept:".pdf,.docx,.txt,.rtf,.doc,.html,.htm"},null,544),e[3]||(e[3]=(0,i.Lk)("div",{class:"form-text"},"Supported formats: PDF, DOCX, TXT, RTF, DOC, HTML",-1))]),R.file?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("div",u,[e[4]||(e[4]=(0,i.Lk)("strong",null,"Selected file:",-1)),(0,i.eW)(" "+(0,a.v_)(R.file.name)+" ("+(0,a.v_)(F.formatFileSize(R.file.size))+") ",1)])])):(0,i.Q3)("",!0),(0,i.bF)(X,{loading:R.isAnalyzing,message:"Analyzing..."},null,8,["loading"]),(0,i.Lk)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return F.analyzeDocument&&F.analyzeDocument.apply(F,arguments)}),disabled:!R.file||R.isAnalyzing},[R.isAnalyzing?((0,i.uX)(),(0,i.CE)("span",f)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,a.v_)(R.isAnalyzing?"Analyzing...":"Analyze Citations"),1)],8,d)])]),R.documentAnalysisResult?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.bF)(N,{results:R.documentAnalysisResult},null,8,["results"]),(0,i.Lk)("ul",m,[(0,i.Lk)("li",g,[(0,i.Lk)("button",p," Confirmed ("+(0,a.v_)(F.confirmedCount)+") ",1)]),(0,i.Lk)("li",k,[(0,i.Lk)("button",h," Unconfirmed ("+(0,a.v_)(F.unconfirmedCount)+") ",1)])]),(0,i.Lk)("div",b,[(0,i.Lk)("div",C,[(0,i.Lk)("div",y,[(0,i.Lk)("table",L,[e[7]||(e[7]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Status"),(0,i.Lk)("th",null,"Validation Method"),(0,i.Lk)("th",null,"Case Name")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((R.documentAnalysisResult.validation_results||[]).filter((function(t){return t.verified})),(function(t,n){return(0,i.uX)(),(0,i.CE)("tr",{key:n},[(0,i.Lk)("td",{innerHTML:t.citation.replace(/</g,"<").replace(/>/g,">")},null,8,_),e[6]||(e[6]=(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:"badge bg-success"},"Verified")],-1)),(0,i.Lk)("td",null,[t.validation_method?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,a.C4)(["badge",F.getBadgeClass(t.validation_method)])},(0,a.v_)(t.validation_method),3)):((0,i.uX)(),(0,i.CE)("span",w,"-"))]),(0,i.Lk)("td",null,(0,a.v_)(t.case_name||"-"),1)])})),128))])])])]),(0,i.Lk)("div",E,[(0,i.Lk)("div",x,[(0,i.Lk)("table",A,[e[9]||(e[9]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Status"),(0,i.Lk)("th",null,"Validation Method"),(0,i.Lk)("th",null,"Case Name")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((R.documentAnalysisResult.validation_results||[]).filter((function(t){return!t.verified})),(function(t,n){return(0,i.uX)(),(0,i.CE)("tr",{key:n},[(0,i.Lk)("td",{innerHTML:t.citation.replace(/</g,"<").replace(/>/g,">")},null,8,T),e[8]||(e[8]=(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:"badge bg-danger"},"Not Verified")],-1)),(0,i.Lk)("td",null,[t.validation_method?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,a.C4)(["badge",F.getBadgeClass(t.validation_method)])},(0,a.v_)(t.validation_method),3)):((0,i.uX)(),(0,i.CE)("span",S,"-"))]),(0,i.Lk)("td",null,(0,a.v_)(t.case_name||"-"),1)])})),128))])])])])])])):(0,i.Q3)("",!0)])}n(4423),n(4114),n(739),n(3110),n(9868),n(8459),n(1699);var R=n(2505),F=n.n(R),X=n(3300),N=n(5023),M=n(3603);const O={name:"EnhancedFileUpload",components:{ProgressBar:N.A,ResultsViewer:M.A},data:function(){return{file:null,isAnalyzing:!1,documentAnalysisResult:null,error:null,debugInfo:""}},computed:{confirmedCount:function(){return this.documentAnalysisResult&&this.documentAnalysisResult.validation_results?this.documentAnalysisResult.validation_results.filter((function(t){return t.verified})).length:0},unconfirmedCount:function(){return this.documentAnalysisResult&&this.documentAnalysisResult.validation_results?this.documentAnalysisResult.validation_results.filter((function(t){return!t.verified})).length:0},basePath:function(){var t=window.location.pathname;return t.includes("/casestrainer/")?"/casestrainer":""}},methods:{formatCitation:X.P,handleFileChange:function(t){this.file=t.target.files[0],this.documentAnalysisResult=null},formatFileSize:function(t){if(0===t)return"0 Bytes";var e=1024,n=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,i)).toFixed(2))+" "+n[i]},analyzeDocument:function(){var t=this;if(this.file){this.isAnalyzing=!0,this.documentAnalysisResult=null,this.debugInfo="Debug: Starting file analysis...\n",this.debugInfo+="Request to /casestrainer/api/analyze: [File data]\n";var e=new FormData;e.append("file",this.file),e.append("debug_info",this.debugInfo),F().post("/casestrainer/api/analyze",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.debugInfo+="Response received: Processing data...\n",t.debugInfo+="Success: ".concat(JSON.stringify(e.data,null,2),"\n"),t.documentAnalysisResult=e.data}))["catch"]((function(e){var n;alert("Error analyzing document: ".concat((null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||e.message||"Unknown error")),t.debugInfo+="Error: ".concat(e.message,"\n"),e.response&&(t.debugInfo+="Response status: ".concat(e.response.status,"\n"),t.debugInfo+="Response data: ".concat(JSON.stringify(e.response.data,null,2),"\n"))}))["finally"]((function(){t.isAnalyzing=!1}))}else alert("Please select a file to upload")},getBadgeClass:function(t){switch(t){case"Landmark":return"bg-primary";case"CourtListener":return"bg-success";case"Multitool":return"bg-info";case"Other":return"bg-secondary";default:return"bg-dark"}},viewConfirmedCitations:function(){this.$router.push("/unconfirmed-citations?filter=confirmed")},viewUnconfirmedCitations:function(){this.$router.push("/unconfirmed-citations?filter=unconfirmed")}}};var P=n(6262);const D=(0,P.A)(O,[["render",I],["__scopeId","data-v-827574aa"]]),U=D},5023:(t,e,n)=>{n.d(e,{A:()=>f});var i=n(641),a=n(33),s={key:0,class:"mb-3"},o={class:"progress"},r={class:"progress-bar progress-bar-striped progress-bar-animated bg-info",role:"progressbar",style:{width:"100%"}};function l(t,e,n,l,c,u){return n.loading?((0,i.uX)(),(0,i.CE)("div",s,[(0,i.Lk)("div",o,[(0,i.Lk)("div",r,(0,a.v_)(n.message),1)])])):(0,i.Q3)("",!0)}const c={name:"ProgressBar",props:{loading:{type:Boolean,required:!0},message:{type:String,default:"Loading..."}}};var u=n(6262);const d=(0,u.A)(c,[["render",l],["__scopeId","data-v-0296b6d4"]]),f=d},6118:(t,e,n)=>{n.d(e,{A:()=>B});var i=n(641),a=n(33),s={key:0},o={key:0,class:"alert alert-warning"},r={class:"card mt-4"},l={class:"card-body"},c={class:"alert alert-success mb-3"},u={class:"mt-3"},d={class:"list-group"},f={class:"list-group-item d-flex justify-content-between align-items-center"},v={class:"badge bg-success rounded-pill"},m={key:0,class:"list-group-item d-flex justify-content-between align-items-center"},g={class:"badge bg-danger rounded-pill"},p={key:1,class:"list-group-item d-flex justify-content-between align-items-center"},k={class:"badge bg-info rounded-pill"},h={class:"nav nav-tabs mt-4",role:"tablist"},b={class:"nav-item",role:"presentation"},C={class:"nav-item",role:"presentation"},y={key:0,class:"badge bg-warning text-dark ms-1"},L={class:"tab-content mt-3"},_={key:0},w={class:"table-responsive"},E={class:"table table-striped table-hover"},x=["innerHTML"],A={key:0},T={key:1},S={key:0},I={key:1},R={key:1,class:"alert alert-info"},F={key:0},X={class:"table-responsive"},N={class:"table table-striped table-hover"},M={class:"badge bg-warning text-dark"},O={class:"mb-0"},P={key:1,class:"alert alert-info"};function D(t,e,n,D,U,W){return n.results?((0,i.uX)(),(0,i.CE)("div",s,[W.hasTechnicalError?((0,i.uX)(),(0,i.CE)("div",o,e[2]||(e[2]=[(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1),(0,i.eW)(" Some citations could not be verified due to technical issues (such as a timeout or service error). Please try again later or contact support if the problem persists. ")]))):(0,i.Q3)("",!0),(0,i.Lk)("div",r,[e[15]||(e[15]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",null,"Analysis Results")],-1)),(0,i.Lk)("div",l,[(0,i.Lk)("div",c,[e[3]||(e[3]=(0,i.Lk)("h5",null,"Analysis complete!",-1)),(0,i.Lk)("p",null,"Found "+(0,a.v_)(n.results.totalCitations||n.results.citations_count)+" citations.",1)]),(0,i.Lk)("div",u,[e[7]||(e[7]=(0,i.Lk)("h6",null,"Citation Summary:",-1)),(0,i.Lk)("ul",d,[(0,i.Lk)("li",f,[e[4]||(e[4]=(0,i.eW)(" Confirmed Citations ")),(0,i.Lk)("span",v,(0,a.v_)(n.results.confirmedCount||n.results.confirmed_count),1)]),n.results.unconfirmedCount||n.results.unconfirmed_count?((0,i.uX)(),(0,i.CE)("li",m,[e[5]||(e[5]=(0,i.eW)(" Unconfirmed Citations ")),(0,i.Lk)("span",g,(0,a.v_)(n.results.unconfirmedCount||n.results.unconfirmed_count),1)])):(0,i.Q3)("",!0),n.results.multitoolCount||n.results.multitool_count?((0,i.uX)(),(0,i.CE)("li",p,[e[6]||(e[6]=(0,i.eW)(" Verified with Multi-tool ")),(0,i.Lk)("span",k,(0,a.v_)(n.results.multitoolCount||n.results.multitool_count),1)])):(0,i.Q3)("",!0)])]),(0,i.Lk)("ul",h,[(0,i.Lk)("li",b,[(0,i.Lk)("button",{class:(0,a.C4)(["nav-link",{active:"citations"===U.activeTab}]),onClick:e[0]||(e[0]=function(t){return U.activeTab="citations"}),type:"button"},"Citations Found",2)]),(0,i.Lk)("li",C,[(0,i.Lk)("button",{class:(0,a.C4)(["nav-link",{active:"unlikely"===U.activeTab}]),onClick:e[1]||(e[1]=function(t){return U.activeTab="unlikely"}),type:"button"},[e[8]||(e[8]=(0,i.eW)(" Unlikely Citations ")),n.results.unlikely_citations&&n.results.unlikely_citations.length?((0,i.uX)(),(0,i.CE)("span",y,(0,a.v_)(n.results.unlikely_citations.length),1)):(0,i.Q3)("",!0)],2)])]),(0,i.Lk)("div",L,[(0,i.Lk)("div",{class:(0,a.C4)(["tab-pane fade",{show:"citations"===U.activeTab,active:"citations"===U.activeTab}])},[n.results.validation_results&&n.results.validation_results.length?((0,i.uX)(),(0,i.CE)("div",_,[e[12]||(e[12]=(0,i.Lk)("h6",null,"Citations Found:",-1)),(0,i.Lk)("div",w,[(0,i.Lk)("table",E,[e[11]||(e[11]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Status"),(0,i.Lk)("th",null,"Validation Method"),(0,i.Lk)("th",null,"Case Name"),(0,i.Lk)("th",null,"Error")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.results.validation_results,(function(t,n){return(0,i.uX)(),(0,i.CE)("tr",{key:"citation-"+n},[(0,i.Lk)("td",{innerHTML:t.citation?W.formatCitation(t.citation):" "},null,8,x),(0,i.Lk)("td",null,[t.metadata&&t.metadata.explanation?((0,i.uX)(),(0,i.CE)("span",A,[e[9]||(e[9]=(0,i.Lk)("i",{class:"fas fa-exclamation-triangle text-warning me-1"},null,-1)),(0,i.eW)(" "+(0,a.v_)(t.metadata.explanation),1)])):((0,i.uX)(),(0,i.CE)("span",{key:1,class:(0,a.C4)(["badge",t.verified?"bg-success":"bg-danger"])},(0,a.v_)(t.verified?"Verified":"Not Verified"),3))]),(0,i.Lk)("td",null,[t.validation_method?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,a.C4)(["badge",W.getBadgeClass(t.validation_method)])},(0,a.v_)(t.validation_method),3)):((0,i.uX)(),(0,i.CE)("span",T,"-"))]),(0,i.Lk)("td",null,(0,a.v_)(t.case_name||"-"),1),(0,i.Lk)("td",null,[t.metadata&&t.metadata.explanation?((0,i.uX)(),(0,i.CE)("span",S,[e[10]||(e[10]=(0,i.Lk)("i",{class:"fas fa-exclamation-triangle text-warning me-1"},null,-1)),(0,i.eW)(" "+(0,a.v_)(t.metadata.explanation),1)])):((0,i.uX)(),(0,i.CE)("span",I,"-"))])])})),128))])])])])):((0,i.uX)(),(0,i.CE)("div",R,"No citations found."))],2),(0,i.Lk)("div",{class:(0,a.C4)(["tab-pane fade",{show:"unlikely"===U.activeTab,active:"unlikely"===U.activeTab}])},[n.results.unlikely_citations&&n.results.unlikely_citations.length?((0,i.uX)(),(0,i.CE)("div",F,[e[14]||(e[14]=(0,i.Lk)("h6",null,"Unlikely Citations (Artifacts or Invalid):",-1)),(0,i.Lk)("div",X,[(0,i.Lk)("table",N,[e[13]||(e[13]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation Text"),(0,i.Lk)("th",null,"Reason"),(0,i.Lk)("th",null,"Metadata")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.results.unlikely_citations,(function(t,e){return(0,i.uX)(),(0,i.CE)("tr",{key:"unlikely-"+e},[(0,i.Lk)("td",null,(0,a.v_)(t.citation_text),1),(0,i.Lk)("td",null,[(0,i.Lk)("span",M,(0,a.v_)(t.metadata&&t.metadata.invalid_reason?t.metadata.invalid_reason:"Unknown"),1)]),(0,i.Lk)("td",null,[(0,i.Lk)("pre",O,(0,a.v_)(t.metadata),1)])])})),128))])])])])):((0,i.uX)(),(0,i.CE)("div",P,"No unlikely citations detected."))],2)])])])])):(0,i.Q3)("",!0)}n(4423),n(4346),n(5086),n(8111),n(3579),n(6099),n(1699);var U=n(3300);const W={name:"ReusableResults",props:{results:{type:Object,required:!0}},data:function(){return{activeTab:"citations"}},computed:{hasTechnicalError:function(){return!(!this.results||!Array.isArray(this.results.validation_results))&&this.results.validation_results.some((function(t){return t.metadata&&t.metadata.explanation&&t.metadata.explanation.toLowerCase().includes("technical error")}))}},methods:{formatCitation:U.P,getBadgeClass:function(t){if(!t)return"bg-secondary";var e={CourtListener:"bg-primary",Eyecite:"bg-info",Regex:"bg-secondary",Multitool:"bg-info"};return e[t]||"bg-secondary"}}};var z=n(6262);const V=(0,z.A)(W,[["render",D],["__scopeId","data-v-11d58c24"]]),B=V},6131:(t,e,n)=>{n.d(e,{A:()=>y});var i=n(641),a=n(3751),s=n(33),o={class:"enhanced-text-paste"},r={class:"card"},l={class:"card-body"},c={class:"mb-3"},u=["disabled"],d={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},f={key:0,class:"mt-4"};function v(t,e,n,v,m,g){var p=(0,i.g2)("ResultsViewer");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("div",r,[e[3]||(e[3]=(0,i.Lk)("div",{class:"bg-primary text-white p-3 rounded-top"},[(0,i.Lk)("h5",{class:"mb-0"},"Paste Text")],-1)),(0,i.Lk)("div",l,[(0,i.Lk)("div",c,[e[2]||(e[2]=(0,i.Lk)("label",{for:"textInput",class:"form-label"},"Paste legal text to analyze for citations",-1)),(0,i.bo)((0,i.Lk)("textarea",{class:"form-control",id:"textInput","onUpdate:modelValue":e[0]||(e[0]=function(t){return m.pastedText=t}),rows:"10",placeholder:"Paste your legal document text here..."},null,512),[[a.Jo,m.pastedText]])]),(0,i.Lk)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return g.analyzeText&&g.analyzeText.apply(g,arguments)}),disabled:m.isAnalyzing||!m.pastedText},[m.isAnalyzing?((0,i.uX)(),(0,i.CE)("span",d)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,s.v_)(m.isAnalyzing?"Analyzing...":"Analyze Citations"),1)],8,u)])]),m.textAnalysisResult?((0,i.uX)(),(0,i.CE)("div",f,[(0,i.bF)(p,{results:m.textAnalysisResult},null,8,["results"])])):(0,i.Q3)("",!0)])}n(8706),n(2008),n(4423),n(4114),n(739),n(8111),n(2489),n(3110),n(6099),n(1699);var m=n(2505),g=n.n(m),p=n(5023),k=n(3603);const h={name:"EnhancedTextPaste",components:{ProgressBar:p.A,ResultsViewer:k.A},data:function(){return{pastedText:"",isAnalyzing:!1,textAnalysisResult:null,error:null,debugInfo:""}},computed:{confirmedCount:function(){return this.textAnalysisResult&&this.textAnalysisResult.validation_results?this.textAnalysisResult.validation_results.filter((function(t){return t.verified})).length:0},unconfirmedCount:function(){return this.textAnalysisResult&&this.textAnalysisResult.validation_results?this.textAnalysisResult.validation_results.filter((function(t){return!t.verified})).length:0},basePath:function(){var t=window.location.pathname;return t.includes("/casestrainer/")?"/casestrainer":""}},methods:{analyzeText:function(){var t=this;this.pastedText?(this.isAnalyzing=!0,this.textAnalysisResult=null,this.debugInfo="Debug: Starting text analysis...\n",this.debugInfo+="Request to ".concat(this.basePath,"/api/analyze: [Text data]\n"),g().post("".concat(this.basePath,"/api/analyze"),{text:this.pastedText}).then((function(e){t.debugInfo+="Response received: Processing data...\n";var n=JSON.stringify(e.data,null,2);t.debugInfo+="Success: ".concat(n.substring(0,500)).concat(n.length>500?"... [truncated]":"","\n"),t.textAnalysisResult=e.data}))["catch"]((function(e){var n;alert("Error analyzing text: ".concat((null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||e.message||"Unknown error")),t.debugInfo+="Error: ".concat(e.message,"\n"),e.response&&(t.debugInfo+="Response status: ".concat(e.response.status,"\n"),t.debugInfo+="Response data: ".concat(JSON.stringify(e.response.data,null,2),"\n"))}))["finally"]((function(){t.isAnalyzing=!1}))):alert("Please paste some text to analyze")},getBadgeClass:function(t){switch(t){case"Landmark":return"bg-primary";case"CourtListener":return"bg-success";case"Multitool":return"bg-info";case"Other":return"bg-secondary";default:return"bg-dark"}},viewConfirmedCitations:function(){this.$router.push("/unconfirmed-citations?filter=confirmed")},viewUnconfirmedCitations:function(){this.$router.push("/unconfirmed-citations?filter=unconfirmed")}}};var b=n(6262);const C=(0,b.A)(h,[["render",v],["__scopeId","data-v-df52d4d0"]]),y=C},6753:(t,e,n)=>{n.d(e,{A:()=>Qt});var i=n(641),a=n(33),s=n(3751),o={class:"citation-results"},r={key:0,class:"mb-3"},l={key:1,class:"alert alert-warning"},c={key:2,class:"alert alert-warning"},u={key:3},d={class:"card mt-4"},f={class:"card-body"},v={class:"alert alert-success mb-3"},m={class:"mt-3"},g={class:"list-group"},p={class:"list-group-item d-flex justify-content-between align-items-center"},k={class:"badge bg-success rounded-pill"},h={key:0,class:"list-group-item d-flex justify-content-between align-items-center"},b={class:"badge bg-warning rounded-pill text-dark"},C={key:1,class:"list-group-item d-flex justify-content-between align-items-center"},y={class:"badge bg-info rounded-pill"},L={class:"d-flex flex-column"},_={class:"d-flex justify-content-between align-items-center mb-2"},w={class:"mb-0"},E={key:0,class:"ms-2"},x={class:"badge bg-success"},A={key:1,class:"ms-2"},T={class:"badge bg-warning text-dark"},S={key:2,class:"ms-2"},I={class:"badge bg-danger"},R={class:"nav nav-tabs mb-4",role:"tablist"},F={class:"nav-item",role:"presentation"},X={class:"badge bg-success ms-2"},N={class:"nav-item",role:"presentation"},M={class:"badge bg-warning text-dark ms-2"},O={class:"nav-item",role:"presentation"},P={key:0,class:"badge bg-danger ms-2"},D={class:"tab-content mt-3"},U={key:0,class:"table-responsive"},W={class:"table table-striped table-hover"},z=["onClick"],V=["onClick"],B={key:1,class:"alert alert-info"},Q={key:0,class:"table-responsive"},j={class:"table table-striped table-hover"},G=["onClick"],H={key:1,class:"alert alert-info"},$={class:"tab-pane fade"},K={key:0,class:"table-responsive"},q={class:"table table-striped table-hover"},J=["onClick"],Y=["onClick"],Z={key:1,class:"alert alert-info"},tt={class:"tab-pane fade"},et={key:0,class:"table-responsive"},nt={class:"table table-striped table-hover"},it=["innerHTML"],at={key:0,class:"text-danger small"},st={key:1},ot={key:1,class:"alert alert-info"},rt={class:"tab-pane fade"},lt={key:0,class:"table-responsive"},ct={class:"table table-striped table-hover"},ut={class:"badge bg-danger"},dt={key:0,class:"small text-muted"},ft={key:1,class:"alert alert-info"},vt={class:"modal fade",id:"citationDetailsModal",tabindex:"-1"},mt={class:"modal-dialog modal-lg"},gt={class:"modal-content"},pt={key:0,class:"modal-body"},kt={class:"row"},ht={class:"col-md-6"},bt={class:"col-md-6"},Ct={key:0},yt={key:1},Lt={key:2},_t={key:3},wt={key:4},Et={key:0,class:"mt-3"},xt={class:"list-group"},At={class:"modal fade",id:"citationSuggestionsModal",tabindex:"-1"},Tt={class:"modal-dialog modal-lg"},St={class:"modal-content"},It={key:0,class:"modal-body"},Rt={key:0},Ft={class:"card-body"},Xt={class:"card-title"},Nt={class:"card-text"},Mt={key:0,class:"mt-2"},Ot={key:1,class:"alert alert-info"};function Pt(t,e,n,Pt,Dt,Ut){return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",o,[Dt.loading?((0,i.uX)(),(0,i.CE)("div",r,e[3]||(e[3]=[(0,i.Lk)("div",{class:"progress"},[(0,i.Lk)("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-info",role:"progressbar",style:{width:"100%"}}," Loading citation results... ")],-1)]))):(0,i.Q3)("",!0),Ut.hasTechnicalError?((0,i.uX)(),(0,i.CE)("div",l,e[4]||(e[4]=[(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1),(0,i.eW)(" Some citations could not be verified due to technical issues (such as a timeout or service error). Please try again later or contact support if the problem persists. ")]))):(0,i.Q3)("",!0),t.isValidResults?((0,i.uX)(),(0,i.CE)("div",u,[(0,i.Lk)("div",d,[e[11]||(e[11]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h5",null,"Analysis Results")],-1)),(0,i.Lk)("div",f,[(0,i.Lk)("div",v,[e[6]||(e[6]=(0,i.Lk)("h5",null,"Analysis complete!",-1)),(0,i.Lk)("p",null,"Found "+(0,a.v_)(Ut.totalCitations)+" citations.",1)]),(0,i.Lk)("div",m,[e[10]||(e[10]=(0,i.Lk)("h6",null,"Citation Summary:",-1)),(0,i.Lk)("ul",g,[(0,i.Lk)("li",p,[e[7]||(e[7]=(0,i.eW)(" Confirmed Citations ")),(0,i.Lk)("span",k,(0,a.v_)(Ut.verifiedCount),1)]),Ut.unverifiedCount>0?((0,i.uX)(),(0,i.CE)("li",h,[e[8]||(e[8]=(0,i.eW)(" Unconfirmed Citations ")),(0,i.Lk)("span",b,(0,a.v_)(Ut.unverifiedCount),1)])):(0,i.Q3)("",!0),Ut.multitoolCount>0?((0,i.uX)(),(0,i.CE)("li",C,[e[9]||(e[9]=(0,i.eW)(" Verified with Multi-tool ")),(0,i.Lk)("span",y,(0,a.v_)(Ut.multitoolCount),1)])):(0,i.Q3)("",!0)])])])]),(0,i.Lk)("div",{class:(0,a.C4)(["alert",Ut.summaryAlertClass])},[(0,i.Lk)("div",L,[(0,i.Lk)("div",_,[(0,i.Lk)("h5",w,[(0,i.Lk)("i",{class:(0,a.C4)(["fas",Ut.summaryIcon])},null,2),(0,i.eW)(" Found "+(0,a.v_)(Ut.totalCitations)+" Citations ",1),Ut.verifiedCount>0?((0,i.uX)(),(0,i.CE)("span",E,[(0,i.Lk)("span",x,(0,a.v_)(Ut.verifiedCount)+" Verified",1)])):(0,i.Q3)("",!0),Ut.unverifiedCount>0?((0,i.uX)(),(0,i.CE)("span",A,[(0,i.Lk)("span",T,(0,a.v_)(Ut.unverifiedCount)+" Unverified",1)])):(0,i.Q3)("",!0),Ut.unlikelyCount>0?((0,i.uX)(),(0,i.CE)("span",S,[(0,i.Lk)("span",I,(0,a.v_)(Ut.unlikelyCount)+" Unlikely",1)])):(0,i.Q3)("",!0)])])])],2),(0,i.Lk)("ul",R,[(0,i.Lk)("li",F,[(0,i.Lk)("button",{class:(0,a.C4)(["nav-link",{active:"verified"===Dt.activeTab}]),onClick:e[0]||(e[0]=function(t){return Dt.activeTab="verified"}),type:"button"},[e[12]||(e[12]=(0,i.Lk)("i",{class:"fas fa-check-circle me-2"},null,-1)),e[13]||(e[13]=(0,i.eW)(" Verified ")),(0,i.Lk)("span",X,(0,a.v_)(Ut.verifiedCount),1)],2)]),(0,i.Lk)("li",N,[(0,i.Lk)("button",{class:(0,a.C4)(["nav-link",{active:"unverified"===Dt.activeTab}]),onClick:e[1]||(e[1]=function(t){return Dt.activeTab="unverified"}),type:"button"},[e[14]||(e[14]=(0,i.Lk)("i",{class:"fas fa-question-circle me-2"},null,-1)),e[15]||(e[15]=(0,i.eW)(" Unverified ")),(0,i.Lk)("span",M,(0,a.v_)(Ut.unverifiedCount),1)],2)]),(0,i.Lk)("li",O,[(0,i.Lk)("button",{class:(0,a.C4)(["nav-link",{active:"unlikely"===Dt.activeTab}]),onClick:e[2]||(e[2]=function(t){return Dt.activeTab="unlikely"}),type:"button"},[e[16]||(e[16]=(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),e[17]||(e[17]=(0,i.eW)(" Unlikely ")),Ut.unlikelyCount>0?((0,i.uX)(),(0,i.CE)("span",P,(0,a.v_)(Ut.unlikelyCount),1)):(0,i.Q3)("",!0)],2)])]),(0,i.Lk)("div",D,[(0,i.Lk)("div",{class:(0,a.C4)(["tab-pane fade",{show:"citations"===Dt.activeTab,active:"citations"===Dt.activeTab}])},[Ut.allCitations.length>0?((0,i.uX)(),(0,i.CE)("div",U,[(0,i.Lk)("table",W,[e[20]||(e[20]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Status"),(0,i.Lk)("th",null,"Verified By"),(0,i.Lk)("th",null,"Details")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Ut.allCitations,(function(t,n){return(0,i.uX)(),(0,i.CE)("tr",{key:"citation-"+n},[(0,i.Lk)("td",null,(0,a.v_)(Ut.formatCitation(t)),1),(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:(0,a.C4)(["badge",Ut.getStatusBadgeClass(t)])},(0,a.v_)(Ut.getStatusText(t)),3)]),(0,i.Lk)("td",null,[t.validation_method?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,a.C4)(["badge",Ut.getBadgeClass(t.validation_method)])},(0,a.v_)(t.validation_method),3)):(0,i.Q3)("",!0)]),(0,i.Lk)("td",null,[(0,i.Lk)("button",{class:"btn btn-sm btn-outline-primary",onClick:function(e){return Ut.showCitationDetails(t)}},e[18]||(e[18]=[(0,i.Lk)("i",{class:"fas fa-eye"},null,-1),(0,i.eW)(" View ")]),8,z),(0,i.Lk)("button",{class:"btn btn-sm btn-outline-secondary ms-1",onClick:function(e){return Ut.showCitationSuggestions(t)}},e[19]||(e[19]=[(0,i.Lk)("i",{class:"fas fa-info-circle"},null,-1),(0,i.eW)(" Details ")]),8,V)])])})),128))])])])):((0,i.uX)(),(0,i.CE)("div",B," No citations found in this document. "))],2),(0,i.Lk)("div",{class:(0,a.C4)(["tab-pane fade",{show:"unlikely"===Dt.activeTab,active:"unlikely"===Dt.activeTab}])},[Ut.unlikelyCitations.length>0?((0,i.uX)(),(0,i.CE)("div",Q,[(0,i.Lk)("table",j,[e[22]||(e[22]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Reason"),(0,i.Lk)("th",null,"Actions")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Ut.unlikelyCitations,(function(t,n){return(0,i.uX)(),(0,i.CE)("tr",{key:"unlikely-"+n},[(0,i.Lk)("td",null,(0,a.v_)(Ut.formatCitation(t)),1),(0,i.Lk)("td",null,(0,a.v_)(t.reason||"Not a valid citation"),1),(0,i.Lk)("td",null,[(0,i.Lk)("button",{class:"btn btn-sm btn-outline-primary",onClick:function(e){return Ut.showCitationDetails(t)}},e[21]||(e[21]=[(0,i.Lk)("i",{class:"fas fa-eye"},null,-1),(0,i.eW)(" View ")]),8,G)])])})),128))])])])):((0,i.uX)(),(0,i.CE)("div",H," No unlikely citations found. "))],2),(0,i.bo)((0,i.Lk)("div",$,[Ut.verifiedCitations.length>0?((0,i.uX)(),(0,i.CE)("div",K,[(0,i.Lk)("table",q,[e[25]||(e[25]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Status"),(0,i.Lk)("th",null,"Validation Method"),(0,i.Lk)("th",null,"Case Name")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Ut.verifiedCitations,(function(n,s){return(0,i.uX)(),(0,i.CE)("tr",{key:"verified-"+s},[(0,i.Lk)("td",null,[(0,i.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:function(e){return t.showCitationContext(n)}},e[23]||(e[23]=[(0,i.Lk)("i",{class:"fas fa-eye"},null,-1),(0,i.eW)(" View ")]),8,J)]),(0,i.Lk)("td",null,[(0,i.Lk)("button",{class:"btn btn-sm btn-outline-info",onClick:function(t){return Ut.showCitationDetails(n)}},e[24]||(e[24]=[(0,i.Lk)("i",{class:"fas fa-info-circle"},null,-1),(0,i.eW)(" Details ")]),8,Y)]),(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:(0,a.C4)(["badge",Ut.getBadgeClass(n.validation_method)])},(0,a.v_)(n.validation_method||"Unknown"),3)]),(0,i.Lk)("td",null,(0,a.v_)(n.case_name||"N/A"),1)])})),128))])])])):((0,i.uX)(),(0,i.CE)("div",Z," No verified citations found. "))],512),[[s.aG,"verified"===Dt.activeTab]]),(0,i.bo)((0,i.Lk)("div",tt,[t.unverifiedCitations.length>0?((0,i.uX)(),(0,i.CE)("div",et,[(0,i.Lk)("table",nt,[e[28]||(e[28]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation"),(0,i.Lk)("th",null,"Status"),(0,i.Lk)("th",null,"Validation Method"),(0,i.Lk)("th",null,"Case Name"),(0,i.Lk)("th",null,"Error")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.unverifiedCitations,(function(t,n){var s;return(0,i.uX)(),(0,i.CE)("tr",{key:"unverified-"+n},[(0,i.Lk)("td",{innerHTML:Ut.formatCitation(t.citation||t.citation_text)},null,8,it),e[27]||(e[27]=(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:"badge bg-warning text-dark"},[(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-1"}),(0,i.eW)(" Unverified ")])],-1)),(0,i.Lk)("td",null,[(0,i.Lk)("span",{class:(0,a.C4)(["badge",Ut.getBadgeClass(t.validation_method)])},(0,a.v_)(t.validation_method||"Unknown"),3)]),(0,i.Lk)("td",null,(0,a.v_)(t.case_name||"N/A"),1),(0,i.Lk)("td",null,[null!==(s=t.metadata)&&void 0!==s&&s.explanation?((0,i.uX)(),(0,i.CE)("span",at,[e[26]||(e[26]=(0,i.Lk)("i",{class:"fas fa-info-circle me-1"},null,-1)),(0,i.eW)(" "+(0,a.v_)(t.metadata.explanation),1)])):((0,i.uX)(),(0,i.CE)("span",st,"-"))])])})),128))])])])):((0,i.uX)(),(0,i.CE)("div",ot," No unverified citations found. "))],512),[[s.aG,"unverified"===Dt.activeTab]]),(0,i.bo)((0,i.Lk)("div",rt,[Ut.unlikelyCitations.length>0?((0,i.uX)(),(0,i.CE)("div",lt,[(0,i.Lk)("table",ct,[e[29]||(e[29]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Citation Text"),(0,i.Lk)("th",null,"Reason"),(0,i.Lk)("th",null,"Details")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Ut.unlikelyCitations,(function(t,e){var n;return(0,i.uX)(),(0,i.CE)("tr",{key:"unlikely-"+e},[(0,i.Lk)("td",null,(0,a.v_)(t.citation||t.citation_text||t.text||"N/A"),1),(0,i.Lk)("td",null,[(0,i.Lk)("span",ut,(0,a.v_)((null===(n=t.metadata)||void 0===n?void 0:n.invalid_reason)||"Invalid format"),1)]),(0,i.Lk)("td",null,[t.metadata?((0,i.uX)(),(0,i.CE)("div",dt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.metadata,(function(t,e){return(0,i.uX)(),(0,i.CE)("div",{key:e},[(0,i.Lk)("strong",null,(0,a.v_)(e)+":",1),(0,i.eW)(" "+(0,a.v_)(t),1)])})),128))])):(0,i.Q3)("",!0)])])})),128))])])])):((0,i.uX)(),(0,i.CE)("div",ft," No unlikely citations detected. "))],512),[[s.aG,"unlikely"===Dt.activeTab]])])])):((0,i.uX)(),(0,i.CE)("div",c,e[5]||(e[5]=[(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-2"},null,-1),(0,i.eW)(" Unable to display citation results. The data format is invalid or missing. ")])))]),(0,i.Lk)("div",vt,[(0,i.Lk)("div",mt,[(0,i.Lk)("div",gt,[e[42]||(e[42]=(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title"},"Citation Details"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),Dt.selectedCitation?((0,i.uX)(),(0,i.CE)("div",pt,[(0,i.Lk)("div",kt,[(0,i.Lk)("div",ht,[e[34]||(e[34]=(0,i.Lk)("h6",null,"Citation Information",-1)),(0,i.Lk)("p",null,[e[30]||(e[30]=(0,i.Lk)("strong",null,"Citation:",-1)),(0,i.eW)(" "+(0,a.v_)(Dt.selectedCitation.citation_text),1)]),(0,i.Lk)("p",null,[e[31]||(e[31]=(0,i.Lk)("strong",null,"Case Name:",-1)),(0,i.eW)(" "+(0,a.v_)(Dt.selectedCitation.case_name||"N/A"),1)]),(0,i.Lk)("p",null,[e[32]||(e[32]=(0,i.Lk)("strong",null,"Source:",-1)),(0,i.eW)(" "+(0,a.v_)(Dt.selectedCitation.source),1)]),(0,i.Lk)("p",null,[e[33]||(e[33]=(0,i.Lk)("strong",null,"Validation Method:",-1)),(0,i.eW)(" "+(0,a.v_)(Dt.selectedCitation.validation_method),1)])]),(0,i.Lk)("div",bt,[e[40]||(e[40]=(0,i.Lk)("h6",null,"Additional Details",-1)),Dt.selectedCitation.volume?((0,i.uX)(),(0,i.CE)("p",Ct,[e[35]||(e[35]=(0,i.Lk)("strong",null,"Volume:",-1)),(0,i.eW)(" "+(0,a.v_)(Dt.selectedCitation.volume),1)])):(0,i.Q3)("",!0),Dt.selectedCitation.reporter?((0,i.uX)(),(0,i.CE)("p",yt,[e[36]||(e[36]=(0,i.Lk)("strong",null,"Reporter:",-1)),(0,i.eW)(" "+(0,a.v_)(Dt.selectedCitation.reporter),1)])):(0,i.Q3)("",!0),Dt.selectedCitation.page?((0,i.uX)(),(0,i.CE)("p",Lt,[e[37]||(e[37]=(0,i.Lk)("strong",null,"Page:",-1)),(0,i.eW)(" "+(0,a.v_)(Dt.selectedCitation.page),1)])):(0,i.Q3)("",!0),Dt.selectedCitation.court?((0,i.uX)(),(0,i.CE)("p",_t,[e[38]||(e[38]=(0,i.Lk)("strong",null,"Court:",-1)),(0,i.eW)(" "+(0,a.v_)(Dt.selectedCitation.court),1)])):(0,i.Q3)("",!0),Dt.selectedCitation.year?((0,i.uX)(),(0,i.CE)("p",wt,[e[39]||(e[39]=(0,i.Lk)("strong",null,"Year:",-1)),(0,i.eW)(" "+(0,a.v_)(Dt.selectedCitation.year),1)])):(0,i.Q3)("",!0)])]),Dt.selectedCitation.parallel_citations&&Dt.selectedCitation.parallel_citations.length>0?((0,i.uX)(),(0,i.CE)("div",Et,[e[41]||(e[41]=(0,i.Lk)("h6",null,"Parallel Citations",-1)),(0,i.Lk)("ul",xt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Dt.selectedCitation.parallel_citations,(function(t){return(0,i.uX)(),(0,i.CE)("li",{key:t,class:"list-group-item"},(0,a.v_)(t),1)})),128))])])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)])])]),(0,i.Lk)("div",At,[(0,i.Lk)("div",Tt,[(0,i.Lk)("div",St,[e[45]||(e[45]=(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title"},"Citation Suggestions"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),Dt.selectedCitation?((0,i.uX)(),(0,i.CE)("div",It,[e[44]||(e[44]=(0,i.Lk)("div",{class:"alert alert-warning"},[(0,i.Lk)("i",{class:"fas fa-exclamation-triangle me-2"}),(0,i.eW)(" This citation could not be verified. Here are some suggestions: ")],-1)),Dt.selectedCitation.suggestions&&Dt.selectedCitation.suggestions.length>0?((0,i.uX)(),(0,i.CE)("div",Rt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Dt.selectedCitation.suggestions,(function(t,n){return(0,i.uX)(),(0,i.CE)("div",{key:n,class:"card mb-3"},[(0,i.Lk)("div",Ft,[(0,i.Lk)("h6",Xt,"Suggestion "+(0,a.v_)(n+1),1),(0,i.Lk)("p",Nt,(0,a.v_)(t.explanation),1),t.citation?((0,i.uX)(),(0,i.CE)("div",Mt,[e[43]||(e[43]=(0,i.Lk)("strong",null,"Suggested Citation:",-1)),(0,i.eW)(" "+(0,a.v_)(t.citation),1)])):(0,i.Q3)("",!0)])])})),128))])):((0,i.uX)(),(0,i.CE)("div",Ot," No specific suggestions available for this citation. "))])):(0,i.Q3)("",!0)])])])],64)}var Dt=n(9201),Ut=(n(6280),n(6918),n(2008),n(4423),n(4346),n(8598),n(2062),n(4114),n(5086),n(1688),n(739),n(3288),n(8111),n(2489),n(1701),n(3579),n(3110),n(9432),n(6099),n(1699),n(454)),Wt=n(3300);const zt={methods:{validateCitationData:function(){if(this.validationErrors=[],!this.results)return this.validationErrors.push("No results data provided"),!1;var t=this.results.validation_results||this.results.citations||[];if(!t.length)return this.validationErrors.push("No citations found in results"),!1;var e=t[0],n=["citation","citation_text","case_name","status"],i=n.filter((function(t){return!(t in e)}));return!(i.length>0)||(this.validationErrors.push("Missing required fields in citation data: ".concat(i.join(", "))),!1)},updateProcessedCitations:function(){try{var t,e;this.validationErrors=[];var n=(null===(t=this.results)||void 0===t?void 0:t.validation_results)||(null===(e=this.results)||void 0===e?void 0:e.citations)||[];if(!n.length)return console.warn("[CitationResults] No citations found in results:",this.results),this.processedCitationsCache=[],[];var i=n.map((function(t){var e,n,i,a,s,o,r;if(!t)return null;var l=(0,Dt.A)({citation:t.citation||"",citation_text:t.citation_text||t.citation||"",case_name:t.case_name||"Unknown Case",status:t.status||"unknown",metadata:(0,Dt.A)((0,Dt.A)({},t.metadata||{}),{},{url:(null===(e=t.metadata)||void 0===e?void 0:e.url)||t.url||"",source:(null===(n=t.metadata)||void 0===n?void 0:n.source)||t.source||"unknown",verified:(null===(i=t.metadata)||void 0===i?void 0:i.verified)||t.verified||!1,timestamp:(null===(a=t.metadata)||void 0===a?void 0:a.timestamp)||(new Date).toISOString()}),context:t.context||(null===(s=t.metadata)||void 0===s?void 0:s.context)||"",content:t.content||t.context||(null===(o=t.metadata)||void 0===o?void 0:o.context)||"",validation_method:t.validation_method||(null===(r=t.metadata)||void 0===r?void 0:r.validation_method)||"unknown",verified:t.verified||!1},t);return l})).filter(Boolean);return this.processedCitationsCache=i,i.length>0&&console.log("[CitationResults] First processed citation:",JSON.parse(JSON.stringify(i[0]))),i}catch(a){return console.error("[CitationResults] Error processing citations:",a),this.validationErrors=this.validationErrors||[],this.validationErrors.push("Error processing citations: ".concat(a.message)),this.processedCitationsCache=[],[]}},formatCitation:Wt.P,logCitation:function(t){console.log("Citation clicked:",t)},getBadgeClass:function(t){if(!t)return"bg-secondary";var e=t.toLowerCase();return e.includes("courtlistener")?"bg-success":e.includes("local")||e.includes("search")?"bg-info":e.includes("multitool")?"bg-primary":"bg-secondary"},getStatusBadgeClass:function(t){return t?"verified"===t.status?"bg-success":"unverified"===t.status?"bg-warning text-dark":"unlikely"===t.status?"bg-danger":"bg-secondary":"bg-secondary"},getStatusText:function(t){return t?"verified"===t.status?"Verified":"unverified"===t.status?"Unverified":"unlikely"===t.status?"Unlikely":t.status||"Unknown":"Unknown"},showCitationDetails:function(t){var e,n,i,a,s;if(t){if(this.selectedCitation=(0,Dt.A)({citation:t.citation||"",citation_text:t.citation_text||t.citation||"",case_name:t.case_name||"Unknown Case",source:t.source||"unknown",validation_method:t.validation_method||"unknown",volume:t.volume||"",reporter:t.reporter||"",page:t.page||"",court:t.court||"",year:t.year||"",parallel_citations:Array.isArray(t.parallel_citations)?t.parallel_citations:[],suggestions:Array.isArray(t.suggestions)?t.suggestions:[],metadata:(0,Dt.A)((0,Dt.A)({},t.metadata||{}),{},{url:(null===(e=t.metadata)||void 0===e?void 0:e.url)||t.url||"",source:(null===(n=t.metadata)||void 0===n?void 0:n.source)||t.source||"unknown",verified:(null===(i=t.metadata)||void 0===i?void 0:i.verified)||t.verified||!1,timestamp:(null===(a=t.metadata)||void 0===a?void 0:a.timestamp)||(new Date).toISOString()})},t),this.currentContext=t.context||(null===(s=t.metadata)||void 0===s?void 0:s.context)||"No context available",this.showSuggestions=!1,!this.detailsModal){var o=document.getElementById("citationDetailsModal");if(!o)return void console.error("Could not find citation details modal element");this.detailsModal=new Ut.aF(o)}try{this.detailsModal.show()}catch(r){console.error("Error showing citation details modal:",r)}}},showCitationSuggestions:function(t){var e,n,i,a,s,o;if(t){if(this.selectedCitation=(0,Dt.A)((0,Dt.A)({citation:t.citation||"",citation_text:t.citation_text||t.citation||"",case_name:t.case_name||"Unknown Case",source:t.source||"unknown",validation_method:t.validation_method||"unknown",metadata:(0,Dt.A)((0,Dt.A)({},t.metadata||{}),{},{url:(null===(e=t.metadata)||void 0===e?void 0:e.url)||t.url||"",source:(null===(n=t.metadata)||void 0===n?void 0:n.source)||t.source||"unknown",verified:(null===(i=t.metadata)||void 0===i?void 0:i.verified)||t.verified||!1,timestamp:(null===(a=t.metadata)||void 0===a?void 0:a.timestamp)||(new Date).toISOString(),suggestions:Array.isArray(null===(s=t.metadata)||void 0===s?void 0:s.suggestions)?t.metadata.suggestions:Array.isArray(t.suggestions)?t.suggestions:[]})},t),{},{suggestions:Array.isArray(t.suggestions)?t.suggestions:Array.isArray(null===(o=t.metadata)||void 0===o?void 0:o.suggestions)?t.metadata.suggestions:[]}),this.currentSuggestions=this.selectedCitation.suggestions,this.showSuggestions=!0,!this.suggestionsModal){var r=document.getElementById("citationSuggestionsModal");if(!r)return void console.error("Could not find citation suggestions modal element");this.suggestionsModal=new Ut.aF(r)}try{this.suggestionsModal.show()}catch(l){console.error("Error showing suggestions modal:",l)}}},copyToClipboard:function(t){navigator.clipboard.writeText(t).then((function(){console.log("Copied to clipboard")}))["catch"]((function(t){console.error("Could not copy text: ",t)}))}},name:"CitationResults",props:{results:{type:Object,required:!0,validator:function(t){var e=Array.isArray(null===t||void 0===t?void 0:t.validation_results)||Array.isArray(null===t||void 0===t?void 0:t.citations);return e||console.error("[CitationResults] Invalid results prop: missing validation_results or citations array",t),e},default:function(){return{validation_results:[],citations:[],total_citations:0,verified_count:0,unverified_count:0}}}},data:function(){return console.log("[CitationResults] Initializing with results:",this.results),{activeTab:"citations",selectedCitation:null,detailsModal:null,suggestionsModal:null,loading:!1,showDebug:!1,debugInfo:"",currentSuggestions:[],showSuggestions:!1,currentContext:"",validationErrors:[],processedCitationsCache:[]}},computed:{hasTechnicalError:function(){return!(!this.results||!this.results.validation_results)&&this.results.validation_results.some((function(t){return t.metadata&&t.metadata.explanation&&t.metadata.explanation.toLowerCase().includes("technical error")}))},allCitations:function(){var t,e=this;return null!==(t=this.results)&&void 0!==t&&t.validation_results?this.results.validation_results.filter((function(t){return!e.isUnlikelyCitation(t)})):[]},unlikelyCitations:function(){var t,e=this;return null!==(t=this.results)&&void 0!==t&&t.validation_results?this.results.validation_results.filter((function(t){return e.isUnlikelyCitation(t)})):[]},multitoolCount:function(){return this.allCitations.filter((function(t){return t.validation_method&&t.validation_method.toLowerCase().includes("multitool")})).length},isUnlikelyCitation:function(){return function(t){return"unlikely"===t.status||t.metadata&&t.metadata.is_unlikely}},processedCitations:function(){return this.processedCitationsCache},safeCitations:function(){return this.processedCitationsCache},totalCitations:function(){var t,e;return void 0!==(null===(t=this.results)||void 0===t?void 0:t.total_citations)?this.results.total_citations:void 0!==(null===(e=this.results)||void 0===e?void 0:e.citations_count)?this.results.citations_count:this.safeCitations.length},verifiedCount:function(){var t;return void 0!==(null===(t=this.results)||void 0===t?void 0:t.confirmed_count)?this.results.confirmed_count:this.safeCitations.filter((function(t){return"verified"===t.status})).length},confirmedByCL:function(){var t;return void 0!==(null===(t=this.results)||void 0===t?void 0:t.confirmed_count)?this.results.confirmed_count:this.safeCitations.filter((function(t){return"verified"===t.status&&"CourtListener"===t.validation_method})).length},confirmedByLS:function(){var t;return void 0!==(null===(t=this.results)||void 0===t?void 0:t.local_search_count)?this.results.local_search_count:this.safeCitations.filter((function(t){return"verified"===t.status&&"LocalSearch"===t.validation_method})).length},unverifiedCount:function(){var t,e;return void 0!==(null===(t=this.results)||void 0===t?void 0:t.unverified_count)?this.results.unverified_count:void 0!==(null===(e=this.results)||void 0===e?void 0:e.unconfirmed_count)?this.results.unconfirmed_count:this.safeCitations.filter((function(t){return"unverified"===t.status})).length},unlikelyCount:function(){var t;return void 0!==(null===(t=this.results)||void 0===t?void 0:t.unlikely_count)?this.results.unlikely_count:this.safeCitations.filter((function(t){return"unlikely"===t.status||t.metadata&&t.metadata.is_unlikely})).length},verifiedCitations:function(){return this.safeCitations.filter((function(t){return"verified"===t.status}))},courtListenerCitations:function(){return this.safeCitations.filter((function(t){return"verified"===t.status&&"CourtListener"===t.validation_method}))},elsewhereCitations:function(){return this.safeCitations.filter((function(t){return"verified"===t.status&&"CourtListener"!==t.validation_method}))},notFoundCitations:function(){return this.safeCitations.filter((function(t){return"not_found"===t.status}))},courtListenerCount:function(){return this.confirmedByCL},elsewhereCount:function(){return this.confirmedByLS},notFoundCount:function(){return this.unverifiedCount},summaryAlertClass:function(){return this.unverifiedCount>0||this.unlikelyCount>0?"alert-warning":"alert-success"},summaryIcon:function(){return this.unlikelyCount>0?"fa-exclamation-triangle text-warning":this.unverifiedCount>0?"fa-question-circle text-warning":"fa-check-circle text-success"}},watch:{results:{handler:function(){this.updateProcessedCitations()},deep:!0,immediate:!0}},mounted:function(){try{var t=document.getElementById("citationDetailsModal"),e=document.getElementById("citationSuggestionsModal");if(!t||!e)throw new Error("Required modal elements not found in DOM");this.detailsModal=new Ut.aF(t),this.suggestionsModal=new Ut.aF(e),console.log("[CitationResults] Component mounted with modals initialized"),this.updateProcessedCitations(),this.unlikelyCount>0?this.activeTab="unlikely":this.unverifiedCount>0?this.activeTab="unverified":this.verifiedCount>0?this.activeTab="verified":this.activeTab="citations",this.validateCitationData()}catch(n){console.error("[CitationResults] Error initializing component:",n),this.validationErrors=this.validationErrors||[],this.validationErrors.push("Initialization error: ".concat(n.message))}},beforeUnmount:function(){console.log("[CitationResults] Component unmounting");try{this.detailsModal&&(this.detailsModal.dispose(),console.log("[CitationResults] Details modal disposed")),this.suggestionsModal&&(this.suggestionsModal.dispose(),console.log("[CitationResults] Suggestions modal disposed"))}catch(t){console.error("[CitationResults] Error during cleanup:",t)}}};var Vt=n(6262);const Bt=(0,Vt.A)(zt,[["render",Pt],["__scopeId","data-v-2a531cc0"]]),Qt=Bt},8430:(t,e,n)=>{n.d(e,{A:()=>o});n(8706);var i=n(2505),a=n.n(i),s="/casestrainer/api";const o={analyzeBriefText:function(t,e){return a().post("/casestrainer/api/analyze",{text:t,api_key:e})},analyzeFile:function(t){return a().post("/casestrainer/api/analyze",t,{headers:{"Content-Type":"multipart/form-data"}})},analyzeFilePath:function(t,e){return a().post("/casestrainer/api/analyze",{file_path:t,api_key:e})},getAnalysisStatus:function(t){return a().get("".concat(s,"/status?analysis_id=").concat(t))},getUnconfirmedCitations:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a().post("".concat(s,"/unconfirmed_citations_data"),t)},getMultitoolConfirmedCitations:function(){return a().get("".concat(s,"/confirmed_with_multitool_data"))},getCorrectionSuggestions:function(t){return a().post("".concat(s,"/correction_suggestions"),{citation:t})},getCitationNetworkData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a().get("".concat(s,"/citation_network_data?filter=").concat(t,"&depth=").concat(e))},trainMLClassifier:function(){return a().post("".concat(s,"/train_ml_classifier"))},classifyCitation:function(t,e){return a().post("".concat(s,"/classify_citation"),{citation:t,case_name:e})},getTestCitations:function(t,e,n){return a().get("".concat(s,"/citation_tester_data"),{params:{count:t,include_confirmed:e,include_unconfirmed:n}})},exportCitations:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a().post("".concat(s,"/export_citations"),{format:t,filters:e})},verifyCitation:function(t,e){return a().post("".concat(s,"/verify_citation"),{citation:t,case_name:e})}}}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.m=t,(()=>{var t=[];n.O=(e,i,a,s)=>{if(!i){var o=1/0;for(u=0;u<t.length;u++){for(var[i,a,s]=t[u],r=!0,l=0;l<i.length;l++)(!1&s||o>=s)&&Object.keys(n.O).every((t=>n.O[t](i[l])))?i.splice(l--,1):(r=!1,s<o&&(o=s));if(r){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[i,a,s]}})(),(()=>{n.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return n.d(e,{a:e}),e}})(),(()=>{n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}})(),(()=>{n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,i)=>(n.f[i](t,e),e)),[]))})(),(()=>{n.u=t=>"js/"+t+"."+{114:"ac5dbeec",198:"954fb006",335:"327b7116",342:"64c9d96f",762:"2bbbcdeb",765:"41851bf7",999:"9987c00a"}[t]+".js"})(),(()=>{n.miniCssF=t=>"css/"+t+"."+{114:"f91a3a05",342:"9789d246",999:"9ade380a"}[t]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={},e="casestrainer-vue:";n.l=(i,a,s,o)=>{if(t[i])t[i].push(a);else{var r,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==e+s){r=d;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",e+s),r.src=i),t[i]=[a];var f=(e,n)=>{r.onerror=r.onload=null,clearTimeout(v);var a=t[i];if(delete t[i],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((t=>t(n))),e)return e(n)},v=setTimeout(f.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=f.bind(null,r.onerror),r.onload=f.bind(null,r.onload),l&&document.head.appendChild(r)}}})(),(()=>{n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{n.p="/"})(),(()=>{if("undefined"!==typeof document){var t=(t,e,i,a,s)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",n.nc&&(o.nonce=n.nc);var r=n=>{if(o.onerror=o.onload=null,"load"===n.type)a();else{var i=n&&n.type,r=n&&n.target&&n.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+i+": "+r+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=r,o.parentNode&&o.parentNode.removeChild(o),s(l)}};return o.onerror=o.onload=r,o.href=e,i?i.parentNode.insertBefore(o,i.nextSibling):document.head.appendChild(o),o},e=(t,e)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var a=n[i],s=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(s===t||s===e))return a}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){a=o[i],s=a.getAttribute("data-href");if(s===t||s===e)return a}},i=i=>new Promise(((a,s)=>{var o=n.miniCssF(i),r=n.p+o;if(e(o,r))return a();t(i,r,null,a,s)})),a={524:0};n.f.miniCss=(t,e)=>{var n={114:1,342:1,999:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=i(t).then((()=>{a[t]=0}),(e=>{throw delete a[t],e})))}}})(),(()=>{var t={524:0};n.f.j=(e,i)=>{var a=n.o(t,e)?t[e]:void 0;if(0!==a)if(a)i.push(a[2]);else{var s=new Promise(((n,i)=>a=t[e]=[n,i]));i.push(a[2]=s);var o=n.p+n.u(e),r=new Error,l=i=>{if(n.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;r.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",r.name="ChunkLoadError",r.type=s,r.request=o,a[1](r)}};n.l(o,l,"chunk-"+e,e)}},n.O.j=e=>0===t[e];var e=(e,i)=>{var a,s,[o,r,l]=i,c=0;if(o.some((e=>0!==t[e]))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var u=l(n)}for(e&&e(i);c<o.length;c++)s=o[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(u)},i=self["webpackChunkcasestrainer_vue"]=self["webpackChunkcasestrainer_vue"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var i=n.O(void 0,[504],(()=>n(2960)));i=n.O(i)})();
//# sourceMappingURL=app.bb16c47b.js.map