2025-09-16 12:29:08,143 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 52
2025-09-16 12:29:08,144 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 53
2025-09-16 12:29:08,145 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 54
2025-09-16 12:29:08,146 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 55
2025-09-16 12:29:08,146 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 56
2025-09-16 12:29:08,147 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 57
2025-09-16 12:29:08,164 - __main__ - INFO - === Starting Citation Processing Test ===
2025-09-16 12:29:08,165 - __main__ - INFO - Created 3 test citations
2025-09-16 12:29:08,166 - __main__ - INFO - Initializing UnifiedCitationClusterer...
2025-09-16 12:29:08,166 - src.unified_citation_clustering - INFO - UnifiedCitationClusterer initialized with configuration:
2025-09-16 12:29:08,167 - src.unified_citation_clustering - INFO - - Debug mode: True
2025-09-16 12:29:08,167 - src.unified_citation_clustering - INFO - - Proximity threshold: 200
2025-09-16 12:29:08,168 - src.unified_citation_clustering - INFO - - Min cluster size: 1
2025-09-16 12:29:08,168 - src.unified_citation_clustering - INFO - - Case name similarity threshold: 0.8
2025-09-16 12:29:08,169 - src.unified_citation_clustering - INFO - - Verification enabled: True
2025-09-16 12:29:08,169 - src.unified_citation_clustering - INFO -   - Verification config: {'enable_courtlistener': True, 'enable_fallback_sources': True, 'enable_confidence_scoring': True, 'min_confidence_threshold': 0.7}
2025-09-16 12:29:08,170 - __main__ - INFO - Running citation clustering...
2025-09-16 12:29:08,170 - src.unified_citation_clustering - INFO - Starting clustering with verification enabled
2025-09-16 12:29:08,171 - src.unified_citation_clustering - INFO - Starting unified clustering for 3 citations
2025-09-16 12:29:08,171 - src.unified_citation_clustering - INFO - Step 1: Detecting parallel citations and creating clusters
2025-09-16 12:29:08,172 - src.unified_citation_clustering - INFO - Detected 3 parallel citation groups (including proximity-based)
2025-09-16 12:29:08,172 - src.unified_citation_clustering - INFO - Step 2: Extracting case names from first and years from last in each cluster
2025-09-16 12:29:08,173 - src.unified_citation_clustering - INFO - Step 3: Verifying citations with CourtListener API
2025-09-16 12:29:08,793 - src.unified_citation_clustering - INFO - Batch verifying 3 citations with CourtListener API
2025-09-16 12:29:08,794 - src.unified_citation_clustering - INFO - Processing batch 1/1 (3 citations)
2025-09-16 12:29:08,798 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.courtlistener.com:443
2025-09-16 12:29:09,020 - urllib3.connectionpool - DEBUG - https://www.courtlistener.com:443 "POST /api/rest/v4/citation-lookup/ HTTP/1.1" 200 None
2025-09-16 12:29:09,055 - src.unified_citation_clustering - INFO - Applying comprehensive verification to 1 unverified citations
2025-09-16 12:29:09,147 - src.unified_citation_clustering - INFO - Applying enhanced fallback verification to 1 unverified citations
2025-09-16 12:29:09,148 - src.unified_citation_clustering - INFO - Attempting enhanced fallback verification for: 789 F.2d 123
2025-09-16 12:29:09,148 - asyncio - DEBUG - Using proactor: IocpProactor
2025-09-16 12:29:09,150 - asyncio - DEBUG - Using proactor: IocpProactor
2025-09-16 12:29:09,176 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.courtlistener.com:443
2025-09-16 12:29:09,288 - urllib3.connectionpool - DEBUG - https://www.courtlistener.com:443 "POST /api/rest/v4/citation-lookup/ HTTP/1.1" 200 180
2025-09-16 12:29:09,290 - src.enhanced_fallback_verifier - INFO - CourtListener failed for 789 F.2d 123, proceeding with enhanced fallback verification
2025-09-16 12:29:09,298 - src.enhanced_fallback_verifier - INFO - Configured 10 verification sources: ['casemine', 'descrybe', 'findlaw', 'leagle', 'vlex', 'justia', 'google', 'bing', 'duckduckgo', 'scrapingbee']
2025-09-16 12:29:09,546 - src.enhanced_fallback_verifier - INFO - Created 20 verification tasks for 10 sources
2025-09-16 12:29:09,548 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.casemine.com:443
2025-09-16 12:29:09,802 - urllib3.connectionpool - DEBUG - https://www.casemine.com:443 "GET /search/us?q=%22789%20F.2d%20123%22 HTTP/1.1" 301 0
2025-09-16 12:29:10,270 - urllib3.connectionpool - DEBUG - https://www.casemine.com:443 "GET /search/us/%22789%20F%28DOT%292d%20123%22 HTTP/1.1" 200 None
2025-09-16 12:29:10,353 - urllib3.connectionpool - DEBUG - https://www.casemine.com:443 "GET /search/us?q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 301 0
2025-09-16 12:29:12,022 - urllib3.connectionpool - DEBUG - https://www.casemine.com:443 "GET /search/us/%22789%20F%28DOT%292d%20123%22%20court%20decision HTTP/1.1" 200 None
2025-09-16 12:29:12,038 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): descrybe.ai:443
2025-09-16 12:29:12,219 - urllib3.connectionpool - DEBUG - https://descrybe.ai:443 "GET /search?q=%22789+F.2d+123%22&type=cases HTTP/1.1" 200 None
2025-09-16 12:29:12,341 - urllib3.connectionpool - DEBUG - https://descrybe.ai:443 "GET /search?q=%22789+F.2d+123%22+court+decision&type=cases HTTP/1.1" 200 None
2025-09-16 12:29:12,344 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): caselaw.findlaw.com:443
2025-09-16 12:29:12,379 - urllib3.connectionpool - DEBUG - https://caselaw.findlaw.com:443 "GET /search?query=%22789%20F.2d%20123%22 HTTP/1.1" 403 None
2025-09-16 12:29:12,545 - urllib3.connectionpool - DEBUG - Resetting dropped connection: caselaw.findlaw.com
2025-09-16 12:29:12,601 - urllib3.connectionpool - DEBUG - https://caselaw.findlaw.com:443 "GET /search?query=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 403 None
2025-09-16 12:29:12,605 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.leagle.com:443
2025-09-16 12:29:12,704 - urllib3.connectionpool - DEBUG - https://www.leagle.com:443 "GET /search?query=%22789%20F.2d%20123%22 HTTP/1.1" 200 None
2025-09-16 12:29:13,033 - urllib3.connectionpool - DEBUG - https://www.leagle.com:443 "GET /search?query=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 200 None
2025-09-16 12:29:13,216 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): vlex.com:443
2025-09-16 12:29:13,250 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?q=%22789%20F.2d%20123%22 HTTP/1.1" 200 None
2025-09-16 12:29:13,585 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?query=%22789%20F.2d%20123%22 HTTP/1.1" 301 None
2025-09-16 12:29:13,587 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): vlex.com:80
2025-09-16 12:29:13,601 - urllib3.connectionpool - DEBUG - http://vlex.com:80 "GET / HTTP/1.1" 301 167
2025-09-16 12:29:13,867 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET / HTTP/1.1" 200 None
2025-09-16 12:29:13,935 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?search=%22789%20F.2d%20123%22 HTTP/1.1" 301 None
2025-09-16 12:29:13,940 - urllib3.connectionpool - DEBUG - http://vlex.com:80 "GET / HTTP/1.1" 301 167
2025-09-16 12:29:14,206 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET / HTTP/1.1" 200 None
2025-09-16 12:29:14,276 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 200 None
2025-09-16 12:29:14,476 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?query=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 301 None
2025-09-16 12:29:14,480 - urllib3.connectionpool - DEBUG - http://vlex.com:80 "GET / HTTP/1.1" 301 167
2025-09-16 12:29:14,756 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET / HTTP/1.1" 200 None
2025-09-16 12:29:14,828 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?search=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 301 None
2025-09-16 12:29:15,181 - urllib3.connectionpool - DEBUG - http://vlex.com:80 "GET / HTTP/1.1" 301 167
2025-09-16 12:29:15,453 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET / HTTP/1.1" 200 None
2025-09-16 12:29:15,519 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): law.justia.com:443
2025-09-16 12:29:15,551 - urllib3.connectionpool - DEBUG - https://law.justia.com:443 "GET /search?query=%22789%20F.2d%20123%22 HTTP/1.1" 403 919
2025-09-16 12:29:15,723 - urllib3.connectionpool - DEBUG - https://law.justia.com:443 "GET /search?query=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 403 919
2025-09-16 12:29:15,726 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): scholar.google.com:443
2025-09-16 12:29:15,819 - urllib3.connectionpool - DEBUG - https://scholar.google.com:443 "GET /scholar_courts?hl=en&as_sdt=0,33&q=%22789%20F.2d%20123%22 HTTP/1.1" 200 None
2025-09-16 12:29:16,051 - urllib3.connectionpool - DEBUG - https://scholar.google.com:443 "GET /scholar_courts?hl=en&as_sdt=0,33&q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 200 None
2025-09-16 12:29:16,129 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.bing.com:443
2025-09-16 12:29:16,197 - urllib3.connectionpool - DEBUG - https://www.bing.com:443 "GET /search?q=%22789%20F.2d%20123%22 HTTP/1.1" 200 None
2025-09-16 12:29:16,371 - urllib3.connectionpool - DEBUG - https://www.bing.com:443 "GET /search?q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 200 None
2025-09-16 12:29:16,423 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): duckduckgo.com:443
2025-09-16 12:29:16,455 - urllib3.connectionpool - DEBUG - https://duckduckgo.com:443 "GET /html/?q=%22789%20F.2d%20123%22 HTTP/1.1" 302 138
2025-09-16 12:29:16,458 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): html.duckduckgo.com:443
2025-09-16 12:29:16,524 - urllib3.connectionpool - DEBUG - https://html.duckduckgo.com:443 "GET /html/?q=%22789%20F.2d%20123%22 HTTP/1.1" 202 None
2025-09-16 12:29:16,629 - urllib3.connectionpool - DEBUG - https://duckduckgo.com:443 "GET /html/?q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 302 138
2025-09-16 12:29:16,666 - urllib3.connectionpool - DEBUG - https://html.duckduckgo.com:443 "GET /html/?q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 202 None
2025-09-16 12:29:16,679 - src.enhanced_fallback_verifier - WARNING - ScrapingBee API key not configured. Set SCRAPINGBEE_API_KEY in config/scrapingbee_config.py or environment variable
2025-09-16 12:29:16,690 - src.enhanced_fallback_verifier - WARNING - ScrapingBee API key not configured. Set SCRAPINGBEE_API_KEY in config/scrapingbee_config.py or environment variable
2025-09-16 12:29:16,699 - src.unified_citation_clustering - INFO - DEBUG: Verification result for 789 F.2d 123: {'verified': False, 'source': 'fallback_not_found', 'canonical_name': None, 'canonical_date': None, 'url': None, 'canonical_url': None, 'confidence': 0.0, 'error': 'Verification not_found'}
2025-09-16 12:29:16,700 - src.unified_citation_clustering - INFO - DEBUG: Result keys: ['verified', 'source', 'canonical_name', 'canonical_date', 'url', 'canonical_url', 'confidence', 'error']
2025-09-16 12:29:16,700 - src.unified_citation_clustering - INFO - DEBUG: Source field: fallback_not_found
2025-09-16 12:29:16,701 - src.unified_citation_clustering - INFO - DEBUG: Verified field: False
2025-09-16 12:29:16,703 - src.unified_citation_clustering - INFO - Step 4: Merging clusters based on propagated extracted case names and years
2025-09-16 12:29:16,703 - src.unified_citation_clustering - INFO - Merged 3 initial clusters into 3 final clusters (preserving parallel relationships)
2025-09-16 12:29:16,704 - src.unified_citation_clustering - INFO - Step 5: Propagating verification status to parallel citations
2025-09-16 12:29:16,704 - src.unified_citation_clustering - INFO - Propagating verification status across 3 clusters
2025-09-16 12:29:16,705 - src.unified_citation_clustering - INFO - Verification propagation completed
2025-09-16 12:29:16,705 - src.unified_citation_clustering - INFO - Unified clustering completed: 3 clusters created
2025-09-16 12:29:16,706 - __main__ - INFO - 
=== Clustering Results (3 clusters) ===
2025-09-16 12:29:16,706 - __main__ - INFO - 
Cluster 1:
2025-09-16 12:29:16,707 - __main__ - INFO -   Citations in cluster: 1
2025-09-16 12:29:16,707 - __main__ - ERROR - Error processing citation: dictionary update sequence element #0 has length 1; 2 is required
2025-09-16 12:29:16,707 - __main__ - INFO - 
Cluster 2:
2025-09-16 12:29:16,708 - __main__ - INFO -   Citations in cluster: 1
2025-09-16 12:29:16,708 - __main__ - ERROR - Error processing citation: dictionary update sequence element #0 has length 1; 2 is required
2025-09-16 12:29:16,708 - __main__ - INFO - 
Cluster 3:
2025-09-16 12:29:16,709 - __main__ - INFO -   Citations in cluster: 1
2025-09-16 12:29:16,709 - __main__ - ERROR - Error processing citation: dictionary update sequence element #0 has length 1; 2 is required
2025-09-16 12:29:16,710 - __main__ - INFO - 
=== Test Completed Successfully ===
2025-09-16 12:30:20,758 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 52
2025-09-16 12:30:20,759 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 53
2025-09-16 12:30:20,759 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 54
2025-09-16 12:30:20,760 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 55
2025-09-16 12:30:20,760 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 56
2025-09-16 12:30:20,761 - dotenv.main - WARNING - python-dotenv could not parse statement starting at line 57
2025-09-16 12:30:20,776 - __main__ - INFO - === Starting Citation Processing Test ===
2025-09-16 12:30:20,776 - __main__ - INFO - Created 3 test citations
2025-09-16 12:30:20,777 - __main__ - INFO - Initializing UnifiedCitationClusterer...
2025-09-16 12:30:20,777 - src.unified_citation_clustering - INFO - UnifiedCitationClusterer initialized with configuration:
2025-09-16 12:30:20,778 - src.unified_citation_clustering - INFO - - Debug mode: True
2025-09-16 12:30:20,778 - src.unified_citation_clustering - INFO - - Proximity threshold: 200
2025-09-16 12:30:20,778 - src.unified_citation_clustering - INFO - - Min cluster size: 1
2025-09-16 12:30:20,779 - src.unified_citation_clustering - INFO - - Case name similarity threshold: 0.8
2025-09-16 12:30:20,779 - src.unified_citation_clustering - INFO - - Verification enabled: True
2025-09-16 12:30:20,779 - src.unified_citation_clustering - INFO -   - Verification config: {'enable_courtlistener': True, 'enable_fallback_sources': True, 'enable_confidence_scoring': True, 'min_confidence_threshold': 0.7}
2025-09-16 12:30:20,780 - __main__ - INFO - Running citation clustering...
2025-09-16 12:30:20,780 - src.unified_citation_clustering - INFO - Starting clustering with verification enabled
2025-09-16 12:30:20,781 - src.unified_citation_clustering - INFO - Starting unified clustering for 3 citations
2025-09-16 12:30:20,781 - src.unified_citation_clustering - INFO - Step 1: Detecting parallel citations and creating clusters
2025-09-16 12:30:20,781 - src.unified_citation_clustering - INFO - Detected 3 parallel citation groups (including proximity-based)
2025-09-16 12:30:20,782 - src.unified_citation_clustering - INFO - Step 2: Extracting case names from first and years from last in each cluster
2025-09-16 12:30:20,782 - src.unified_citation_clustering - INFO - Step 3: Verifying citations with CourtListener API
2025-09-16 12:30:21,320 - src.unified_citation_clustering - INFO - Batch verifying 3 citations with CourtListener API
2025-09-16 12:30:21,321 - src.unified_citation_clustering - INFO - Processing batch 1/1 (3 citations)
2025-09-16 12:30:21,325 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.courtlistener.com:443
2025-09-16 12:30:21,626 - urllib3.connectionpool - DEBUG - https://www.courtlistener.com:443 "POST /api/rest/v4/citation-lookup/ HTTP/1.1" 200 None
2025-09-16 12:30:21,628 - src.unified_citation_clustering - INFO - ✓ API verified: 123 F.3d 456 -> Mary Santaella and Cary Eldridge v. Metropolitan Life Insurance Company (1997)
2025-09-16 12:30:21,629 - src.unified_citation_clustering - INFO - ✓ API verified: 456 U.S. 789 -> Federal Energy Regulatory Commission v. Mississippi (1982)
2025-09-16 12:30:21,629 - src.unified_citation_clustering - INFO - ✓ Verified: 123 F.3d 456 -> Mary Santaella and Cary Eldridge v. Metropolitan Life Insurance Company
2025-09-16 12:30:21,630 - src.unified_citation_clustering - INFO - ✓ Verified: 456 U.S. 789 -> Federal Energy Regulatory Commission v. Mississippi
2025-09-16 12:30:21,631 - src.unified_citation_clustering - INFO - ✗ Unverified: 789 F.2d 123 - No clusters found in API response
2025-09-16 12:30:21,631 - src.unified_citation_clustering - INFO - Applying comprehensive verification to 1 unverified citations
2025-09-16 12:30:21,720 - src.unified_citation_clustering - INFO - Applying enhanced fallback verification to 1 unverified citations
2025-09-16 12:30:21,721 - src.unified_citation_clustering - INFO - Attempting enhanced fallback verification for: 789 F.2d 123
2025-09-16 12:30:21,721 - asyncio - DEBUG - Using proactor: IocpProactor
2025-09-16 12:30:21,723 - asyncio - DEBUG - Using proactor: IocpProactor
2025-09-16 12:30:21,724 - src.enhanced_fallback_verifier - INFO - 🚀 HYBRID VERIFICATION CALLED for 789 F.2d 123
2025-09-16 12:30:21,734 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.courtlistener.com:443
2025-09-16 12:30:21,871 - urllib3.connectionpool - DEBUG - https://www.courtlistener.com:443 "POST /api/rest/v4/citation-lookup/ HTTP/1.1" 200 180
2025-09-16 12:30:21,873 - src.enhanced_fallback_verifier - INFO - CourtListener failed for 789 F.2d 123, proceeding with enhanced fallback verification
2025-09-16 12:30:21,881 - src.enhanced_fallback_verifier - INFO - Configured 10 verification sources: ['casemine', 'descrybe', 'findlaw', 'leagle', 'vlex', 'justia', 'google', 'bing', 'duckduckgo', 'scrapingbee']
2025-09-16 12:30:21,882 - src.enhanced_fallback_verifier - INFO - 🔍 Processing 10 verification sources: ['casemine', 'descrybe', 'findlaw', 'leagle', 'vlex', 'justia', 'google', 'bing', 'duckduckgo', 'scrapingbee']
2025-09-16 12:30:21,882 - src.enhanced_fallback_verifier - INFO - 📋 Processing source casemine with max_queries=2 and timeout=8.0s
2025-09-16 12:30:21,883 - src.enhanced_fallback_verifier - INFO - ✅ Created task for casemine with query: "789 F.2d 123"... and timeout: 8.0s
2025-09-16 12:30:21,883 - src.enhanced_fallback_verifier - INFO - ✅ Created task for casemine with query: "789 F.2d 123" court decision... and timeout: 8.0s
2025-09-16 12:30:21,883 - src.enhanced_fallback_verifier - INFO - 📋 Processing source descrybe with max_queries=2 and timeout=8.0s
2025-09-16 12:30:21,884 - src.enhanced_fallback_verifier - INFO - ✅ Created task for descrybe with query: "789 F.2d 123"... and timeout: 8.0s
2025-09-16 12:30:21,884 - src.enhanced_fallback_verifier - INFO - ✅ Created task for descrybe with query: "789 F.2d 123" court decision... and timeout: 8.0s
2025-09-16 12:30:21,885 - src.enhanced_fallback_verifier - INFO - 📋 Processing source findlaw with max_queries=2 and timeout=8.0s
2025-09-16 12:30:21,885 - src.enhanced_fallback_verifier - INFO - ✅ Created task for findlaw with query: "789 F.2d 123"... and timeout: 8.0s
2025-09-16 12:30:21,886 - src.enhanced_fallback_verifier - INFO - ✅ Created task for findlaw with query: "789 F.2d 123" court decision... and timeout: 8.0s
2025-09-16 12:30:21,886 - src.enhanced_fallback_verifier - INFO - 📋 Processing source leagle with max_queries=2 and timeout=8.0s
2025-09-16 12:30:21,887 - src.enhanced_fallback_verifier - INFO - ✅ Created task for leagle with query: "789 F.2d 123"... and timeout: 8.0s
2025-09-16 12:30:21,887 - src.enhanced_fallback_verifier - INFO - ✅ Created task for leagle with query: "789 F.2d 123" court decision... and timeout: 8.0s
2025-09-16 12:30:21,888 - src.enhanced_fallback_verifier - INFO - 📋 Processing source vlex with max_queries=2 and timeout=8.0s
2025-09-16 12:30:21,888 - src.enhanced_fallback_verifier - INFO - ✅ Created task for vlex with query: "789 F.2d 123"... and timeout: 8.0s
2025-09-16 12:30:21,889 - src.enhanced_fallback_verifier - INFO - ✅ Created task for vlex with query: "789 F.2d 123" court decision... and timeout: 8.0s
2025-09-16 12:30:21,889 - src.enhanced_fallback_verifier - INFO - 📋 Processing source justia with max_queries=2 and timeout=8.0s
2025-09-16 12:30:21,890 - src.enhanced_fallback_verifier - INFO - ✅ Created task for justia with query: "789 F.2d 123"... and timeout: 8.0s
2025-09-16 12:30:21,890 - src.enhanced_fallback_verifier - INFO - ✅ Created task for justia with query: "789 F.2d 123" court decision... and timeout: 8.0s
2025-09-16 12:30:21,891 - src.enhanced_fallback_verifier - INFO - 📋 Processing source google with max_queries=2 and timeout=6.0s
2025-09-16 12:30:21,891 - src.enhanced_fallback_verifier - INFO - ✅ Created task for google with query: "789 F.2d 123"... and timeout: 6.0s
2025-09-16 12:30:21,892 - src.enhanced_fallback_verifier - INFO - ✅ Created task for google with query: "789 F.2d 123" court decision... and timeout: 6.0s
2025-09-16 12:30:21,893 - src.enhanced_fallback_verifier - INFO - 📋 Processing source bing with max_queries=2 and timeout=6.0s
2025-09-16 12:30:21,893 - src.enhanced_fallback_verifier - INFO - ✅ Created task for bing with query: "789 F.2d 123"... and timeout: 6.0s
2025-09-16 12:30:21,894 - src.enhanced_fallback_verifier - INFO - ✅ Created task for bing with query: "789 F.2d 123" court decision... and timeout: 6.0s
2025-09-16 12:30:21,894 - src.enhanced_fallback_verifier - INFO - 📋 Processing source duckduckgo with max_queries=2 and timeout=6.0s
2025-09-16 12:30:21,895 - src.enhanced_fallback_verifier - INFO - ✅ Created task for duckduckgo with query: "789 F.2d 123"... and timeout: 6.0s
2025-09-16 12:30:21,895 - src.enhanced_fallback_verifier - INFO - ✅ Created task for duckduckgo with query: "789 F.2d 123" court decision... and timeout: 6.0s
2025-09-16 12:30:21,896 - src.enhanced_fallback_verifier - INFO - 📋 Processing source scrapingbee with max_queries=2 and timeout=4.0s
2025-09-16 12:30:21,896 - src.enhanced_fallback_verifier - INFO - ✅ Created task for scrapingbee with query: "789 F.2d 123"... and timeout: 4.0s
2025-09-16 12:30:21,897 - src.enhanced_fallback_verifier - INFO - ✅ Created task for scrapingbee with query: "789 F.2d 123" court decision... and timeout: 4.0s
2025-09-16 12:30:21,898 - src.enhanced_fallback_verifier - INFO - Created 20 verification tasks for 10 sources
2025-09-16 12:30:21,900 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.casemine.com:443
2025-09-16 12:30:22,170 - urllib3.connectionpool - DEBUG - https://www.casemine.com:443 "GET /search/us?q=%22789%20F.2d%20123%22 HTTP/1.1" 301 0
2025-09-16 12:30:22,581 - urllib3.connectionpool - DEBUG - https://www.casemine.com:443 "GET /search/us/%22789%20F%28DOT%292d%20123%22 HTTP/1.1" 200 None
2025-09-16 12:30:22,666 - urllib3.connectionpool - DEBUG - https://www.casemine.com:443 "GET /search/us?q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 301 0
2025-09-16 12:30:25,685 - urllib3.connectionpool - DEBUG - https://www.casemine.com:443 "GET /search/us/%22789%20F%28DOT%292d%20123%22%20court%20decision HTTP/1.1" 200 None
2025-09-16 12:30:25,699 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): descrybe.ai:443
2025-09-16 12:30:25,882 - urllib3.connectionpool - DEBUG - https://descrybe.ai:443 "GET /search?q=%22789+F.2d+123%22&type=cases HTTP/1.1" 200 None
2025-09-16 12:30:26,004 - urllib3.connectionpool - DEBUG - https://descrybe.ai:443 "GET /search?q=%22789+F.2d+123%22+court+decision&type=cases HTTP/1.1" 200 None
2025-09-16 12:30:26,006 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): caselaw.findlaw.com:443
2025-09-16 12:30:26,041 - urllib3.connectionpool - DEBUG - https://caselaw.findlaw.com:443 "GET /search?query=%22789%20F.2d%20123%22 HTTP/1.1" 403 None
2025-09-16 12:30:26,207 - urllib3.connectionpool - DEBUG - Resetting dropped connection: caselaw.findlaw.com
2025-09-16 12:30:26,263 - urllib3.connectionpool - DEBUG - https://caselaw.findlaw.com:443 "GET /search?query=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 403 None
2025-09-16 12:30:26,274 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.leagle.com:443
2025-09-16 12:30:26,381 - urllib3.connectionpool - DEBUG - https://www.leagle.com:443 "GET /search?query=%22789%20F.2d%20123%22 HTTP/1.1" 200 None
2025-09-16 12:30:26,538 - urllib3.connectionpool - DEBUG - https://www.leagle.com:443 "GET /search?query=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 200 None
2025-09-16 12:30:26,541 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): vlex.com:443
2025-09-16 12:30:26,563 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?q=%22789%20F.2d%20123%22 HTTP/1.1" 200 None
2025-09-16 12:30:26,746 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?query=%22789%20F.2d%20123%22 HTTP/1.1" 301 None
2025-09-16 12:30:26,748 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): vlex.com:80
2025-09-16 12:30:26,762 - urllib3.connectionpool - DEBUG - http://vlex.com:80 "GET / HTTP/1.1" 301 167
2025-09-16 12:30:27,043 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET / HTTP/1.1" 200 None
2025-09-16 12:30:27,116 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?search=%22789%20F.2d%20123%22 HTTP/1.1" 301 None
2025-09-16 12:30:27,120 - urllib3.connectionpool - DEBUG - http://vlex.com:80 "GET / HTTP/1.1" 301 167
2025-09-16 12:30:27,396 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET / HTTP/1.1" 200 None
2025-09-16 12:30:27,467 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 200 None
2025-09-16 12:30:27,667 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?query=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 301 None
2025-09-16 12:30:27,671 - urllib3.connectionpool - DEBUG - http://vlex.com:80 "GET / HTTP/1.1" 301 167
2025-09-16 12:30:27,925 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET / HTTP/1.1" 200 None
2025-09-16 12:30:27,989 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET /search?search=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 301 None
2025-09-16 12:30:27,993 - urllib3.connectionpool - DEBUG - http://vlex.com:80 "GET / HTTP/1.1" 301 167
2025-09-16 12:30:28,267 - urllib3.connectionpool - DEBUG - https://vlex.com:443 "GET / HTTP/1.1" 200 None
2025-09-16 12:30:28,335 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): law.justia.com:443
2025-09-16 12:30:28,365 - urllib3.connectionpool - DEBUG - https://law.justia.com:443 "GET /search?query=%22789%20F.2d%20123%22 HTTP/1.1" 403 919
2025-09-16 12:30:28,539 - urllib3.connectionpool - DEBUG - https://law.justia.com:443 "GET /search?query=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 403 919
2025-09-16 12:30:28,542 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): scholar.google.com:443
2025-09-16 12:30:28,859 - urllib3.connectionpool - DEBUG - https://scholar.google.com:443 "GET /scholar_courts?hl=en&as_sdt=0,33&q=%22789%20F.2d%20123%22 HTTP/1.1" 200 None
2025-09-16 12:30:29,022 - urllib3.connectionpool - DEBUG - https://scholar.google.com:443 "GET /scholar_courts?hl=en&as_sdt=0,33&q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 200 None
2025-09-16 12:30:29,098 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): www.bing.com:443
2025-09-16 12:30:29,229 - urllib3.connectionpool - DEBUG - https://www.bing.com:443 "GET /search?q=%22789%20F.2d%20123%22 HTTP/1.1" 200 None
2025-09-16 12:30:29,501 - urllib3.connectionpool - DEBUG - https://www.bing.com:443 "GET /search?q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 200 42120
2025-09-16 12:30:29,507 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): duckduckgo.com:443
2025-09-16 12:30:29,540 - urllib3.connectionpool - DEBUG - https://duckduckgo.com:443 "GET /html/?q=%22789%20F.2d%20123%22 HTTP/1.1" 302 138
2025-09-16 12:30:29,543 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): html.duckduckgo.com:443
2025-09-16 12:30:29,610 - urllib3.connectionpool - DEBUG - https://html.duckduckgo.com:443 "GET /html/?q=%22789%20F.2d%20123%22 HTTP/1.1" 202 None
2025-09-16 12:30:29,714 - urllib3.connectionpool - DEBUG - https://duckduckgo.com:443 "GET /html/?q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 302 138
2025-09-16 12:30:29,754 - urllib3.connectionpool - DEBUG - https://html.duckduckgo.com:443 "GET /html/?q=%22789%20F.2d%20123%22%20court%20decision HTTP/1.1" 202 None
2025-09-16 12:30:29,755 - src.enhanced_fallback_verifier - INFO - 🔄 LAST RESORT: Using ScrapingBee for 789 F.2d 123 (free sources failed)
2025-09-16 12:30:29,755 - src.enhanced_fallback_verifier - WARNING - ScrapingBee API key not configured. Set SCRAPINGBEE_API_KEY in config/scrapingbee_config.py or environment variable
2025-09-16 12:30:29,756 - src.enhanced_fallback_verifier - INFO - 🔄 LAST RESORT: Using ScrapingBee for 789 F.2d 123 (free sources failed)
2025-09-16 12:30:29,756 - src.enhanced_fallback_verifier - WARNING - ScrapingBee API key not configured. Set SCRAPINGBEE_API_KEY in config/scrapingbee_config.py or environment variable
2025-09-16 12:30:29,757 - src.enhanced_fallback_verifier - INFO - 🔄 No results from free sources for 789 F.2d 123, ScrapingBee was used as last resort
2025-09-16 12:30:29,758 - src.unified_citation_clustering - INFO - DEBUG: Verification result for 789 F.2d 123: {'verified': False, 'source': 'fallback_not_found', 'canonical_name': None, 'canonical_date': None, 'url': None, 'canonical_url': None, 'confidence': 0.0, 'error': 'Verification not_found'}
2025-09-16 12:30:29,759 - src.unified_citation_clustering - INFO - DEBUG: Result keys: ['verified', 'source', 'canonical_name', 'canonical_date', 'url', 'canonical_url', 'confidence', 'error']
2025-09-16 12:30:29,759 - src.unified_citation_clustering - INFO - DEBUG: Source field: fallback_not_found
2025-09-16 12:30:29,760 - src.unified_citation_clustering - INFO - DEBUG: Verified field: False
2025-09-16 12:30:29,762 - src.unified_citation_clustering - INFO - Step 4: Merging clusters based on propagated extracted case names and years
2025-09-16 12:30:29,762 - src.unified_citation_clustering - INFO - Merged 3 initial clusters into 3 final clusters (preserving parallel relationships)
2025-09-16 12:30:29,763 - src.unified_citation_clustering - INFO - Step 5: Propagating verification status to parallel citations
2025-09-16 12:30:29,763 - src.unified_citation_clustering - INFO - Propagating verification status across 3 clusters
2025-09-16 12:30:29,764 - src.unified_citation_clustering - INFO - Verification propagation completed
2025-09-16 12:30:29,764 - src.unified_citation_clustering - INFO - Unified clustering completed: 3 clusters created
2025-09-16 12:30:29,765 - __main__ - INFO - 
=== Clustering Results (3 clusters) ===
2025-09-16 12:30:29,765 - __main__ - INFO - 
Cluster 1:
2025-09-16 12:30:29,765 - __main__ - INFO -   Citations in cluster: 1
2025-09-16 12:30:29,766 - __main__ - ERROR - Error processing citation: dictionary update sequence element #0 has length 1; 2 is required
2025-09-16 12:30:29,766 - __main__ - INFO - 
Cluster 2:
2025-09-16 12:30:29,767 - __main__ - INFO -   Citations in cluster: 1
2025-09-16 12:30:29,767 - __main__ - ERROR - Error processing citation: dictionary update sequence element #0 has length 1; 2 is required
2025-09-16 12:30:29,768 - __main__ - INFO - 
Cluster 3:
2025-09-16 12:30:29,768 - __main__ - INFO -   Citations in cluster: 1
2025-09-16 12:30:29,768 - __main__ - ERROR - Error processing citation: dictionary update sequence element #0 has length 1; 2 is required
2025-09-16 12:30:29,769 - __main__ - INFO - 
=== Test Completed Successfully ===
2025-09-16 13:49:38,813 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:49:38,898 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:49:39,134 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:49:39,221 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:49:39,478 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:49:39,901 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:49:40,092 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:49:40,205 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:49:40,374 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:49:41,256 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:54:26,572 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:54:26,645 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:54:26,875 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:54:26,953 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:54:27,601 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:54:27,666 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:54:48,103 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:54:48,176 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:54:48,305 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:54:48,372 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:57:25,131 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:57:25,190 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:57:25,407 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:57:25,482 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:57:26,311 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:57:26,383 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:57:26,938 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:57:27,002 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
2025-09-16 13:57:27,110 - enhanced_courtlistener_verification - INFO - Sending batch verification request for 1 citations to CourtListener API
2025-09-16 13:57:27,401 - enhanced_courtlistener_verification - WARNING - CourtListener batch API error: 400 - {"non_field_errors":["Either 'text' or 'reporter' is required."]}
